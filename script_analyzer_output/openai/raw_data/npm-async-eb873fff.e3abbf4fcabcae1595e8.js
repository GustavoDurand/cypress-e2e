/*! For license information please see npm-async-eb873fff.e3abbf4fcabcae1595e8.js.LICENSE.txt */
(self.__LOADABLE_LOADED_CHUNKS__=self.__LOADABLE_LOADED_CHUNKS__||[]).push([[3975],{52499:(e,t,r)=>{"use strict";r.r(t),r.d(t,{default:()=>_});var i=function(e,t){return i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r])},i(e,t)};function n(e,t){function r(){this.constructor=e}i(e,t),e.prototype=null===t?Object.create(t):(r.prototype=t.prototype,new r)}var a,o=function(){return o=Object.assign||function(e){for(var t,r=1,i=arguments.length;r<i;r++)for(var n in t=arguments[r])Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n]);return e},o.apply(this,arguments)};!function(e){e[e.Failure=0]="Failure",e[e.Success=1]="Success",e[e.Unauthorized=-1]="Unauthorized",e[e.NotExist=-2]="NotExist"}(a||(a={}));var s=function(){function e(e){this.version=e.version||"2.0.2",this.nativeMethodInvoker=e.nativeMethodInvoker,this.nativeEventListener=e.nativeEventListener,this.scheme=e.scheme||"nativeapp://",this.dispatchMessagePath=e.dispatchMessagePath||"dispatch_message/",this.setResultPath=e.setResultPath||"private/setresult/SCENE_FETCHQUEUE",this.dispatchMessageIFrameId=e.dispatchMessageIFrameId||"__JSBridgeIframe__",this.setResultIFrameId=e.setResultIFrameId||"__JSBridgeIframe_SetResult__",this.listenNativeEvent=!0===e.listenNativeEvent,this.callbackId=1023,this.callbackMap={},this.eventMap={},this.javascriptMessageQueue=[],this.callbackProcessor=e.callbackProcessor}return e.prototype.call=function(e,t,r,i){void 0===i&&(i=this.version);var n,a=this.version;if(e&&"string"==typeof e){"object"!=typeof t&&(t={}),"string"==typeof i?a=i||this.version:"object"==typeof i&&(n=i.namespace,a=i.sdkVersion||this.version);var o={func:e,params:t,JSSDK:a,__msg_type:"call",namespace:n};if("function"==typeof r||void 0===r){var s=this.registerCallback(e,r);o.__callback_id=s}"undefined"==typeof __PIA_WORKER__&&window.parent!==window&&(o.__iframe_url=window.location.href),this.sendMessageToNative(o)}},e.prototype.on=function(e,t,r){if(void 0===r&&(r=!1),e&&"string"==typeof e&&"function"==typeof t){var i=this.registerCallback(e,t);return this.eventMap[e]=this.eventMap[e]||{},this.eventMap[e][i]={once:r},this.listenNativeEvent&&(this.nativeEventListener?this.nativeEventListener(e):this.call("addEventListener",{name:e},null,{sdkVersion:1})),i}},e.prototype.once=function(e,t){return this.on(e,t,!0)},e.prototype.off=function(e,t){if(!e||"string"!=typeof e)return!0;var r=this.eventMap[e];return!r||"object"!=typeof r||!r.hasOwnProperty(t)||(this.deregisterCallback(t),delete r[t],!0)},e.prototype.trigger=function(e,t){return this.handleMessageFromNative({__msg_type:"event",__params:t,__event_id:e})},e.prototype.handleMessageFromNative=function(e){var t=this,r=e,i=String(r.__callback_id);if(this.callbackProcessor&&"function"==typeof this.callbackProcessor){var n=(this.callbackMap&&this.callbackMap[i]||{}).method;this.callbackProcessor(r,n)}var a=r.__params,o=String(r.__event_id||""),s=r.__msg_type;this.callbackMap[i]?s="callback":this.eventMap[i]&&(s="event",o=o||i);var l={__err_code:"cb404"};switch(s){case"callback":var u=(this.callbackMap&&this.callbackMap[i]||{}).callback;"function"==typeof u&&(l=u(a)),this.deregisterCallback(i);break;case"event":var c=this.eventMap[o];c&&"object"==typeof c&&Object.keys(c).forEach((function(e){var r=(t.callbackMap&&t.callbackMap[e]||{}).callback,i=c[e];"function"==typeof r&&(l=r(a)),i&&i.once&&(t.deregisterCallback(e),delete c[e])}))}return l},e.prototype.fetchJavaScriptMessageQueue=function(){var e=JSON.stringify(this.javascriptMessageQueue),t=btoa(unescape(encodeURIComponent(e)));return this.setResultIFrame&&this.javascriptMessageQueue.length>0&&(this.setResultIFrame.src=""+this.scheme+this.setResultPath+"&"+t),this.javascriptMessageQueue.splice(0,this.javascriptMessageQueue.length),e},e.prototype.sendMessageToNative=function(e){if("1"!==String(e.JSSDK)&&this.nativeMethodInvoker){var t=this.nativeMethodInvoker(e);if(t){var r=JSON.parse(t);this.handleMessageFromNative(r)}}else this.javascriptMessageQueue.push(e),this.dispatchMessageIFrame||this.tryCreateIFrames(),this.dispatchMessageIFrame.src=""+this.scheme+this.dispatchMessagePath},e.prototype.registerCallback=function(e,t){var r=String(this.callbackId++);return this.callbackMap[r]={method:e,callback:t},r},e.prototype.deregisterCallback=function(e){delete this.callbackMap[e]},e.prototype.tryCreateIFrames=function(){this.dispatchMessageIFrame=this.createIFrame(this.dispatchMessageIFrameId),this.setResultIFrame=this.createIFrame(this.setResultIFrameId)},e.prototype.createIFrame=function(e){var t=document.getElementById(e);return t&&"IFRAME"===t.tagName||((t=document.createElement("iframe")).style.display="none",t.id=e,document.documentElement.appendChild(t)),t},e}(),l="2.2.15",u="undefined"!=typeof __PIA_WORKER__?new Function("return this")():"undefined"!=typeof window?window:{},c=void 0!==u&&u.navigator?u.navigator.userAgent:"",f=(!!c.match(/(newsarticle|videoarticle|lv|faceu|ulike|beauty_me_|faceu-os|ulike-os|beauty_me_oversea_|retouch)\/([\d.]+)/i)||/super|automobile/gi.test(c))&&!/webcast/gi.test(c)&&!/luckycatversion/gi.test(c),d=!!c.match(/(faceu)\/([\d.]+)/i)||/gsdk/gi.test(c)||/PIANativeWorker/gi.test(c),h=!!c.match(/ttad\/0/i),p=!!c.match(/aweme|trill|musical_ly|phoenix_\d+|TikTokNow_\d+/i),v=!!c.match(/live_stream/i),m=!!c.match(/Webcast/i),g=!!c.match(/super/i),y=!!c.match(/life_service_merchant/i),b=/super/gi.test(c);function E(){var e;if(f)return u.JSBridge&&u.JSBridge.on?e=u.JSBridge.on:u.JS2NativeBridge&&u.JS2NativeBridge.on?e=function(e){var t={JSSDK:l,__msg_type:"event",__callback_id:e,func:e};u.JS2NativeBridge.on(e,JSON.stringify(t))}:u.webkit&&u.webkit.messageHandlers&&u.webkit.messageHandlers.onMethodParams?e=function(e){var t={JSSDK:l,__msg_type:"event",__callback_id:e,func:e};u.webkit.messageHandlers.onMethodParams.postMessage(t)}:u.onMethodParams&&(e=function(e){var t={JSSDK:l,__msg_type:"event",__callback_id:e,func:e};return u.onMethodParams(e,t)}),e}function C(e,t){if(("string"!=typeof t||!0!==/^(x|tc)\./.test(t))&&(p||v||m||y)){var r=e.__params;u.JS2NativeBridge&&u.JS2NativeBridge._invokeMethod&&(e.__params=o({code:r.code},r.data))}}var S=function(e){function t(){var t=e.call(this,{version:l,scheme:"bytedance://",listenNativeEvent:!0,dispatchMessageIFrameId:"__JSBridgeIframe_1.0__",setResultIFrameId:"__JSBridgeIframe_SetResult_1.0__",nativeEventListener:E(),callbackProcessor:C})||this;return t.publicApi={call:t.call.bind(t),on:t.on.bind(t),once:t.once.bind(t),off:t.off.bind(t),trigger:t.trigger.bind(t),_fetchQueue:t.fetchJavaScriptMessageQueue.bind(t),_handleMessageFromToutiao:t.handleMessageFromNative.bind(t)},t}return n(t,e),t.prototype.exposePublicApiToGlobal=function(){u.ToutiaoJSBridge=Object.assign(u.ToutiaoJSBridge||{},this.publicApi)},t}(s),w=function(e){function t(t){var r,i=e.call(this,{version:l,nativeMethodInvoker:(u.JS2NativeBridge&&u.JS2NativeBridge._invokeMethod?r=function(e){return u.JS2NativeBridge._invokeMethod(JSON.stringify(e))}:u.ToutiaoJSBridge&&u.ToutiaoJSBridge.invokeMethod?r=function(e){return u.ToutiaoJSBridge.invokeMethod(JSON.stringify(e))}:u.JS2NativeBridge&&u.JS2NativeBridge.call?r=function(e){return u.JS2NativeBridge.call(e.func,JSON.stringify(e))}:u.webkit&&u.webkit.messageHandlers&&u.webkit.messageHandlers.callMethodParams?r=function(e){u.webkit.messageHandlers.callMethodParams.postMessage(e)}:u.callMethodParams&&(r=function(e){return u.callMethodParams(e.func,e)}),r),nativeEventListener:E(),scheme:g?"bds://":b?"bytedance://":f||u.JSBridge&&u.JSBridge._invokeMethod?"nativeapp://":"bytedance://",listenNativeEvent:f,callbackProcessor:C})||this;return i.toutiaoLegacyJSB=t,i.publicApi={call:i.call.bind(i),on:i.on.bind(i),once:i.once.bind(i),off:i.off.bind(i),trigger:i.trigger.bind(i),_fetchQueue:i.fetchJavaScriptMessageQueue.bind(i),_handleMessageFromApp:i.handleMessageFromNative.bind(i),_handleMessageFromToutiao:i.handleMessageFromNative.bind(i)},i}return n(t,e),t.prototype.call=function(t,r,i,n){void 0===n&&(n=l),this.isLegacyCall(t)?this.toutiaoLegacyJSB.call(t,r,i,n):e.prototype.call.call(this,t,r,i,n)},t.prototype.on=function(t,r,i,n){return void 0===i&&(i=!1),(n||{}).useLegacy||this.isLegacyCall(t)?this.toutiaoLegacyJSB.on(t,r,i):e.prototype.on.call(this,t,r,i)},t.prototype.once=function(t,r){return this.isLegacyCall(t)?this.toutiaoLegacyJSB.once(t,r):e.prototype.once.call(this,t,r)},t.prototype.off=function(t,r){return this.isLegacyCall(t)?this.toutiaoLegacyJSB.off(t,r):e.prototype.off.call(this,t,r)},t.prototype.trigger=function(t,r){return this.isLegacyCall(t)?this.toutiaoLegacyJSB.trigger(t,r):e.prototype.trigger.call(this,t,r)},t.prototype.exposePublicApiToGlobal=function(){var e=this;u.JSBridge=Object.assign(u.JSBridge||{},this.publicApi),u.__DISABLE_JSB_PROTOCAL2__||(u.Native2JSBridge=Object.assign(u.Native2JSBridge||{},this.publicApi)),b?u.ToutiaoJSBridge=Object.assign(u.ToutiaoJSBridge||{},this.publicApi):(f||h)&&this.toutiaoLegacyJSB?this.toutiaoLegacyJSB.exposePublicApiToGlobal():u.ToutiaoJSBridge=Object.assign(u.ToutiaoJSBridge||{},this.publicApi),u.parent!==u&&u.addEventListener&&u.addEventListener("message",(function(t){t&&t.data&&t.data.__callback_id&&e.handleMessageFromNative(t.data)}),!1),Object.defineProperties(u,{JSBridge:{writable:!1},Native2JSBridge:{writable:!1},ToutiaoJSBridge:{writable:!1}}),Object.freeze(u.JSBridge),Object.freeze(u.Native2JSBridge),Object.freeze(u.ToutiaoJSBridge)},t.prototype.isLegacyCall=function(e){return!(!e||"string"!=typeof e||!this.toutiaoLegacyJSB)&&(!!h||!d&&!b&&f&&e.indexOf(".")<0)},t}(s);function T(e,t){if(null==e)throw new TypeError("Cannot convert first argument to object");for(var r=Object(e),i=1;i<arguments.length;i++){var n=arguments[i];if(null!=n)for(var a=Object.keys(Object(n)),o=0,s=a.length;o<s;o++){var l=a[o],u=Object.getOwnPropertyDescriptor(n,l);void 0!==u&&u.enumerable&&(r[l]=n[l])}}return r}Object.assign||Object.defineProperty(Object,"assign",{enumerable:!1,configurable:!0,writable:!0,value:T});var x=new w(new S);try{console.warn("[Bridge] This version has Break Change, please pay attention to compatibility, more details: https://zjsms.com/JXKorkC/"),x.exposePublicApiToGlobal()}catch(e){console.warn(e.message)}var R=x.publicApi,L={name:"web-bridge-method",asyncMethod:function(e,t){var r;"browser"===(null===(r=e.env.get())||void 0===r?void 0:r.type)&&function(){var e,t,r,i,n,a="undefined"!=typeof window?window:{};return Boolean((null===(e=a.JS2NativeBridge)||void 0===e?void 0:e._invokeMethod)||(null===(t=a.ToutiaoJSBridge)||void 0===t?void 0:t.invokeMethod)||(null===(r=a.JS2NativeBridge)||void 0===r?void 0:r.call)||(null===(n=null===(i=a.webkit)||void 0===i?void 0:i.messageHandlers)||void 0===n?void 0:n.callMethodParams)||a.callMethodParams)}()?R.call("getNativeBtmParams",{},(function(e){if(1===e.code){var r=e.data||e;t(r)}else t(!1)})):t(!1)}},k={name:"lynx-bridge-method",asyncMethod:function(e,t){var r;if("lynx"!==(null===(r=e.env.get())||void 0===r?void 0:r.type))return t(!1);NativeModules.bridge.call("getNativeBtmParams",{},(function(e){if(1===e.code){var r=e.data||e;t(r)}else t(!1)}))}},_=function(e){e.manager.addMethod(L),e.manager.addMethod(k)}},3223:e=>{"use strict";var t=function(){return t=Object.assign||function(e){for(var t,r=1,i=arguments.length;r<i;r++)for(var n in t=arguments[r])Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n]);return e},t.apply(this,arguments)};function r(e,t,r,i){return new(r||(r=Promise))((function(n,a){function o(e){try{l(i.next(e))}catch(e){a(e)}}function s(e){try{l(i.throw(e))}catch(e){a(e)}}function l(e){var t;e.done?n(e.value):(t=e.value,t instanceof r?t:new r((function(e){e(t)}))).then(o,s)}l((i=i.apply(e,t||[])).next())}))}function i(e,t){var r,i,n,a,o={label:0,sent:function(){if(1&n[0])throw n[1];return n[1]},trys:[],ops:[]};return a={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(a[Symbol.iterator]=function(){return this}),a;function s(a){return function(s){return function(a){if(r)throw new TypeError("Generator is already executing.");for(;o;)try{if(r=1,i&&(n=2&a[0]?i.return:a[0]?i.throw||((n=i.return)&&n.call(i),0):i.next)&&!(n=n.call(i,a[1])).done)return n;switch(i=0,n&&(a=[2&a[0],n.value]),a[0]){case 0:case 1:n=a;break;case 4:return o.label++,{value:a[1],done:!1};case 5:o.label++,i=a[1],a=[0];continue;case 7:a=o.ops.pop(),o.trys.pop();continue;default:if(!((n=(n=o.trys).length>0&&n[n.length-1])||6!==a[0]&&2!==a[0])){o=0;continue}if(3===a[0]&&(!n||a[1]>n[0]&&a[1]<n[3])){o.label=a[1];break}if(6===a[0]&&o.label<n[1]){o.label=n[1],n=a;break}if(n&&o.label<n[2]){o.label=n[2],o.ops.push(a);break}n[2]&&o.ops.pop(),o.trys.pop();continue}a=t.call(e,o)}catch(e){a=[6,e],i=0}finally{r=n=0}if(5&a[0])throw a[1];return{value:a[0]?a[1]:void 0,done:!0}}([a,s])}}}function n(e,t,r){if(r||2===arguments.length)for(var i,n=0,a=t.length;n<a;n++)!i&&n in t||(i||(i=Array.prototype.slice.call(t,0,n)),i[n]=t[n]);return e.concat(i||Array.prototype.slice.call(t))}var a=["a","b","c","d"],o=[["chromium-webview",/(?!Chrom.*OPR)wv\).*Chrom(?:e|ium)\/([0-9\.]+)(:?\s|$)/],["android",/Android\s([0-9\.]+)/],["ios",/Version\/([0-9\._]+).*Mobile.*Safari.*/],["ios-webview",/AppleWebKit\/([0-9\.]+).*Mobile/],["ios-webview",/AppleWebKit\/([0-9\.]+).*Gecko\)$/]],s=[["iOS",/iP(hone|od|ad)/],["Android",/Android/],["Windows",/Win16/],["Windows",/(Windows 95)|(Win95)|(Windows_95)/],["Windows",/(Windows 98)|(Win98)/],["Windows",/(Windows NT)|(Windows 2000)/],["Windows",/(Windows NT)|(Windows XP)/],["Windows",/Windows ME/],["Windows",/Windows CE|WinCE|Microsoft Pocket Internet Explorer/],["Linux",/(Linux)|(X11)/],["MacOS",/(Mac_PowerPC)|(Macintosh)/]],l=function(e,t,r){this.type="browser",this.name=e,this.os=r,this.version=t},u=function(){this.type="react-native",this.name="react-native",this.version="",this.os="unknown"},c=function(){this.type="lynx",this.name="lynx",this.version=lynx.__globalProps.appVersion,this.os=lynx.__globalProps.os,"ios"===this.os.toLowerCase()?this.os="iOS":"android"===this.os.toLowerCase()&&(this.os="Android")},f=function(){function e(e){void 0===e&&(e={});var t=e.uaRules,r=void 0===t?[]:t,i=e.osRules,a=void 0===i?[]:i;this.uaRules=n(n([],r,!0),o,!0),this.osRules=n(n([],a,!0),s,!0)}return e.prototype.get=function(e){return void 0===e&&(e=!1),!e&&this._env?this._env:"undefined"==typeof document&&"undefined"==typeof navigator&&"undefined"!=typeof lynx?(this._env=new c,this._env):"undefined"==typeof document&&"undefined"!=typeof navigator&&"ReactNative"===navigator.product?(this._env=new u,this._env):"undefined"!=typeof navigator?(this._env=this._getBrowser(navigator.userAgent),this._env):null},e.prototype.createInstance=function(t){return new e(t)},e.prototype._getOS=function(e){for(var t=0,r=this.osRules.length;t<r;t++){var i=this.osRules[t],n=i[0];if(i[1].exec(e))return n}return"unknown"},e.prototype._matchUserAgent=function(e){if(""!==e)for(var t=0,r=this.uaRules.length;t<r;t++){var i=this.uaRules[t],n=i[0],a=i[1].exec(e);if(a)return[n,a]}return!1},e.prototype._getBrowser=function(e){var t=this._matchUserAgent(e),r=this._getOS(e);if(!t)return new l("other","",r);var i=t[0],n=t[1],a=n[1]&&n[1].split(/\.|\_+/).slice(0,3);if(a)for(;a.length<3;)a.push("0");else a=[];var o=a.join(".");return new l(i,o,r)},e}(),d=function(e,t){for(var r=null===e?0:e.length,i=-1;++i<r;)if(!t(e[i],i,e))return!1;return!0},h=function(e){if("string"!=typeof e)return!1;var t=e.split(".");return 4===t.length&&d(t,(function(e){return/^[0-9a-zA-Z_!~*()+$%-]+$/.test(e)}))},p=function(e){return!("object"!=typeof e||!e.pre)&&h(e.pre)},v=function(e){var t,r,i,n,a;return{pre:null!==(t=null==e?void 0:e.pre)&&void 0!==t?t:"",ppre:null!==(r=null==e?void 0:e.ppre)&&void 0!==r?r:"",page:null!==(i=null==e?void 0:e.page)&&void 0!==i?i:"",ts:null!==(n=null==e?void 0:e.ts)&&void 0!==n?n:Date.now(),back:null!==(a=null==e?void 0:e.back)&&void 0!==a&&a}},m=function(e){var t,r,i,n,a;return{pre:null!==(t=null==e?void 0:e.pre)&&void 0!==t?t:void 0,ppre:null!==(r=null==e?void 0:e.ppre)&&void 0!==r?r:void 0,page:null!==(i=null==e?void 0:e.page)&&void 0!==i?i:void 0,ts:null!==(n=null==e?void 0:e.ts)&&void 0!==n?n:void 0,back:null!==(a=null==e?void 0:e.back)&&void 0!==a?a:void 0}},g=function(){function e(e){this.protocol=null,this.hostname=null,this.port=null,this.path=null,this.hash=null,this.query={};var t=e,r=t.indexOf("#");if(r>-1&&(this.hash=t.substring(r+1)||null,t=t.substring(0,r)),(r=t.indexOf("?"))>-1){var i=t.substring(r+1)||null;i&&(this.query=this.parseSearch(i)),t=t.substring(0,r)}if("//"===t.substring(0,2))this.protocol=null,t=t.substring(2);else if((r=t.indexOf("://"))>-1){var n=t.substring(0,r);n&&n.match(/^[a-z][a-z0-9]*$/i)&&(this.protocol=n,t=t.substring(r+3))}if(-1===(r=t.indexOf("/"))&&(r=t.length),"["===t.charAt(0)){var a=t.indexOf("]");this.hostname=t.substring(1,a)||null,this.port=t.substring(a+2,r)||null,"/"===this.port&&(this.port=null)}else{var o=t.indexOf(":"),s=t.indexOf("/"),l=t.indexOf(":",o+1);if(-1!==l&&(-1===s||l<s))this.hostname=t.substring(0,r)||null,this.port=null;else{var u=t.substring(0,r).split(":"),c=u[0],f=u[1];this.hostname=c||null,this.port=f||null}}this.hostname&&"/"!==t.substring(r).charAt(0)&&(r++,t="/".concat(t)),this.path=t.substring(r)||"/"}return e.prototype.parseSearch=function(e){var t=e.replace(/&+/g,"&").replace(/^\?*&*|&+$/g,"");if(!t)return{};var r={};return t.split("&").forEach((function(e){var t=e.split("="),i=decodeURIComponent(t.shift()),n=t.length?decodeURIComponent(t.join("=")):null;Object.hasOwnProperty.call(r,i)?("string"!=typeof r[i]&&null!==r[i]||(r[i]=[r[i]]),r[i].push(n)):r[i]=n})),r},e.prototype.toString=function(){var e=this,t="",r=!1;this.protocol&&(t+="".concat(this.protocol,":")),(t||this.hostname)&&(t+="//",r=!0),this.hostname&&(this.hostname.indexOf(":")>-1&&null!==this.port?t+="[".concat(this.hostname,"]"):t+=this.hostname),this.port&&(t+=":".concat(this.port)),"string"==typeof this.path&&("/"!==this.path.charAt(0)&&r&&(t+="/"),t+=this.path);var i="";return Object.keys(this.query).forEach((function(t){var r=e.query[t];if(r instanceof Array){var n={};r.forEach((function(r){n[null!=r?r:""]||(n[null!=r?r:""]=1,i+="&".concat(e.strictEncodeURIComponent(t)).concat(null!==r?"=".concat(e.strictEncodeURIComponent(r)):""))}))}else i+="&".concat(e.strictEncodeURIComponent(t)).concat(null!==r?"=".concat(e.strictEncodeURIComponent(r)):"")})),i&&(t+="?".concat(i.substring(1))),"string"==typeof this.hash&&this.hash&&(t+="#".concat(this.hash)),t},e.prototype.strictEncodeURIComponent=function(e){return encodeURIComponent(e).replace(/\*/g,"%2A")},e}(),y=function(e,t){var r=m(e);return Object.keys(r).forEach((function(e){void 0===r[e]&&(r[e]=t[e])})),r},b=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},E=function(){function e(e){this.methods=[],this.instance=e}return e.prototype.addMethod=function(e,t){if(!e.name)throw new Error("Don't pass method without name");if(!b(e,"syncMethod")&&!b(e,"asyncMethod"))throw new Error("Method should have 'syncMethod' or 'asyncMethod' property");for(var r=-1,i=0;i<this.methods.length;i++)if(e.name===this.methods[i].name){r=i;break}r>=0?this.methods[r]=e:"number"==typeof t&&t<=this.methods.length?this.methods.splice(t,0,e):this.methods.push(e)},e.prototype.removeMethod=function(e){this.methods=this.methods.filter((function(t){return t.name!==e}))},e.prototype.syncInit=function(){for(var e,t=0;t<this.methods.length;t++)if(b(this.methods[t],"asyncMethod"))throw new Error("You have a async init method! Please use SDK.asyncInit()");for(var r=null!==(e=this.instance.store.initConfig)&&void 0!==e?e:{},i=m(r),a=0,o=n([],this.methods,!0);a<o.length;a++){var s=o[a].syncMethod(this.instance);if(s){var l=y(i,s);if(l&&p(l))return v(l)}}return v(i)},e.prototype.asyncInit=function(){var e;return r(this,void 0,void 0,(function(){var t,r,a,o,s,l,u,c,f,d=this;return i(this,(function(h){switch(h.label){case 0:t=null!==(e=this.instance.store.initConfig)&&void 0!==e?e:{},r=m(t),a=n([],this.methods,!0),o=function(e){var t,n;return i(this,(function(i){switch(i.label){case 0:return t=void 0,b(e,"asyncMethod")?[4,new Promise((function(t){return e.asyncMethod(d.instance,t)}))]:[3,2];case 1:return t=i.sent(),[3,3];case 2:t=e.syncMethod(s.instance),i.label=3;case 3:return t&&(n=y(r,t))&&p(n)?[2,{value:v(n)}]:[2]}}))},s=this,l=0,u=a,h.label=1;case 1:return l<u.length?(c=u[l],[5,o(c)]):[3,4];case 2:if("object"==typeof(f=h.sent()))return[2,f.value];h.label=3;case 3:return l++,[3,1];case 4:return[2,v(r)]}}))}))},e}(),C=function(){function e(e){this.instance=e,this.processors=[]}return e.prototype.tap=function(e){this.processors.push(e)},e.prototype.emit=function(e){for(var t=0,r=e;t<this.processors.length;){var i=this.processors[t++](this.instance,r);r=void 0!==i?i:r}return r},e}(),S=function(){function e(e,t){var r,i=this;this.btm=e.btm;var n=this.parseConfig(t),a=n.url,o=n.urlKey,s=n.mode,l=n.config;if(this.url=a,this.mode=s,"default"===this.mode)this.addParams(this.url,e,l.nextPage),o.forEach((function(t){var r=i.url.query[t];if("string"==typeof r){var n=new g(r);i.addParams(n,e,l.nextPage),i.url.query[t]=n.toString()}}));else if("search"===this.mode)this.addParams(this.url,e,l.nextPage);else if("hash"===this.mode){var u=new g(null!==(r=this.url.hash)&&void 0!==r?r:"/");this.addParams(u,e,l.nextPage),this.url.hash=u.toString()}else"scheme"===this.mode&&o.forEach((function(t){var r=i.url.query[t];if("string"==typeof r){var n=new g(r);i.addParams(n,e,l.nextPage),i.url.query[t]=n.toString()}}))}return e.prototype.get=function(){this.btm.hooks.link.beforeGet.emit(this.url);var e=this.url.toString();return this.btm.hooks.link.got.emit(e)},e.prototype.parseConfig=function(e){var t,r;if("string"==typeof e)return{mode:"default",urlKey:["url","surl"],url:new g(e),config:{}};var i=null!==(t=e.urlKey)&&void 0!==t?t:["url","surl"];return{mode:null!==(r=e.mode)&&void 0!==r?r:"default",urlKey:i instanceof Array?i:[i],url:new g(e.url),config:e}},e.prototype.addParams=function(e,t,r){return e.query.btm_pre=t.id,e.query.btm_ppre=t.ctx.pre,e.query.btm_ts=String(Date.now()),r&&(e.query.btm_page=r),e},e}(),w=function(){function e(e,t){this.btm=e,this.ctx=e.ctx;var r=this.generateId(t);if(!h(r))throw new Error("can't get a legal BTM ID, current id is \"".concat(r,'"'));this.id=r,this.isPV=d(this.id.split(".").slice(-2),(function(e){return"0"===e}))}return e.prototype.extend=function(e){var r,i=this.btm.hooks.param.beforeExtend.emit(null!=e?e:{}),n={btm:this.id,btm_pre:this.ctx.pre,btm_ppre:this.ctx.ppre},a={is_back:null!==(r=this.ctx.back)&&void 0!==r&&r,duration:this.ctx.ts?Date.now()-this.ctx.ts:0},o=t(t(t({},i),n),this.isPV&&a);return this.btm.hooks.param.extended.emit(o)},e.prototype.link=function(e){return new S(this,e)},e.prototype.generateId=function(e){var t,r,i,n;if("string"==typeof e)return e;if(e.id)return e.id;var o=null!==(t=this.btm.store.initConfig)&&void 0!==t?t:{},s={b:null!==(i=null===(r=this.ctx)||void 0===r?void 0:r.page)&&void 0!==i?i:""};this.idArr=a.map((function(t){return e[t]||o[t]||s[t]||null}));var l=this.idArr.map((function(e,t){return e?null:t})).filter((function(e){return"number"==typeof e})),u=e.target;if("browser"===(null===(n=this.btm.env.get())||void 0===n?void 0:n.type))for(;u&&u instanceof Element&&u!==document.body&&l.length;){var c=u.getAttribute("data-btm-id");if(c)return c;for(var f=l.length-1;f>=0;f--){var d=l[f],h=u.getAttribute("data-btm-".concat(a[d]));h&&(this.idArr[d]=h,l=l.slice(0,f))}u=u.parentNode}return this.idArr.map((function(e){return null===e?"0":e})).join(".")},e}(),T=function(){function e(){this.initPlugins=[],this.initRunning=!1,this.initialized=!1,this.env=new f(void 0),this.manager=function(e){return new E(e)}(this),this.hooks=function(e){return{beforeInit:new C(e),initialized:new C(e),beforeCreate:new C(e),created:new C(e),param:{beforeExtend:new C(e),extended:new C(e)},link:{beforeGet:new C(e),got:new C(e)}}}(this),this.store={}}return e.prototype.use=function(e,t){if("function"!=typeof e)throw new Error("Check your plugin passing by BtmSDK.use()");return this.initPlugins.push({plugin:e,options:t}),this},e.prototype.init=function(e){var t=this;void 0===e&&(e={}),this.initRunning=!0,this.initPlugins.forEach((function(e){var r=e.plugin,i=e.options;return r.apply(t,[t,i])}));var r=this.hooks.beforeInit.emit(e);this.store.initConfig=r;var i=this.manager.syncInit();return this.ctx=this.hooks.initialized.emit(i),this.initialized=!0,this.ctx},e.prototype.asyncInit=function(e){return void 0===e&&(e={}),r(this,void 0,void 0,(function(){var t,r,n=this;return i(this,(function(i){switch(i.label){case 0:return this.initRunning=!0,this.initPlugins.forEach((function(e){var t=e.plugin,r=e.options;return t.apply(n,[n,r])})),t=this.hooks.beforeInit.emit(e),this.store.initConfig=t,[4,this.manager.asyncInit()];case 1:return r=i.sent(),this.ctx=this.hooks.initialized.emit(r),this.initialized=!0,[2,this.ctx]}}))}))},e.prototype.create=function(e){if(!this.initialized&&!this.initRunning)throw new Error("Don't use SDK.create() before calling SDK.init or SDK.asyncInit");var t=this.hooks.beforeCreate.emit(e),r=new w(this,t);return this.hooks.created.emit(r)},e}(),x={name:"url-search-method",syncMethod:function(e){var t;if("browser"===(null===(t=e.env.get())||void 0===t?void 0:t.type)){var r=new g(location.search);return{pre:r.query.btm_pre||"",ppre:r.query.btm_ppre||"",ts:Number(r.query.btm_ts)||0,back:"1"===r.query.btm_back,page:r.query.btm_page||""}}return!1}},R={name:"url-hash-method",syncMethod:function(e){var t;if("browser"===(null===(t=e.env.get())||void 0===t?void 0:t.type)){var r=new g("?".concat(location.hash.split("?")[1]));return{pre:r.query.btm_pre||"",ppre:r.query.btm_ppre||"",ts:Number(r.query.btm_ts)||0,back:"1"===r.query.btm_back,page:r.query.btm_page||""}}return!1}},L={name:"schema-url-method",syncMethod:function(e){var t,r,i=e.env.get();if("browser"===(null==i?void 0:i.type)&&window.__globalprops){var n=null!==(t=window.__globalprops.getGlobalProps())&&void 0!==t?t:"{}",a=null!==(r=JSON.parse(n).queryItems)&&void 0!==r?r:{};return{pre:a.btm_pre,ppre:a.btm_ppre,ts:Number(a.btm_ts)||0,back:"1"===a.btm_back,page:a.btm_page}}return!1}},k={name:"lynx-schema-method",syncMethod:function(e){var t,r=e.env.get();if("lynx"===(null==r?void 0:r.type)){var i=null!==(t=lynx.__globalProps.queryItems)&&void 0!==t?t:{};return{pre:i.btm_pre,ppre:i.btm_ppre,ts:Number(i.btm_ts)||0,back:"1"===i.btm_back,page:i.btm_page}}return!1}},_=new T;_.use((function(e){e.manager.addMethod(x),e.manager.addMethod(R)})).use((function(e){e.manager.addMethod(L),e.manager.addMethod(k)})),e.exports=_},33207:(e,t,r)=>{"use strict";r.d(t,{Z:()=>n});var i=r(31738);function n(e){var t=e.width,r=void 0===t?"1em":t,n=e.height,a=void 0===n?"1em":n,o=e.fill,s=void 0===o?"currentColor":o,l=e.style,u=e.className,c=e.e2eTag,f=void 0===c?"":c;return i.createElement("svg",{className:u,style:l,width:r,"data-e2e":f,height:a,viewBox:"0 0 48 48",fill:s,xmlns:"http://www.w3.org/2000/svg"},i.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M11 2C7.68629 2 5 4.68629 5 8V40C5 43.3137 7.68629 46 11 46H37C40.3137 46 43 43.3137 43 40V8C43 4.68629 40.3137 2 37 2H11ZM9 8C9 6.89543 9.89543 6 11 6H37C38.1046 6 39 6.89543 39 8V40C39 41.1046 38.1046 42 37 42H11C9.89543 42 9 41.1046 9 40V8ZM26.063 14.1175C25.7306 13.4415 25.0465 13.0096 24.2933 13.0002C23.54 12.9907 22.8453 13.4054 22.4961 14.0729L15.6945 27.0746L12.4672 33.1814C12.2092 33.6697 12.3958 34.2747 12.8841 34.5328L14.6524 35.4672C15.1407 35.7253 15.7457 35.5386 16.0038 35.0503L18.6718 30.0017H29.4421L32.0324 35.0274C32.2854 35.5183 32.8885 35.7112 33.3794 35.4581L35.1572 34.5419C35.6481 34.2888 35.8409 33.6858 35.5879 33.1948L32.4477 27.1022L26.063 14.1175ZM27.4492 26.0017H20.77L24.213 19.4202L27.4492 26.0017Z"}))}},40013:(e,t,r)=>{"use strict";r.d(t,{Z:()=>n});var i=r(31738);function n(e){var t=e.width,r=void 0===t?"1em":t,n=e.height,a=void 0===n?"1em":n,o=e.fill,s=void 0===o?"currentColor":o,l=e.style,u=e.className,c=e.e2eTag,f=void 0===c?"":c;return i.createElement("svg",{className:u,style:l,width:r,"data-e2e":f,height:a,viewBox:"0 0 48 48",fill:s,xmlns:"http://www.w3.org/2000/svg"},i.createElement("path",{d:"M43.4143 16.5858L31.1214 4.29289C30.7309 3.90237 30.0977 3.90237 29.7072 4.29289L28.2929 5.70711C27.9024 6.09763 27.9024 6.7308 28.293 7.12132L37.1716 16H5.00006C4.44777 16 4.00006 16.4477 4.00006 17V19C4.00006 19.5523 4.44777 20 5.00006 20H42.0001C42.809 20 43.5383 19.5127 43.8478 18.7654C44.1574 18.018 43.9863 17.1578 43.4143 16.5858Z"}),i.createElement("path",{d:"M4.58584 31.4142L16.8787 43.7071C17.2693 44.0976 17.9024 44.0976 18.293 43.7071L19.7072 42.2929C20.0977 41.9024 20.0977 41.2692 19.7072 40.8787L10.8285 32L43.0001 32C43.5523 32 44.0001 31.5523 44.0001 31V29C44.0001 28.4477 43.5523 28 43.0001 28L6.00006 28C5.19113 28 4.46186 28.4873 4.1523 29.2346C3.84274 29.982 4.01385 30.8422 4.58584 31.4142Z"}))}},48999:(e,t,r)=>{"use strict";r.d(t,{Z:()=>n});var i=r(31738);function n(e){var t=e.width,r=void 0===t?"1em":t,n=e.height,a=void 0===n?"1em":n,o=e.fill,s=void 0===o?"currentColor":o,l=e.style,u=e.className,c=e.e2eTag,f=void 0===c?"":c;return i.createElement("svg",{className:u,style:l,width:r,"data-e2e":f,height:a,viewBox:"0 0 48 48",fill:s,xmlns:"http://www.w3.org/2000/svg"},i.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M23 8V28.7803L12.0371 19.0823C11.8302 18.8993 11.5143 18.9187 11.3313 19.1255L10.6687 19.8745C10.4858 20.0813 10.5051 20.3973 10.7119 20.5803L23.3374 31.749C23.7158 32.0837 24.2843 32.0837 24.6626 31.749L37.2881 20.5803C37.4949 20.3973 37.5143 20.0813 37.3313 19.8745L36.6687 19.1255C36.4858 18.9187 36.1698 18.8993 35.9629 19.0823L25 28.7803V8C25 7.72386 24.7761 7.5 24.5 7.5H23.5C23.2239 7.5 23 7.72386 23 8ZM12.5 37C12.2239 37 12 37.2239 12 37.5V38.5C12 38.7761 12.2239 39 12.5 39H35.5C35.7761 39 36 38.7761 36 38.5V37.5C36 37.2239 35.7761 37 35.5 37H12.5Z"}))}},12628:(e,t,r)=>{"use strict";r.d(t,{Z:()=>n});var i=r(31738);function n(e){var t=e.width,r=void 0===t?"1em":t,n=e.height,a=void 0===n?"1em":n,o=e.fill,s=void 0===o?"currentColor":o,l=e.style,u=e.className,c=e.e2eTag,f=void 0===c?"":c;return i.createElement("svg",{className:u,style:l,width:r,"data-e2e":f,height:a,viewBox:"0 0 48 48",fill:s,xmlns:"http://www.w3.org/2000/svg"},i.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M24.1716 26L7 26C6.44771 26 6 25.5523 6 25L6 23C6 22.4477 6.44771 22 7 22L24.1716 22L20.2929 18.1213C19.9024 17.7308 19.9024 17.0976 20.2929 16.7071L21.7071 15.2929C22.0976 14.9024 22.7308 14.9024 23.1213 15.2929L30.4142 22.5858C31.1953 23.3668 31.1953 24.6332 30.4142 25.4142L23.1213 32.7071C22.7308 33.0976 22.0976 33.0976 21.7071 32.7071L20.2929 31.2929C19.9024 30.9024 19.9024 30.2692 20.2929 29.8787L24.1716 26ZM36 43L27 43C26.4477 43 26 42.5523 26 42L26 40C26 39.4477 26.4477 39 27 39L36 39C37.1046 39 38 38.1046 38 37L38 11C38 9.89543 37.1046 9 36 9L27 9C26.4477 9 26 8.55228 26 8L26 6C26 5.44771 26.4477 5 27 5L36 5C39.3137 5 42 7.68629 42 11L42 37C42 40.3137 39.3137 43 36 43Z"}))}},76961:(e,t,r)=>{"use strict";r.d(t,{Z:()=>n});var i=r(31738);function n(e){var t=e.width,r=void 0===t?"1em":t,n=e.height,a=void 0===n?"1em":n,o=e.fill,s=void 0===o?"currentColor":o,l=e.style,u=e.className,c=e.e2eTag,f=void 0===c?"":c;return i.createElement("svg",{className:u,style:l,width:r,"data-e2e":f,height:a,viewBox:"0 0 48 48",fill:s,xmlns:"http://www.w3.org/2000/svg"},i.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M7 9C7 7.89543 7.89543 7 9 7H33C33.5523 7 34 7.44772 34 8V10C34 10.5523 33.5523 11 33 11H13.8284L40.7071 37.8787C41.0976 38.2692 41.0976 38.9024 40.7071 39.2929L39.2929 40.7071C38.9024 41.0976 38.2692 41.0976 37.8787 40.7071L11 13.8284V34C11 34.5523 10.5523 35 10 35H8C7.44772 35 7 34.5523 7 34V9Z"}))}},4657:(e,t,r)=>{"use strict";r.d(t,{Z:()=>n});var i=r(31738);function n(e){var t=e.width,r=void 0===t?"1em":t,n=e.height,a=void 0===n?"1em":n,o=e.fill,s=void 0===o?"currentColor":o,l=e.style,u=e.className,c=e.e2eTag,f=void 0===c?"":c;return i.createElement("svg",{className:u,style:l,width:r,"data-e2e":f,height:a,viewBox:"0 0 72 72",fill:s,xmlns:"http://www.w3.org/2000/svg"},i.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M36 3.59978C18.106 3.59978 3.6 18.1058 3.6 35.9998C3.6 53.8938 18.106 68.3998 36 68.3998C44.2229 68.3998 51.727 65.3386 57.4407 60.2913C58.0794 59.7272 59.0544 59.7876 59.6185 60.4262C60.1826 61.0649 60.1222 62.0399 59.4836 62.604C53.2277 68.1302 45.0038 71.4855 36 71.4855C16.4018 71.4855 0.514282 55.598 0.514282 35.9998C0.514282 16.4016 16.4018 0.514069 36 0.514069C55.5982 0.514069 71.4857 16.4016 71.4857 35.9998C71.4857 42.8834 66.1416 48.5875 59.4 48.5875C54.9024 48.5875 51.0268 46.0488 48.9451 42.3148C46.6052 47.1023 41.6877 50.3998 36 50.3998C28.0471 50.3998 21.6 43.9527 21.6 35.9998C21.6 28.0469 28.0471 21.5998 36 21.5998C43.9529 21.5998 50.4 28.0469 50.4 35.9998C50.4 41.316 54.4963 45.5018 59.4 45.5018C64.3037 45.5018 68.4 41.316 68.4 35.9998C68.4 18.1058 53.894 3.59978 36 3.59978ZM47.3143 35.9998C47.3143 29.7511 42.2487 24.6855 36 24.6855C29.7513 24.6855 24.6857 29.7511 24.6857 35.9998C24.6857 42.2485 29.7513 47.3141 36 47.3141C42.2487 47.3141 47.3143 42.2485 47.3143 35.9998Z"}))}},92015:(e,t,r)=>{"use strict";r.d(t,{Z:()=>n});var i=r(31738);function n(e){var t=e.width,r=void 0===t?"1em":t,n=e.height,a=void 0===n?"1em":n,o=e.fill,s=void 0===o?"currentColor":o,l=e.style,u=e.className,c=e.e2eTag,f=void 0===c?"":c;return i.createElement("svg",{className:u,style:l,width:r,"data-e2e":f,height:a,viewBox:"0 0 48 48",fill:s,xmlns:"http://www.w3.org/2000/svg"},i.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M7 11C7 7.13401 10.134 4 14 4H38C39.1046 4 40 4.89543 40 6V41C40 42.1046 39.1046 43 38 43H13.5C9.91015 43 7 40.0899 7 36.5C7 36.3318 7.00639 36.165 7.01894 36H7V11ZM11 30.4982C11.7696 30.1772 12.6141 30 13.5 30H36V8H14C12.3431 8 11 9.34315 11 11V30.4982ZM36 34H13.5C12.1193 34 11 35.1193 11 36.5C11 37.8807 12.1193 39 13.5 39H36V34Z"}))}},46856:(e,t,r)=>{"use strict";r.d(t,{Z:()=>n});var i=r(31738);function n(e){var t=e.width,r=void 0===t?"1em":t,n=e.height,a=void 0===n?"1em":n,o=e.fill,s=void 0===o?"currentColor":o,l=e.style,u=e.className,c=e.e2eTag,f=void 0===c?"":c;return i.createElement("svg",{className:u,style:l,width:r,"data-e2e":f,height:a,viewBox:"0 0 24 24",fill:s,xmlns:"http://www.w3.org/2000/svg"},i.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M1.5 5.5C1.5 3.84315 2.84315 2.5 4.5 2.5H19.5C21.1569 2.5 22.5 3.84315 22.5 5.5V18.5C22.5 20.1569 21.1569 21.5 19.5 21.5H4.5C2.84315 21.5 1.5 20.1569 1.5 18.5V5.5ZM4.5 4.5C3.94772 4.5 3.5 4.94772 3.5 5.5V18.5C3.5 19.0523 3.94772 19.5 4.5 19.5H19.5C20.0523 19.5 20.5 19.0523 20.5 18.5V5.5C20.5 4.94772 20.0523 4.5 19.5 4.5H4.5ZM5.5 12.5C5.5 12.2239 5.72386 12 6 12H13.5C13.7761 12 14 12.2239 14 12.5V13.5C14 13.7761 13.7761 14 13.5 14H6C5.72386 14 5.5 13.7761 5.5 13.5V12.5ZM10.5 15.5C10.2239 15.5 10 15.7239 10 16V17C10 17.2761 10.2239 17.5 10.5 17.5H18C18.2761 17.5 18.5 17.2761 18.5 17V16C18.5 15.7239 18.2761 15.5 18 15.5H10.5ZM15.5 12.5C15.5 12.2239 15.7239 12 16 12H18C18.2761 12 18.5 12.2239 18.5 12.5V13.5C18.5 13.7761 18.2761 14 18 14H16C15.7239 14 15.5 13.7761 15.5 13.5V12.5ZM6 15.5C5.72386 15.5 5.5 15.7239 5.5 16V17C5.5 17.2761 5.72386 17.5 6 17.5H8C8.27614 17.5 8.5 17.2761 8.5 17V16C8.5 15.7239 8.27614 15.5 8 15.5H6Z",fill:"white",fillOpacity:"0.9"}))}},68561:(e,t,r)=>{"use strict";r.d(t,{Z:()=>n});var i=r(31738);function n(e){var t=e.width,r=void 0===t?"1em":t,n=e.height,a=void 0===n?"1em":n,o=e.fill,s=void 0===o?"currentColor":o,l=e.style,u=e.className,c=e.e2eTag,f=void 0===c?"":c;return i.createElement("svg",{className:u,style:l,width:r,"data-e2e":f,height:a,viewBox:"0 0 48 48",fill:s,xmlns:"http://www.w3.org/2000/svg"},i.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M22.5858 32.4142L8.29289 18.1213C7.90237 17.7308 7.90237 17.0976 8.29289 16.7071L9.70711 15.2929C10.0976 14.9024 10.7308 14.9024 11.1213 15.2929L24 28.1716L36.8787 15.2929C37.2692 14.9024 37.9024 14.9024 38.2929 15.2929L39.7071 16.7071C40.0976 17.0976 40.0976 17.7308 39.7071 18.1213L25.4142 32.4142C24.6332 33.1953 23.3668 33.1953 22.5858 32.4142Z"}))}},33178:(e,t,r)=>{"use strict";r.d(t,{Z:()=>n});var i=r(31738);function n(e){var t=e.width,r=void 0===t?"1em":t,n=e.height,a=void 0===n?"1em":n,o=e.fill,s=void 0===o?"currentColor":o,l=e.style,u=e.className,c=e.e2eTag,f=void 0===c?"":c;return i.createElement("svg",{className:u,style:l,width:r,"data-e2e":f,height:a,viewBox:"0 0 48 48",fill:s,xmlns:"http://www.w3.org/2000/svg"},i.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M34.4142 22.5858L18.1213 6.29289C17.7308 5.90237 17.0976 5.90237 16.7071 6.29289L15.2929 7.70711C14.9024 8.09763 14.9024 8.7308 15.2929 9.12132L30.1716 24L15.2929 38.8787C14.9024 39.2692 14.9024 39.9024 15.2929 40.2929L16.7071 41.7071C17.0976 42.0976 17.7308 42.0976 18.1213 41.7071L34.4142 25.4142C35.1953 24.6332 35.1953 23.3668 34.4142 22.5858Z"}))}},59754:(e,t,r)=>{"use strict";r.d(t,{Z:()=>n});var i=r(31738);function n(e){var t=e.width,r=void 0===t?"1em":t,n=e.height,a=void 0===n?"1em":n,o=e.fill,s=void 0===o?"currentColor":o,l=e.style,u=e.className,c=e.e2eTag,f=void 0===c?"":c;return i.createElement("svg",{className:u,style:l,width:r,"data-e2e":f,height:a,viewBox:"0 0 48 48",fill:s,xmlns:"http://www.w3.org/2000/svg"},i.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M43.4142 22.5858L27.1213 6.29289C26.7308 5.90237 26.0976 5.90237 25.7071 6.29289L24.2929 7.70711C23.9024 8.09763 23.9024 8.7308 24.2929 9.12132L39.1716 24L24.2929 38.8787C23.9024 39.2692 23.9024 39.9024 24.2929 40.2929L25.7071 41.7071C26.0976 42.0976 26.7308 42.0976 27.1213 41.7071L43.4142 25.4142C44.1953 24.6332 44.1953 23.3668 43.4142 22.5858Z"}))}},38725:(e,t,r)=>{"use strict";r.d(t,{Z:()=>n});var i=r(31738);function n(e){var t=e.width,r=void 0===t?"1em":t,n=e.height,a=void 0===n?"1em":n,o=e.fill,s=void 0===o?"currentColor":o,l=e.style,u=e.className,c=e.e2eTag,f=void 0===c?"":c;return i.createElement("svg",{className:u,style:l,width:r,"data-e2e":f,height:a,viewBox:"0 0 48 48",fill:s,xmlns:"http://www.w3.org/2000/svg"},i.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M6 24C6 14.0589 14.0589 6 24 6C33.9411 6 42 14.0589 42 24C42 33.9411 33.9411 42 24 42C14.0589 42 6 33.9411 6 24ZM24 2C11.8497 2 2 11.8497 2 24C2 36.1503 11.8497 46 24 46C36.1503 46 46 36.1503 46 24C46 11.8497 36.1503 2 24 2ZM22 15V24C22 25.1046 22.8954 26 24 26H33C33.5523 26 34 25.5523 34 25V23C34 22.4477 33.5523 22 33 22H26V15C26 14.4477 25.5523 14 25 14H23C22.4477 14 22 14.4477 22 15Z"}))}},24494:(e,t,r)=>{"use strict";r.d(t,{Z:()=>n});var i=r(31738);function n(e){var t=e.width,r=void 0===t?"1em":t,n=e.height,a=void 0===n?"1em":n,o=e.fill,s=void 0===o?"currentColor":o,l=e.style,u=e.className,c=e.e2eTag,f=void 0===c?"":c;return i.createElement("svg",{className:u,style:l,width:r,"data-e2e":f,height:a,viewBox:"0 0 48 48",fill:s,xmlns:"http://www.w3.org/2000/svg"},i.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M11 8C10.4477 8 10 8.44772 10 9V21C10 21.5523 10.4477 22 11 22H13C13.5523 22 14 21.5523 14 21V9C14 8.44772 13.5523 8 13 8H11ZM11 26C10.4477 26 10 26.4477 10 27V39C10 39.5523 10.4477 40 11 40H13C13.5523 40 14 39.5523 14 39V27C14 26.4477 13.5523 26 13 26H11ZM22 9C22 8.44772 22.4477 8 23 8H25C25.5523 8 26 8.44772 26 9V21C26 21.5523 25.5523 22 25 22H23C22.4477 22 22 21.5523 22 21V9ZM23 26C22.4477 26 22 26.4477 22 27V39C22 39.5523 22.4477 40 23 40H25C25.5523 40 26 39.5523 26 39V27C26 26.4477 25.5523 26 25 26H23ZM34 9C34 8.44772 34.4477 8 35 8H37C37.5523 8 38 8.44772 38 9V21C38 21.5523 37.5523 22 37 22H35C34.4477 22 34 21.5523 34 21V9ZM35 26C34.4477 26 34 26.4477 34 27V39C34 39.5523 34.4477 40 35 40H37C37.5523 40 38 39.5523 38 39V27C38 26.4477 37.5523 26 37 26H35Z"}))}},10623:(e,t,r)=>{"use strict";r.d(t,{Z:()=>n});var i=r(31738);function n(e){var t=e.width,r=void 0===t?"1em":t,n=e.height,a=void 0===n?"1em":n,o=e.fill,s=void 0===o?"currentColor":o,l=e.style,u=e.className,c=e.e2eTag,f=void 0===c?"":c;return i.createElement("svg",{className:u,style:l,width:r,"data-e2e":f,height:a,viewBox:"0 0 72 72",fill:s,xmlns:"http://www.w3.org/2000/svg"},i.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M36.8479 69.734C37.4283 70.1479 38.0945 70.3649 38.7759 70.3649C39.1191 70.3649 39.4674 70.3094 39.8106 70.1983C58.7271 63.9601 70.9613 49.1216 70.9714 32.4409V32.3803C70.9714 15.6593 55.28 2.0573 36 2.0573C16.72 2.0573 1.02856 15.6593 1.02856 32.3803C1.02856 48.9399 16.4223 62.446 35.4549 62.6983V67.0136C35.4549 68.0886 35.9748 69.1031 36.8479 69.734ZM38.0239 60.0833C37.7412 59.8108 37.3627 59.6543 36.969 59.6543C36.9589 59.6543 36.9438 59.6543 36.9337 59.6493L36.6511 59.6594C36.434 59.6695 36.217 59.6745 36 59.6745C18.3856 59.6745 4.05683 47.4302 4.05683 32.3797C4.05683 17.3293 18.3856 5.08498 36 5.08498C53.6043 5.08498 67.9331 17.3192 67.9432 32.3697V32.405C67.9331 47.7936 56.5165 61.5016 38.8617 67.3259C38.781 67.3512 38.7002 67.336 38.6245 67.2805C38.5791 67.2502 38.4832 67.1644 38.4832 67.013V61.1685C38.4832 60.7597 38.3166 60.366 38.0239 60.0833Z"}),i.createElement("path",{d:"M35.9998 30.4867C34.0769 30.4867 32.5173 32.0513 32.5173 33.9692C32.5173 35.8871 34.0819 37.4517 35.9998 37.4517C37.9177 37.4517 39.4823 35.8871 39.4823 33.9692C39.4823 32.0513 37.9228 30.4867 35.9998 30.4867Z"}),i.createElement("path",{d:"M19.7988 30.6541C17.8758 30.6541 16.3163 32.2187 16.3163 34.1366C16.3163 36.0545 17.8809 37.6191 19.7988 37.6191C21.7167 37.6191 23.2813 36.0545 23.2813 34.1366C23.2813 32.2187 21.7217 30.6541 19.7988 30.6541Z"}),i.createElement("path",{d:"M52.0752 30.4867C50.1522 30.4867 48.5927 32.0513 48.5927 33.9692C48.5927 35.8871 50.1573 37.4517 52.0752 37.4517C53.9931 37.4517 55.5577 35.8871 55.5577 33.9692C55.5577 32.0513 53.9931 30.4867 52.0752 30.4867Z"}))}},72:(e,t,r)=>{"use strict";r.d(t,{Z:()=>n});var i=r(31738);function n(e){var t=e.width,r=void 0===t?"1em":t,n=e.height,a=void 0===n?"1em":n,o=e.fill,s=void 0===o?"currentColor":o,l=e.style,u=e.className,c=e.e2eTag,f=void 0===c?"":c;return i.createElement("svg",{className:u,style:l,width:r,"data-e2e":f,height:a,viewBox:"0 0 48 48",fill:s,xmlns:"http://www.w3.org/2000/svg"},i.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M6 24C6 14.0589 14.0589 6 24 6C33.9411 6 42 14.0589 42 24C42 33.9411 33.9411 42 24 42C14.0589 42 6 33.9411 6 24ZM24 2C11.8497 2 2 11.8497 2 24C2 36.1503 11.8497 46 24 46C36.1503 46 46 36.1503 46 24C46 11.8497 36.1503 2 24 2ZM18 24C18 20.6863 20.6863 18 24 18C25.5352 18 26.9353 18.5751 27.9979 19.5257C28.4096 19.894 29.0342 19.9709 29.4651 19.6255L31.0256 18.3745C31.4565 18.0291 31.5291 17.3957 31.1425 17.0012C29.3295 15.1515 26.7987 14 24 14C18.4772 14 14 18.4772 14 24C14 29.5228 18.4772 34 24 34C26.7987 34 29.3295 32.8485 31.1426 30.9988C31.5291 30.6043 31.4565 29.9709 31.0256 29.6255L29.4651 28.3745C29.0342 28.0291 28.4096 28.106 27.9979 28.4743C26.9353 29.4249 25.5352 30 24 30C20.6863 30 18 27.3137 18 24Z"}))}},98816:(e,t,r)=>{"use strict";r.d(t,{Z:()=>n});var i=r(31738);function n(e){var t=e.width,r=void 0===t?"1em":t,n=e.height,a=void 0===n?"1em":n,o=e.fill,s=void 0===o?"currentColor":o,l=e.style,u=e.className,c=e.e2eTag,f=void 0===c?"":c;return i.createElement("svg",{className:u,style:l,width:r,"data-e2e":f,height:a,viewBox:"0 0 48 48",fill:s,xmlns:"http://www.w3.org/2000/svg"},i.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M12 7C11.4477 7 11 7.44772 11 8V40C11 40.5523 11.4477 41 12 41H36C36.5523 41 37 40.5523 37 40V19H26C24.8954 19 24 18.1046 24 17V7H12ZM28 9.56797L33.8847 15H28V9.56797ZM7 8C7 5.23858 9.23858 3 12 3H26C26.5028 3 26.9871 3.18937 27.3566 3.53039L40.3566 15.5304C40.7667 15.909 41 16.4418 41 17V40C41 42.7614 38.7614 45 36 45H12C9.23858 45 7 42.7614 7 40V8Z"}))}},10278:(e,t,r)=>{"use strict";r.d(t,{Z:()=>n});var i=r(31738);function n(e){var t=e.width,r=void 0===t?"1em":t,n=e.height,a=void 0===n?"1em":n,o=e.fill,s=void 0===o?"currentColor":o,l=e.style,u=e.className,c=e.e2eTag,f=void 0===c?"":c;return i.createElement("svg",{className:u,style:l,width:r,"data-e2e":f,height:a,viewBox:"0 0 48 48",fill:s,xmlns:"http://www.w3.org/2000/svg"},i.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M16.5 14C10.701 14 6 18.701 6 24.5C6 30.299 10.701 35 16.5 35C17.9811 35 19.3906 34.6933 20.6684 34.1401C18.3865 31.5779 17 28.2009 17 24.5C17 20.7991 18.3865 17.4221 20.6684 14.8599C19.3906 14.3067 17.9811 14 16.5 14ZM24 12.0878C21.8117 10.7627 19.2449 10 16.5 10C8.49187 10 2 16.4919 2 24.5C2 32.5081 8.49187 39 16.5 39C19.2449 39 21.8117 38.2373 24 36.9122C26.1883 38.2373 28.7551 39 31.5 39C39.5081 39 46 32.5081 46 24.5C46 16.4919 39.5081 10 31.5 10C28.7551 10 26.1883 10.7627 24 12.0878ZM24 17.1515C22.1442 19.0453 21 21.639 21 24.5C21 27.361 22.1442 29.9547 24 31.8485C25.8558 29.9547 27 27.361 27 24.5C27 21.639 25.8558 19.0453 24 17.1515ZM27.3316 34.1401C29.6135 31.5779 31 28.2009 31 24.5C31 20.7991 29.6135 17.4221 27.3316 14.8599C28.6094 14.3067 30.0189 14 31.5 14C37.299 14 42 18.701 42 24.5C42 30.299 37.299 35 31.5 35C30.0189 35 28.6094 34.6933 27.3316 34.1401Z"}))}},77425:(e,t,r)=>{"use strict";r.d(t,{Z:()=>n});var i=r(31738);function n(e){var t=e.width,r=void 0===t?"1em":t,n=e.height,a=void 0===n?"1em":n,o=(e.fill,e.style),s=e.className,l=e.e2eTag,u=void 0===l?"":l;return i.createElement("svg",{className:s,style:o,width:r,"data-e2e":u,height:a,viewBox:"0 0 48 48",fill:"none",xmlns:"http://www.w3.org/2000/svg"},i.createElement("g",{filter:"url(#EllipsisShadowColor_filter0_d)"},i.createElement("path",{d:"M15 24C15 26.2091 13.2091 28 11 28C8.79086 28 7 26.2091 7 24C7 21.7909 8.79086 20 11 20C13.2091 20 15 21.7909 15 24Z",fill:"white",fillOpacity:"0.9"}),i.createElement("path",{d:"M28 24C28 26.2091 26.2091 28 24 28C21.7909 28 20 26.2091 20 24C20 21.7909 21.7909 20 24 20C26.2091 20 28 21.7909 28 24Z",fill:"white",fillOpacity:"0.9"}),i.createElement("path",{d:"M41 24C41 26.2091 39.2091 28 37 28C34.7909 28 33 26.2091 33 24C33 21.7909 34.7909 20 37 20C39.2091 20 41 21.7909 41 24Z",fill:"white",fillOpacity:"0.9"})),i.createElement("defs",null,i.createElement("filter",{id:"EllipsisShadowColor_filter0_d",x:"4.6",y:"18.8",width:"38.8",height:"12.8",filterUnits:"userSpaceOnUse",colorInterpolationFilters:"sRGB"},i.createElement("feFlood",{floodOpacity:"0",result:"BackgroundImageFix"}),i.createElement("feColorMatrix",{in:"SourceAlpha",type:"matrix",values:"0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 127 0"}),i.createElement("feOffset",{dy:"1.2"}),i.createElement("feGaussianBlur",{stdDeviation:"1.2"}),i.createElement("feColorMatrix",{type:"matrix",values:"0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0.15 0"}),i.createElement("feBlend",{mode:"normal",in2:"BackgroundImageFix",result:"effect1_dropShadow"}),i.createElement("feBlend",{mode:"normal",in:"SourceGraphic",in2:"effect1_dropShadow",result:"shape"}))))}},15377:(e,t,r)=>{"use strict";r.d(t,{Z:()=>n});var i=r(31738);function n(e){var t=e.width,r=void 0===t?"1em":t,n=e.height,a=void 0===n?"1em":n,o=e.fill,s=void 0===o?"currentColor":o,l=e.style,u=e.className,c=e.e2eTag,f=void 0===c?"":c;return i.createElement("svg",{className:u,style:l,width:r,"data-e2e":f,height:a,viewBox:"0 0 48 48",fill:s,xmlns:"http://www.w3.org/2000/svg"},i.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M2 24C2 11.8497 11.8497 2 24 2C36.1503 2 46 11.8497 46 24C46 36.1503 36.1503 46 24 46C11.8497 46 2 36.1503 2 24ZM22 14C22 13.4477 22.4477 13 23 13H25C25.5523 13 26 13.4477 26 14V25C26 25.5523 25.5523 26 25 26H23C22.4477 26 22 25.5523 22 25V14ZM27 32C27 33.6569 25.6569 35 24 35C22.3431 35 21 33.6569 21 32C21 30.3431 22.3431 29 24 29C25.6569 29 27 30.3431 27 32Z"}))}},96544:(e,t,r)=>{"use strict";r.d(t,{Z:()=>n});var i=r(31738);function n(e){var t=e.width,r=void 0===t?"1em":t,n=e.height,a=void 0===n?"1em":n,o=e.fill,s=void 0===o?"currentColor":o,l=e.style,u=e.className,c=e.e2eTag,f=void 0===c?"":c;return i.createElement("svg",{className:u,style:l,width:r,"data-e2e":f,height:a,viewBox:"0 0 48 48",fill:s,xmlns:"http://www.w3.org/2000/svg"},i.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M20.5522 6.91656C22.0988 4.28733 25.9011 4.28734 27.4477 6.91656L43.9509 34.9719C45.5194 37.6385 43.5968 41 40.5031 41H7.49679C4.40313 41 2.48051 37.6385 4.04906 34.9719L20.5522 6.91656ZM24 8.94464L7.49679 37H40.5031L24 8.94464ZM22 18C22 17.4477 22.4477 17 23 17H25C25.5522 17 26 17.4477 26 18V27C26 27.5523 25.5522 28 25 28H23C22.4477 28 22 27.5523 22 27V18ZM24 35C25.3807 35 26.5 33.8807 26.5 32.5C26.5 31.1193 25.3807 30 24 30C22.6192 30 21.5 31.1193 21.5 32.5C21.5 33.8807 22.6192 35 24 35Z"}))}},10426:(e,t,r)=>{"use strict";r.d(t,{Z:()=>n});var i=r(31738);function n(e){var t=e.width,r=void 0===t?"1em":t,n=e.height,a=void 0===n?"1em":n,o=e.fill,s=void 0===o?"currentColor":o,l=e.style,u=e.className,c=e.e2eTag,f=void 0===c?"":c;return i.createElement("svg",{className:u,style:l,width:r,"data-e2e":f,height:a,viewBox:"0 0 36 36",fill:s,xmlns:"http://www.w3.org/2000/svg"},i.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M27.8819 31.1058C28.1034 31.3236 28.4586 31.3196 28.6753 31.0969L29.9789 29.757C30.1955 29.5344 30.1916 29.1773 29.97 28.9596L5.48908 4.89442C5.26754 4.67664 4.91232 4.6806 4.69569 4.90326L3.39206 6.24315C3.17542 6.46581 3.1794 6.82286 3.40094 7.04064L6.98415 10.563C4.59164 12.4262 3.13477 14.8955 3.13477 17.6043C3.13477 23.407 9.82025 28.111 18.0672 28.111C20.1632 28.111 22.1582 27.8072 23.9683 27.2587L27.8819 31.1058ZM12.9687 16.4459L9.14562 12.6878C7.04739 14.1904 6.12126 15.9708 6.12126 17.6043C6.12126 19.2572 7.06956 21.0606 9.22102 22.5744C11.3631 24.0816 14.4813 25.1091 18.0672 25.1091C19.2549 25.1091 20.3913 24.9964 21.4579 24.7909L19.3334 22.7025C18.9281 22.8039 18.5041 22.8576 18.0675 22.8576C15.1811 22.8576 12.8412 20.5056 12.8412 17.6043C12.8412 17.2063 12.8852 16.8186 12.9687 16.4459Z",fillOpacity:"1"}),i.createElement("path",{d:"M11.9103 8.02949C13.7875 7.43091 15.8721 7.09763 18.0672 7.09763C26.3142 7.09763 32.9997 11.8016 32.9997 17.6043C32.9997 20.3839 31.4656 22.9114 28.9608 24.7905L26.792 22.6586C26.8328 22.6307 26.8733 22.6027 26.9134 22.5744C29.0649 21.0606 30.0132 19.2572 30.0132 17.6043C30.0132 15.9514 29.0649 14.148 26.9134 12.6342C24.7714 11.1271 21.6531 10.0995 18.0672 10.0995C16.7752 10.0995 15.5439 10.2329 14.3971 10.4741L11.9103 8.02949Z",fillOpacity:"1"}),i.createElement("path",{d:"M18.0675 12.351C17.5358 12.351 17.0226 12.4308 16.5391 12.5792L23.0996 19.0282C23.2262 18.5754 23.2939 18.0978 23.2939 17.6043C23.2939 14.703 20.954 12.351 18.0675 12.351Z",fillOpacity:"1"}))}},33088:(e,t,r)=>{"use strict";r.d(t,{Z:()=>n});var i=r(31738);function n(e){var t=e.width,r=void 0===t?"1em":t,n=e.height,a=void 0===n?"1em":n,o=(e.fill,e.style),s=e.className,l=e.e2eTag,u=void 0===l?"":l;return i.createElement("svg",{className:s,style:o,width:r,"data-e2e":u,height:a,viewBox:"0 0 16 16",fill:"none",xmlns:"http://www.w3.org/2000/svg"},i.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M5.49976 4.63112C5.06545 5.0936 4.62479 5.56284 4.24998 6.05172C3.54725 6.90751 3 8.17362 3 9.36435C3 12.1086 5.23858 14.3333 8 14.3333C10.7614 14.3333 13 12.1086 13 9.36435C13 9.03691 12.9528 8.59225 12.9073 8.40713C12.3615 6.18415 11.1447 4.75292 10.5542 4.24058C10.4565 4.15581 10.3212 4.22826 10.3188 4.35758C10.3147 4.56844 10.3062 4.75136 10.2935 4.91181C10.2373 5.62183 10.1429 5.95722 9.84499 6.19799C9.65156 6.35435 9.42231 6.21873 9.41839 5.97004C9.41733 5.90275 9.41663 5.84324 9.41662 5.80327C9.41034 5.39452 9.39392 5.01619 9.3634 4.66443C9.22165 3.16276 8.79853 2.06306 7.80397 1.23281C7.69218 1.13948 7.52409 1.2365 7.51789 1.382C7.4688 2.53434 6.50115 3.56477 5.49977 4.63111L5.49976 4.63112ZM7.92307 7.75924L6.25312 9.76989C5.98907 10.1061 5.83333 10.5216 5.83333 10.971C5.83333 12.0915 6.80338 13 8 13C9.19662 13 10.1667 12.0915 10.1667 10.971C10.1667 10.5216 10.0109 10.1061 9.74687 9.76989L8.07693 7.75924C8.03694 7.7111 7.96306 7.7111 7.92307 7.75924Z",fill:"#FE2C55"}))}},13578:(e,t,r)=>{"use strict";r.d(t,{Z:()=>n});var i=r(31738);function n(e){var t=e.width,r=void 0===t?"1em":t,n=e.height,a=void 0===n?"1em":n,o=e.fill,s=void 0===o?"currentColor":o,l=e.style,u=e.className,c=e.e2eTag,f=void 0===c?"":c;return i.createElement("svg",{className:u,style:l,width:r,"data-e2e":f,height:a,viewBox:"0 0 33 32",fill:s,xmlns:"http://www.w3.org/2000/svg"},i.createElement("path",{d:"M8.5417 16.9942L13.4398 4.39003C13.5312 4.15501 13.7588 4 14.0126 4H22.2303C22.6768 4 22.9739 4.45799 22.7892 4.86138L19.7413 11.516C19.5565 11.9194 19.8537 12.3774 20.3002 12.3774H23.885C24.3889 12.3774 24.6782 12.9467 24.3787 13.3488L13.653 27.7504C13.2651 28.2712 12.4348 27.9113 12.5561 27.2749L14.221 18.5453C14.2926 18.1701 14.0026 17.8227 13.6178 17.8227H9.11448C8.68341 17.8227 8.38658 17.3934 8.5417 16.9942Z"}))}},99084:(e,t,r)=>{"use strict";r.d(t,{Z:()=>n});var i=r(31738);function n(e){var t=e.width,r=void 0===t?"1em":t,n=e.height,a=void 0===n?"1em":n,o=(e.fill,e.style),s=e.className,l=e.e2eTag,u=void 0===l?"":l;return i.createElement("svg",{className:s,style:o,width:r,"data-e2e":u,height:a,viewBox:"0 0 96 96",fill:"none",xmlns:"http://www.w3.org/2000/svg"},i.createElement("path",{d:"M48 96C74.5097 96 96 74.5097 96 48C96 21.4903 74.5097 0 48 0C21.4903 0 0 21.4903 0 48C0 74.5097 21.4903 96 48 96Z",fill:"#79DBF2"}),i.createElement("path",{d:"M23.184 38.4961C28.8571 38.4961 33.456 33.8971 33.456 28.2241C33.456 22.551 28.8571 17.9521 23.184 17.9521C17.511 17.9521 12.912 22.551 12.912 28.2241C12.912 33.8971 17.511 38.4961 23.184 38.4961Z",fill:"black"}),i.createElement("path",{d:"M72.8161 38.4961C78.4892 38.4961 83.0881 33.8971 83.0881 28.2241C83.0881 22.551 78.4892 17.9521 72.8161 17.9521C67.1431 17.9521 62.5441 22.551 62.5441 28.2241C62.5441 33.8971 67.1431 38.4961 72.8161 38.4961Z",fill:"black"}),i.createElement("path",{d:"M48.0001 84.912C68.9958 84.912 86.0161 70.7713 86.0161 53.328C86.0161 35.8846 68.9958 21.744 48.0001 21.744C27.0045 21.744 9.98413 35.8846 9.98413 53.328C9.98413 70.7713 27.0045 84.912 48.0001 84.912Z",fill:"white"}),i.createElement("path",{d:"M38.0972 59.8531C42.2755 52.2576 40.974 43.5211 35.1903 40.3394C29.4066 37.1578 21.3308 40.7359 17.1525 48.3314C12.9742 55.9269 14.2757 64.6635 20.0594 67.8451C25.8431 71.0267 33.9189 67.4486 38.0972 59.8531Z",fill:"black"}),i.createElement("path",{d:"M75.9118 67.86C81.6955 64.6784 82.997 55.9418 78.8187 48.3463C74.6404 40.7508 66.5646 37.1727 60.7809 40.3543C54.9972 43.536 53.6957 52.2725 57.874 59.868C62.0523 67.4635 70.1281 71.0416 75.9118 67.86Z",fill:"black"}),i.createElement("path",{d:"M27.6479 58.416C29.7687 58.416 31.4879 56.6968 31.4879 54.576C31.4879 52.4553 29.7687 50.736 27.6479 50.736C25.5271 50.736 23.8079 52.4553 23.8079 54.576C23.8079 56.6968 25.5271 58.416 27.6479 58.416Z",fill:"white"}),i.createElement("path",{d:"M68.352 58.416C70.4728 58.416 72.192 56.6968 72.192 54.576C72.192 52.4553 70.4728 50.736 68.352 50.736C66.2312 50.736 64.512 52.4553 64.512 54.576C64.512 56.6968 66.2312 58.416 68.352 58.416Z",fill:"white"}),i.createElement("path",{d:"M54.7681 67.344C54.7681 69.744 51.7441 72.8159 48.0001 72.8159C44.2561 72.8159 41.2321 69.744 41.2321 67.344C41.2321 64.944 44.2561 64.128 48.0001 64.128C51.7441 64.128 54.7681 64.944 54.7681 67.344Z",fill:"black"}))}},37713:(e,t,r)=>{"use strict";r.d(t,{Z:()=>n});var i=r(31738);function n(e){var t=e.width,r=void 0===t?"1em":t,n=e.height,a=void 0===n?"1em":n,o=e.fill,s=void 0===o?"currentColor":o,l=e.style,u=e.className,c=e.e2eTag,f=void 0===c?"":c;return i.createElement("svg",{className:u,style:l,width:r,"data-e2e":f,height:a,viewBox:"0 0 72 72",fill:s,xmlns:"http://www.w3.org/2000/svg"},i.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M50.7571 1.16743C51.2866 1.22458 51.6695 1.70014 51.6124 2.22962L49.2242 24.3565H65.3287C65.8612 24.3565 66.293 24.7882 66.293 25.3208V26.5552C66.293 27.0877 65.8612 27.5194 65.3287 27.5194H48.8829L47.0243 44.7401H65.3287C65.8612 44.7401 66.293 45.1718 66.293 45.7044V46.9388C66.293 47.4713 65.8612 47.903 65.3287 47.903H46.6829L44.2855 70.1162C44.2283 70.6457 43.7528 71.0286 43.2233 70.9714L41.9961 70.839C41.4666 70.7818 41.0837 70.3063 41.1408 69.7768L43.5016 47.903H26.461L24.0636 70.1162C24.0065 70.6457 23.5309 71.0286 23.0014 70.9714L21.7742 70.839C21.2447 70.7818 20.8618 70.3063 20.9189 69.7768L23.2797 47.903H6.10714C5.57458 47.903 5.14285 47.4713 5.14285 46.9388V45.7044C5.14285 45.1718 5.57458 44.7401 6.10714 44.7401H23.6211L25.4797 27.5194H6.10714C5.57458 27.5194 5.14285 27.0877 5.14285 26.5552V25.3208C5.14285 24.7882 5.57458 24.3565 6.10714 24.3565H25.8211L28.2458 1.89022C28.303 1.36073 28.7785 0.97783 29.308 1.03498L30.5352 1.16743C31.0647 1.22458 31.4476 1.70014 31.3905 2.22962L29.0024 24.3565H46.0429L48.4677 1.89022C48.5248 1.36073 49.0004 0.97783 49.5299 1.03498L50.7571 1.16743ZM28.661 27.5194L26.8024 44.7401H43.843L45.7016 27.5194H28.661Z"}))}},38624:(e,t,r)=>{"use strict";r.d(t,{Z:()=>n});var i=r(31738);function n(e){var t=e.width,r=void 0===t?"1em":t,n=e.height,a=void 0===n?"1em":n,o=e.fill,s=void 0===o?"currentColor":o,l=e.style,u=e.className,c=e.e2eTag,f=void 0===c?"":c;return i.createElement("svg",{className:u,style:l,width:r,"data-e2e":f,height:a,viewBox:"0 0 48 48",fill:s,xmlns:"http://www.w3.org/2000/svg"},i.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M24 12.1862C19.64 7.41443 12.9471 7.35103 8.70963 11.5561C4.43012 15.8029 4.43012 22.6931 8.70963 26.9399L22.9434 41.0648C23.5283 41.6451 24.4717 41.6451 25.0566 41.0648L39.2904 26.9399C43.5699 22.6931 43.5699 15.8029 39.2904 11.5561C35.0529 7.35103 28.36 7.41443 24 12.1862ZM21.9851 14.4353C18.7397 10.6594 13.8766 10.6551 10.8228 13.6856C7.72574 16.7589 7.72574 21.737 10.8228 24.8104L24 37.8868L37.1772 24.8104C40.2743 21.737 40.2743 16.7589 37.1772 13.6856C34.1234 10.6551 29.2603 10.6594 26.0149 14.4353L25.9761 14.4805L25.0566 15.393C24.4717 15.9733 23.5283 15.9733 22.9434 15.393L22.0239 14.4805L21.9851 14.4353Z"}))}},88711:(e,t,r)=>{"use strict";r.d(t,{Z:()=>n});var i=r(31738);function n(e){var t=e.width,r=void 0===t?"1em":t,n=e.height,a=void 0===n?"1em":n,o=e.fill,s=void 0===o?"currentColor":o,l=e.style,u=e.className,c=e.e2eTag,f=void 0===c?"":c;return i.createElement("svg",{className:u,style:l,width:r,"data-e2e":f,height:a,viewBox:"0 0 48 48",fill:s,xmlns:"http://www.w3.org/2000/svg"},i.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M8.70963 10.5561C12.9471 6.35097 19.64 6.41437 24 11.1862C28.36 6.41437 35.0529 6.35097 39.2904 10.5561C42.1715 13.4152 43.113 17.4725 42.1146 21.1146L39.4961 18.4961C39.5623 16.4013 38.7894 14.2854 37.1772 12.6855C34.1234 9.65506 29.2603 9.6593 26.0149 13.4353L25.9761 13.4804L25.0566 14.3929C24.4717 14.9733 23.5283 14.9733 22.9434 14.3929L22.0239 13.4804L21.9851 13.4353C18.7397 9.6593 13.8766 9.65506 10.8228 12.6855C7.72574 15.7589 7.72574 20.737 10.8228 23.8103L24 36.8867L25.9508 34.9508L28.0722 37.0722L25.0566 40.0647C24.4717 40.6451 23.5283 40.6451 22.9434 40.0647L8.70963 25.9398C4.43012 21.693 4.43012 14.8028 8.70963 10.5561ZM41.8547 31.8547C42.5181 31.221 43.0671 30.5964 43.4771 30.069C43.7303 29.7431 43.943 29.4384 44.1007 29.1776C44.1782 29.0494 44.2559 28.9097 44.3196 28.7693L44.3231 28.7616C44.3596 28.6818 44.5 28.3746 44.5 28C44.5 27.6997 44.4118 27.4447 44.3829 27.3612L44.3824 27.3598C44.336 27.2256 44.2775 27.0887 44.2154 26.9574C44.0898 26.6917 43.9165 26.3798 43.7009 26.043C43.269 25.3681 42.6327 24.5392 41.7879 23.7295C40.0972 22.1093 37.4942 20.5 34 20.5C32.8886 20.5 31.8674 20.6628 30.937 20.937L33.5145 23.5145C33.6737 23.5049 33.8355 23.5 34 23.5C36.5058 23.5 38.4028 24.6407 39.7121 25.8955C40.3673 26.5233 40.856 27.1631 41.1741 27.6601C41.2352 27.7556 41.2888 27.8439 41.3351 27.9238C41.2707 28.0144 41.1952 28.1163 41.1084 28.2279C40.7739 28.6583 40.3058 29.1905 39.7327 29.7327L41.8547 31.8547ZM36.0129 32.1342C35.3571 32.3659 34.6812 32.5 34 32.5C32.0511 32.5 30.1463 31.4024 28.6286 30.0629C27.8895 29.4105 27.2939 28.7455 26.8916 28.2279C26.8048 28.1163 26.7293 28.0144 26.6649 27.9238C26.7112 27.8439 26.7648 27.7556 26.8259 27.6601C27.144 27.1631 27.6327 26.5233 28.2879 25.8955C28.5335 25.6601 28.7998 25.4287 29.0869 25.2082L36.0129 32.1342ZM26.9521 23.0734C26.6886 23.2892 26.442 23.5093 26.2121 23.7295C25.3673 24.5392 24.731 25.3681 24.2991 26.043C24.0835 26.3798 23.9102 26.6917 23.7846 26.9574C23.7225 27.0887 23.664 27.2256 23.6176 27.3598L23.6171 27.3612C23.5882 27.4447 23.5 27.6997 23.5 28C23.5 28.3746 23.6404 28.6818 23.6769 28.7616L23.6804 28.7693C23.7441 28.9097 23.8218 29.0494 23.8993 29.1776C24.057 29.4384 24.2697 29.7431 24.5229 30.069C25.0315 30.7233 25.7539 31.527 26.6434 32.3121C28.3831 33.8476 30.9784 35.5 34 35.5C35.5657 35.5 37.0169 35.0564 38.2939 34.4152L40.2323 36.3537C40.6229 36.7442 41.256 36.7442 41.6466 36.3537L42.3537 35.6466C42.7442 35.256 42.7442 34.6229 42.3537 34.2323L27.7679 19.6466C27.3774 19.256 26.7442 19.256 26.3537 19.6466L25.6466 20.3537C25.256 20.7442 25.256 21.3774 25.6466 21.7679L26.9521 23.0734Z"}))}},23370:(e,t,r)=>{"use strict";r.d(t,{Z:()=>n});var i=r(31738);function n(e){var t=e.width,r=void 0===t?"1em":t,n=e.height,a=void 0===n?"1em":n,o=e.fill,s=void 0===o?"currentColor":o,l=e.style,u=e.className,c=e.e2eTag,f=void 0===c?"":c;return i.createElement("svg",{className:u,style:l,width:r,"data-e2e":f,height:a,viewBox:"0 0 72 72",fill:s,xmlns:"http://www.w3.org/2000/svg"},i.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M33.4646 67.4739C34.2202 68.0266 35.1126 68.3055 36 68.3055C36.8874 68.3055 37.7798 68.0266 38.5404 67.4688C46.2328 61.8504 71.3127 42.0795 70.9679 23.769C70.9679 12.3649 61.6884 3.08545 50.2843 3.08545C44.96 3.08545 39.8386 5.16446 36 8.84075C32.1564 5.16953 27.04 3.09052 21.7157 3.09052C10.3116 3.09052 1.03209 12.37 1.03209 23.7437C0.687274 42.0795 25.7672 61.8504 33.4646 67.4739ZM4.07477 23.769C4.07477 14.0433 11.9902 6.12782 21.7159 6.12782C26.7208 6.12782 31.5126 8.28289 34.8593 12.0403C35.1483 12.3648 35.5641 12.5474 35.9952 12.5474C36.4312 12.5474 36.842 12.3648 37.131 12.0403C40.4878 8.28289 45.2797 6.12782 50.2795 6.12782C60.0052 6.12782 67.9206 14.0433 67.9206 23.7994C68.2502 41.1059 42.004 61.1708 36.7406 65.0145C36.2943 65.339 35.701 65.339 35.2548 65.0145C29.9914 61.1658 3.74517 41.1059 4.07477 23.769Z"}))}},816:(e,t,r)=>{"use strict";r.d(t,{Z:()=>n});var i=r(31738);function n(e){var t=e.width,r=void 0===t?"1em":t,n=e.height,a=void 0===n?"1em":n,o=e.fill,s=void 0===o?"currentColor":o,l=e.style,u=e.className,c=e.e2eTag,f=void 0===c?"":c;return i.createElement("svg",{className:u,style:l,width:r,"data-e2e":f,height:a,viewBox:"0 0 48 48",fill:s,xmlns:"http://www.w3.org/2000/svg"},i.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M8 8.5C6.067 8.5 4.5 10.067 4.5 12V36C4.5 37.933 6.067 39.5 8 39.5H39C40.933 39.5 42.5 37.933 42.5 36V12C42.5 10.067 40.933 8.5 39 8.5H8ZM7.5 12C7.5 11.7239 7.72386 11.5 8 11.5H39C39.2761 11.5 39.5 11.7239 39.5 12V26L31.9 20.3C31.346 19.8845 30.5796 19.9023 30.0454 20.3429L10.4611 36.5H8C7.72386 36.5 7.5 36.2761 7.5 36V12ZM31.0442 23.4081L39.5 29.75V36C39.5 36.2761 39.2761 36.5 39 36.5H15.1753L31.0442 23.4081ZM17 22C18.6569 22 20 20.6569 20 19C20 17.3431 18.6569 16 17 16C15.3431 16 14 17.3431 14 19C14 20.6569 15.3431 22 17 22Z"}))}},22031:(e,t,r)=>{"use strict";r.d(t,{Z:()=>n});var i=r(31738);function n(e){var t=e.width,r=void 0===t?"1em":t,n=e.height,a=void 0===n?"1em":n,o=e.fill,s=void 0===o?"currentColor":o,l=e.style,u=e.className,c=e.e2eTag,f=void 0===c?"":c;return i.createElement("svg",{className:u,style:l,width:r,"data-e2e":f,height:a,viewBox:"0 0 48 48",fill:s,xmlns:"http://www.w3.org/2000/svg"},i.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M24 6C14.0589 6 6 14.0589 6 24C6 33.9411 14.0589 42 24 42C33.9411 42 42 33.9411 42 24C42 14.0589 33.9411 6 24 6ZM2 24C2 11.8497 11.8497 2 24 2C36.1503 2 46 11.8497 46 24C46 36.1503 36.1503 46 24 46C11.8497 46 2 36.1503 2 24ZM27 16C27 17.6569 25.6569 19 24 19C22.3431 19 21 17.6569 21 16C21 14.3431 22.3431 13 24 13C25.6569 13 27 14.3431 27 16ZM23 22C22.4477 22 22 22.4477 22 23V34C22 34.5523 22.4477 35 23 35H25C25.5523 35 26 34.5523 26 34V23C26 22.4477 25.5523 22 25 22H23Z"}))}},52546:(e,t,r)=>{"use strict";r.d(t,{Z:()=>n});var i=r(31738);function n(e){var t=e.width,r=void 0===t?"1em":t,n=e.height,a=void 0===n?"1em":n,o=(e.fill,e.style),s=e.className,l=e.e2eTag,u=void 0===l?"":l;return i.createElement("svg",{className:s,style:o,width:r,"data-e2e":u,height:a,viewBox:"0 0 48 48",fill:"none",xmlns:"http://www.w3.org/2000/svg"},i.createElement("g",{filter:"url(#LikeRedShadowColor_filter0_d)"},i.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M15 4.5C21 4.5 24 8.5 24 8.5C24 8.5 27 4.5 33 4.5C40 4.5 45 9.99998 45 17C45 25 38.4622 32.1314 32.5 37.5C28.8191 40.8144 26 43 24 43C22 43 19.101 40.7978 15.5 37.5C9.63898 32.1325 3 25 3 17C3 9.99998 8 4.5 15 4.5Z",fill:"#FE2C55"})),i.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M4.80371 24.3995C7.17815 29.3932 11.5185 33.8538 15.4999 37.4999C19.1009 40.7978 21.9999 42.9999 23.9999 42.9999C25.9999 42.9999 28.819 40.8144 32.4999 37.4999C38.4621 32.1314 44.9999 24.9999 44.9999 16.9999C44.9999 16.8252 44.9968 16.6513 44.9906 16.4785C41.1344 27.3238 27.3575 37 23.5001 37C20.6255 37 11.2219 31.6262 4.80371 24.3995Z",fill:"black",fillOpacity:"0.03"}),i.createElement("defs",null,i.createElement("filter",{id:"LikeRedShadowColor_filter0_d",x:"0.6",y:"3.3",width:"46.8",height:"43.3",filterUnits:"userSpaceOnUse",colorInterpolationFilters:"sRGB"},i.createElement("feFlood",{floodOpacity:"0",result:"BackgroundImageFix"}),i.createElement("feColorMatrix",{in:"SourceAlpha",type:"matrix",values:"0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 127 0"}),i.createElement("feOffset",{dy:"1.2"}),i.createElement("feGaussianBlur",{stdDeviation:"1.2"}),i.createElement("feColorMatrix",{type:"matrix",values:"0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0.15 0"}),i.createElement("feBlend",{mode:"normal",in2:"BackgroundImageFix",result:"effect1_dropShadow"}),i.createElement("feBlend",{mode:"normal",in:"SourceGraphic",in2:"effect1_dropShadow",result:"shape"}))))}},93969:(e,t,r)=>{"use strict";r.d(t,{Z:()=>n});var i=r(31738);function n(e){var t=e.width,r=void 0===t?"1em":t,n=e.height,a=void 0===n?"1em":n,o=(e.fill,e.style),s=e.className,l=e.e2eTag,u=void 0===l?"":l;return i.createElement("svg",{className:s,style:o,width:r,"data-e2e":u,height:a,viewBox:"0 0 48 48",fill:"none",xmlns:"http://www.w3.org/2000/svg"},i.createElement("g",{filter:"url(#LikeShadowColor_filter0_d)"},i.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M15 4.5C21 4.5 24 8.5 24 8.5C24 8.5 27 4.5 33 4.5C40 4.5 45 9.99998 45 17C45 25 38.4622 32.1314 32.5 37.5C28.8191 40.8144 26 43 24 43C22 43 19.101 40.7978 15.5 37.5C9.63898 32.1325 3 25 3 17C3 9.99998 8 4.5 15 4.5Z",fill:"white",fillOpacity:"0.9"})),i.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M4.80371 24.3995C7.17815 29.3932 11.5185 33.8538 15.4999 37.4999C19.1009 40.7978 21.9999 42.9999 23.9999 42.9999C25.9999 42.9999 28.819 40.8144 32.4999 37.4999C38.4621 32.1314 44.9999 24.9999 44.9999 16.9999C44.9999 16.8252 44.9968 16.6513 44.9906 16.4785C41.1344 27.3238 27.3575 37 23.5001 37C20.6255 37 11.2219 31.6262 4.80371 24.3995Z",fill:"black",fillOpacity:"0.03"}),i.createElement("defs",null,i.createElement("filter",{id:"LikeShadowColor_filter0_d",x:"0.6",y:"3.3",width:"46.8",height:"43.3",filterUnits:"userSpaceOnUse",colorInterpolationFilters:"sRGB"},i.createElement("feFlood",{floodOpacity:"0",result:"BackgroundImageFix"}),i.createElement("feColorMatrix",{in:"SourceAlpha",type:"matrix",values:"0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 127 0"}),i.createElement("feOffset",{dy:"1.2"}),i.createElement("feGaussianBlur",{stdDeviation:"1.2"}),i.createElement("feColorMatrix",{type:"matrix",values:"0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0.15 0"}),i.createElement("feBlend",{mode:"normal",in2:"BackgroundImageFix",result:"effect1_dropShadow"}),i.createElement("feBlend",{mode:"normal",in:"SourceGraphic",in2:"effect1_dropShadow",result:"shape"}))))}},2412:(e,t,r)=>{"use strict";r.d(t,{Z:()=>n});var i=r(31738);function n(e){var t=e.width,r=void 0===t?"1em":t,n=e.height,a=void 0===n?"1em":n,o=e.fill,s=void 0===o?"currentColor":o,l=e.style,u=e.className,c=e.e2eTag,f=void 0===c?"":c;return i.createElement("svg",{className:u,style:l,width:r,"data-e2e":f,height:a,viewBox:"0 0 48 48",fill:s,xmlns:"http://www.w3.org/2000/svg"},i.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M23.5857 9.58571C27.6805 5.49096 34.3194 5.49096 38.4141 9.58571C42.5089 13.6805 42.5089 20.3194 38.4141 24.4141L37.1212 25.707C36.7307 26.0975 36.0975 26.0975 35.707 25.707L34.2928 24.2928C33.9023 23.9023 33.9023 23.2691 34.2928 22.8786L35.5857 21.5857C38.1184 19.0531 38.1184 14.9468 35.5857 12.4141C33.053 9.88149 28.9468 9.88148 26.4141 12.4141L22.4141 16.4141C20.121 18.7072 19.9041 22.2903 21.7634 24.8275C22.0899 25.2729 22.0976 25.9023 21.707 26.2928L20.2928 27.707C19.9023 28.0975 19.2646 28.1001 18.9126 27.6745C15.5048 23.5554 15.7292 17.4422 19.5857 13.5857L23.5857 9.58571ZM27.707 20.2928C28.0976 19.9023 28.7352 19.8997 29.0873 20.3253C32.495 24.4444 32.2706 30.5576 28.4141 34.4141L24.4141 38.4141C20.3194 42.5089 13.6805 42.5089 9.58571 38.4141C5.49096 34.3193 5.49096 27.6804 9.58573 23.5857L10.8786 22.2928C11.2691 21.9023 11.9023 21.9023 12.2928 22.2928L13.707 23.707C14.0976 24.0975 14.0975 24.7307 13.707 25.1212L12.4141 26.4141C9.88148 28.9468 9.88148 33.053 12.4141 35.5857C14.9468 38.1183 19.053 38.1183 21.5857 35.5857L25.5857 31.5857C27.8788 29.2926 28.0957 25.7095 26.2364 23.1724C25.9099 22.7269 25.9023 22.0975 26.2928 21.707L27.707 20.2928Z"}))}},72414:(e,t,r)=>{"use strict";r.d(t,{Z:()=>n});var i=r(31738);function n(e){var t=e.width,r=void 0===t?"1em":t,n=e.height,a=void 0===n?"1em":n,o=e.fill,s=void 0===o?"currentColor":o,l=e.style,u=e.className,c=e.e2eTag,f=void 0===c?"":c;return i.createElement("svg",{className:u,style:l,width:r,"data-e2e":f,height:a,viewBox:"0 0 48 48",fill:s,xmlns:"http://www.w3.org/2000/svg"},i.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M24 6C20.134 6 17 9.13401 17 13V17H31V13C31 9.13401 27.866 6 24 6ZM35 17V13C35 6.92487 30.0751 2 24 2C17.9249 2 13 6.92487 13 13V17H12C8.68629 17 6 19.6863 6 23V39C6 42.3137 8.68629 45 12 45H36C39.3137 45 42 42.3137 42 39V23C42 19.6863 39.3137 17 36 17H35ZM12 21C10.8954 21 10 21.8954 10 23V39C10 40.1046 10.8954 41 12 41H36C37.1046 41 38 40.1046 38 39V23C38 21.8954 37.1046 21 36 21H12ZM26 32.4649C27.1956 31.7733 28 30.4806 28 29C28 26.7909 26.2091 25 24 25C21.7909 25 20 26.7909 20 29C20 30.4806 20.8044 31.7733 22 32.4649V37C22 37.5523 22.4477 38 23 38H25C25.5523 38 26 37.5523 26 37V32.4649Z"}))}},16883:(e,t,r)=>{"use strict";r.d(t,{Z:()=>n});var i=r(31738);function n(e){var t=e.width,r=void 0===t?"1em":t,n=e.height,a=void 0===n?"1em":n,o=e.fill,s=void 0===o?"currentColor":o,l=e.style,u=e.className,c=e.e2eTag,f=void 0===c?"":c;return i.createElement("svg",{className:u,style:l,width:r,"data-e2e":f,height:a,viewBox:"0 0 48 48",fill:s,xmlns:"http://www.w3.org/2000/svg"},i.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M24 8.5C20.9624 8.5 18.5 10.9624 18.5 14V18.5H29.5V14C29.5 10.9624 27.0376 8.5 24 8.5ZM32.5 18.5V14C32.5 9.30558 28.6944 5.5 24 5.5C19.3056 5.5 15.5 9.30558 15.5 14V18.5H11C9.61929 18.5 8.5 19.6193 8.5 21V40C8.5 41.3807 9.61929 42.5 11 42.5H37C38.3807 42.5 39.5 41.3807 39.5 40V21C39.5 19.6193 38.3807 18.5 37 18.5H32.5ZM11.5 21.5V39.5H36.5V21.5H11.5Z"}))}},2606:(e,t,r)=>{"use strict";r.d(t,{Z:()=>n});var i=r(31738);function n(e){var t=e.width,r=void 0===t?"1em":t,n=e.height,a=void 0===n?"1em":n,o=e.fill,s=void 0===o?"currentColor":o,l=e.style,u=e.className,c=e.e2eTag,f=void 0===c?"":c;return i.createElement("svg",{className:u,style:l,width:r,"data-e2e":f,height:a,viewBox:"0 0 48 48",fill:s,xmlns:"http://www.w3.org/2000/svg"},i.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M24 3C17.9249 3 13 7.92487 13 14V21H8C6.89543 21 6 21.8954 6 23V41C6 42.1046 6.89543 43 8 43H40C41.1046 43 42 42.1046 42 41V23C42 21.8954 41.1046 21 40 21H35V14C35 7.92487 30.0751 3 24 3ZM31 21V14C31 10.134 27.866 7 24 7C20.134 7 17 10.134 17 14V21H31Z"}))}},72354:(e,t,r)=>{"use strict";r.d(t,{Z:()=>n});var i=r(31738);function n(e){var t=e.width,r=void 0===t?"1em":t,n=e.height,a=void 0===n?"1em":n,o=e.fill,s=void 0===o?"currentColor":o,l=e.style,u=e.className,c=e.e2eTag,f=void 0===c?"":c;return i.createElement("svg",{className:u,style:l,width:r,"data-e2e":f,height:a,viewBox:"0 0 48 48",fill:s,xmlns:"http://www.w3.org/2000/svg"},i.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M22 10C15.3726 10 10 15.3726 10 22C10 28.6274 15.3726 34 22 34C28.6274 34 34 28.6274 34 22C34 15.3726 28.6274 10 22 10ZM6 22C6 13.1634 13.1634 6 22 6C30.8366 6 38 13.1634 38 22C38 25.6974 36.7458 29.1019 34.6397 31.8113L43.3809 40.5565C43.7712 40.947 43.7712 41.5801 43.3807 41.9705L41.9665 43.3847C41.5759 43.7753 40.9426 43.7752 40.5521 43.3846L31.8113 34.6397C29.1019 36.7458 25.6974 38 22 38C13.1634 38 6 30.8366 6 22Z"}))}},77180:(e,t,r)=>{"use strict";r.d(t,{Z:()=>n});var i=r(31738);function n(e){var t=e.width,r=void 0===t?"1em":t,n=e.height,a=void 0===n?"1em":n,o=e.fill,s=void 0===o?"currentColor":o,l=e.style,u=e.className,c=e.e2eTag,f=void 0===c?"":c;return i.createElement("svg",{className:u,style:l,width:r,"data-e2e":f,height:a,viewBox:"0 0 48 48",fill:s,xmlns:"http://www.w3.org/2000/svg"},i.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M35.0001 10.7587C35.0001 10.1169 34.4041 9.64129 33.7784 9.78359L17.7902 13.4192C17.335 13.5227 17.0119 13.9275 17.0119 14.3943V37.9972H17.0109C17.0374 40.1644 14.8022 42.4189 11.612 43.2737C8.05093 44.2279 4.64847 43.0769 4.01236 40.7028C3.37624 38.3288 5.74735 35.6308 9.30838 34.6766C10.606 34.3289 11.8826 34.2608 13.0119 34.4294V14.3943C13.0119 12.0601 14.6271 10.0364 16.9033 9.5188L32.8914 5.88317C36.0204 5.17165 39.0001 7.54986 39.0001 10.7587V33.1191C39.084 35.3108 36.8331 37.6109 33.6032 38.4763C30.0421 39.4305 26.6397 38.2795 26.0036 35.9055C25.3675 33.5315 27.7386 30.8334 31.2996 29.8792C32.5961 29.5319 33.8715 29.4635 35.0001 29.6316V10.7587Z"}))}},61193:(e,t,r)=>{"use strict";r.d(t,{Z:()=>n});var i=r(31738);function n(e){var t=e.width,r=void 0===t?"1em":t,n=e.height,a=void 0===n?"1em":n,o=e.fill,s=void 0===o?"currentColor":o,l=e.style,u=e.className,c=e.e2eTag,f=void 0===c?"":c;return i.createElement("svg",{className:u,style:l,width:r,"data-e2e":f,height:a,viewBox:"0 0 72 72",fill:s,xmlns:"http://www.w3.org/2000/svg"},i.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M69.07 1.39049C69.4326 1.6902 69.6425 2.13608 69.6425 2.60649V55.4412C69.6618 55.5966 69.6718 55.755 69.6718 55.9158V58.8542C69.6718 62.9423 66.3577 66.2564 62.2696 66.2564H53.9206C50.0147 66.2564 46.8484 63.09 46.8484 59.1841C46.8484 55.2782 50.0147 52.1119 53.9206 52.1119H65.8679C66.0788 52.1119 66.2856 52.129 66.4872 52.162V4.51509L24.8515 12.4916V60.1579C24.8707 60.3128 24.8806 60.4706 24.8806 60.6307V63.5691C24.8806 67.6572 21.5665 70.9713 17.4784 70.9713H9.12941C5.22351 70.9713 2.05716 67.805 2.05716 63.8991C2.05716 59.9932 5.22352 56.8268 9.12942 56.8268H21.0767C21.2877 56.8268 21.4946 56.844 21.6962 56.877V11.1875C21.6962 10.4306 22.2337 9.78043 22.977 9.63802L67.768 1.05702C68.23 0.968504 68.7074 1.09078 69.07 1.39049ZM21.6962 60.438C21.6141 60.1739 21.3678 59.9821 21.0767 59.9821H9.12942C6.96615 59.9821 5.21248 61.7358 5.21248 63.8991C5.21248 66.0623 6.96615 67.816 9.12941 67.816H17.4784C19.6699 67.816 21.4737 66.1561 21.7011 64.0249C21.6979 63.9835 21.6962 63.9417 21.6962 63.8994V60.438ZM66.4872 58.996V55.7224C66.4049 55.4586 66.1588 55.2672 65.8679 55.2672H53.9206C51.7573 55.2672 50.0037 57.0208 50.0037 59.1841C50.0037 61.3474 51.7573 63.1011 53.9206 63.1011H62.2696C64.4949 63.1011 66.3205 61.3895 66.5017 59.211C66.4921 59.1407 66.4872 59.0689 66.4872 58.996Z"}))}},4457:(e,t,r)=>{"use strict";r.d(t,{Z:()=>n});var i=r(31738);function n(e){var t=e.width,r=void 0===t?"1em":t,n=e.height,a=void 0===n?"1em":n,o=e.fill,s=void 0===o?"currentColor":o,l=e.style,u=e.className,c=e.e2eTag,f=void 0===c?"":c;return i.createElement("svg",{className:u,style:l,width:r,"data-e2e":f,height:a,viewBox:"0 0 48 48",fill:s,xmlns:"http://www.w3.org/2000/svg"},i.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M18.41 17L18.9739 7.47047C18.9895 7.20626 19.2083 7 19.473 7H20.4682C20.7558 7 20.9841 7.24206 20.9673 7.52919L20.4135 17H28.41L28.9739 7.47047C28.9895 7.20626 29.2083 7 29.473 7H30.4682C30.7558 7 30.9841 7.24206 30.9673 7.52919L30.4135 17H38.5C38.7761 17 39 17.2239 39 17.5V18.5C39 18.7761 38.7761 19 38.5 19H30.2958L29.7664 28H37.5C37.7761 28 38 28.2239 38 28.5V29.5C38 29.7761 37.7761 30 37.5 30H29.6488L29.0276 40.5596C29.0114 40.8353 28.7748 41.0456 28.4991 41.0294L27.5009 40.9706C27.2252 40.9544 27.0149 40.7178 27.0311 40.4422L27.6453 30H19.6488L19.0276 40.5596C19.0114 40.8353 18.7748 41.0456 18.4991 41.0294L17.5009 40.9706C17.2252 40.9544 17.0149 40.7178 17.0311 40.4422L17.6453 30H9.5C9.22386 30 9 29.7761 9 29.5V28.5C9 28.2239 9.22386 28 9.5 28H17.763L18.2924 19H10.5C10.2239 19 10 18.7761 10 18.5V17.5C10 17.2239 10.2239 17 10.5 17H18.41ZM20.2958 19L19.7664 28H27.763L28.2924 19H20.2958Z"}))}},11372:(e,t,r)=>{"use strict";r.d(t,{Z:()=>n});var i=r(31738);function n(e){var t=e.width,r=void 0===t?"1em":t,n=e.height,a=void 0===n?"1em":n,o=e.fill,s=void 0===o?"currentColor":o,l=e.style,u=e.className,c=e.e2eTag,f=void 0===c?"":c;return i.createElement("svg",{className:u,style:l,width:r,"data-e2e":f,height:a,viewBox:"0 0 48 48",fill:s,xmlns:"http://www.w3.org/2000/svg"},i.createElement("path",{d:"M8 6C8 5.44771 8.44772 5 9 5H17C17.5523 5 18 5.44772 18 6V42C18 42.5523 17.5523 43 17 43H9C8.44772 43 8 42.5523 8 42V6Z"}),i.createElement("path",{d:"M30 6C30 5.44771 30.4477 5 31 5H39C39.5523 5 40 5.44772 40 6V42C40 42.5523 39.5523 43 39 43H31C30.4477 43 30 42.5523 30 42V6Z"}))}},26014:(e,t,r)=>{"use strict";r.d(t,{Z:()=>n});var i=r(31738);function n(e){var t=e.width,r=void 0===t?"1em":t,n=e.height,a=void 0===n?"1em":n,o=e.fill,s=void 0===o?"currentColor":o,l=e.style,u=e.className,c=e.e2eTag,f=void 0===c?"":c;return i.createElement("svg",{className:u,style:l,width:r,"data-e2e":f,height:a,viewBox:"0 0 48 48",fill:s,xmlns:"http://www.w3.org/2000/svg"},i.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M26.5858 5.08579C27.3479 4.32371 28.5767 4.30253 29.3646 5.03789L36.8646 12.0379C37.2612 12.408 37.4904 12.9232 37.4997 13.4655C37.5091 14.0078 37.2977 14.5307 36.9142 14.9142L16.9142 34.9142C16.5391 35.2893 16.0304 35.5 15.5 35.5H8.5C7.39543 35.5 6.5 34.6046 6.5 33.5V26C6.5 25.4696 6.71071 24.9609 7.08579 24.5858L26.5858 5.08579ZM28.0479 9.2805L10.5 26.8284V31.5H14.6716L32.622 13.5496L28.0479 9.2805Z"}),i.createElement("path",{d:"M7 41C7 40.4477 7.44772 40 8 40H41C41.5523 40 42 40.4477 42 41V43C42 43.5523 41.5523 44 41 44H8C7.44772 44 7 43.5523 7 43V41Z"}))}},16397:(e,t,r)=>{"use strict";r.d(t,{Z:()=>n});var i=r(31738);function n(e){var t=e.width,r=void 0===t?"1em":t,n=e.height,a=void 0===n?"1em":n,o=e.fill,s=void 0===o?"currentColor":o,l=e.style,u=e.className,c=e.e2eTag,f=void 0===c?"":c;return i.createElement("svg",{className:u,style:l,width:r,"data-e2e":f,height:a,viewBox:"0 0 48 48",fill:s,xmlns:"http://www.w3.org/2000/svg"},i.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M28.2929 13.8787C27.9024 14.2692 27.9024 14.9024 28.2929 15.2929L29.7071 16.7071C30.0977 17.0977 30.7308 17.0977 31.1213 16.7071L39.7071 8.12135C40.0977 7.73083 40.0977 7.09766 39.7071 6.70714L38.2929 5.29292C37.9024 4.9024 37.2692 4.9024 36.8787 5.29292L28.2929 13.8787ZM12 6C9.79086 6 8 7.79086 8 10V38C8 40.2091 9.79086 42 12 42H36C38.2091 42 40 40.2091 40 38V19C40 18.4477 39.5523 18 39 18H37C36.4477 18 36 18.4477 36 19V37C36 37.5523 35.5523 38 35 38H13C12.4477 38 12 37.5523 12 37V11C12 10.4477 12.4477 10 13 10H26C26.5523 10 27 9.55229 27 9V7C27 6.44772 26.5523 6 26 6H12ZM18 19C17.4477 19 17 19.4477 17 20V22C17 22.5523 17.4477 23 18 23H24C24.5523 23 25 22.5523 25 22V20C25 19.4477 24.5523 19 24 19H18ZM17 28C17 27.4477 17.4477 27 18 27H29C29.5523 27 30 27.4477 30 28V30C30 30.5523 29.5523 31 29 31H18C17.4477 31 17 30.5523 17 30V28Z"}))}},98811:(e,t,r)=>{"use strict";r.d(t,{Z:()=>n});var i=r(31738);function n(e){var t=e.width,r=void 0===t?"1em":t,n=e.height,a=void 0===n?"1em":n,o=e.fill,s=void 0===o?"currentColor":o,l=e.style,u=e.className,c=e.e2eTag,f=void 0===c?"":c;return i.createElement("svg",{className:u,style:l,width:r,"data-e2e":f,height:a,viewBox:"0 0 48 48",fill:s,xmlns:"http://www.w3.org/2000/svg"},i.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M24.0003 7C20.1343 7 17.0003 10.134 17.0003 14C17.0003 17.866 20.1343 21 24.0003 21C27.8663 21 31.0003 17.866 31.0003 14C31.0003 10.134 27.8663 7 24.0003 7ZM13.0003 14C13.0003 7.92487 17.9252 3 24.0003 3C30.0755 3 35.0003 7.92487 35.0003 14C35.0003 20.0751 30.0755 25 24.0003 25C17.9252 25 13.0003 20.0751 13.0003 14ZM24.0003 33C18.0615 33 13.0493 36.9841 11.4972 42.4262C11.3457 42.9573 10.8217 43.3088 10.2804 43.1989L8.32038 42.8011C7.77914 42.6912 7.4266 42.1618 7.5683 41.628C9.49821 34.358 16.1215 29 24.0003 29C31.8792 29 38.5025 34.358 40.4324 41.628C40.5741 42.1618 40.2215 42.6912 39.6803 42.8011L37.7203 43.1989C37.179 43.3088 36.6549 42.9573 36.5035 42.4262C34.9514 36.9841 29.9391 33 24.0003 33Z"}))}},16871:(e,t,r)=>{"use strict";r.d(t,{Z:()=>n});var i=r(31738);function n(e){var t=e.width,r=void 0===t?"1em":t,n=e.height,a=void 0===n?"1em":n,o=e.fill,s=void 0===o?"currentColor":o,l=e.style,u=e.className,c=e.e2eTag,f=void 0===c?"":c;return i.createElement("svg",{className:u,style:l,width:r,"data-e2e":f,height:a,viewBox:"0 0 72 72",fill:s,xmlns:"http://www.w3.org/2000/svg"},i.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M16.6276 20.2241C16.6276 30.8074 25.2394 39.4192 35.8227 39.4192C46.4059 39.4192 55.0178 30.8074 55.0178 20.2241C55.0178 9.64086 46.4059 1.02899 35.8227 1.02899C25.2394 1.02899 16.6276 9.64086 16.6276 20.2241ZM19.7405 20.2244C19.7405 11.3583 26.9568 4.14202 35.8229 4.14202C44.689 4.14202 51.9053 11.3583 51.9053 20.2244C51.9053 29.0905 44.689 36.3068 35.8229 36.3068C26.9568 36.3068 19.7405 29.0905 19.7405 20.2244Z"}),i.createElement("path",{d:"M6.69813 70.9717C6.56844 70.9717 6.43874 70.9562 6.30904 70.9199C5.47898 70.7072 4.97576 69.8563 5.19365 69.0263C8.79922 55.045 21.3954 45.2762 35.8228 45.2762C50.2503 45.2762 62.8465 55.0398 66.4572 69.0211C66.6699 69.8512 66.1719 70.702 65.3366 70.9147C64.5014 71.1326 63.6558 70.6293 63.4379 69.7941C60.1851 57.1876 48.8288 48.3837 35.8176 48.3837C22.8117 48.3837 11.4554 57.1876 8.19743 69.7941C8.02104 70.5048 7.39331 70.9717 6.69813 70.9717Z"}))}},48267:(e,t,r)=>{"use strict";r.d(t,{Z:()=>n});var i=r(31738);function n(e){var t=e.width,r=void 0===t?"1em":t,n=e.height,a=void 0===n?"1em":n,o=e.fill,s=void 0===o?"currentColor":o,l=e.style,u=e.className,c=e.e2eTag,f=void 0===c?"":c;return i.createElement("svg",{className:u,style:l,width:r,"data-e2e":f,height:a,viewBox:"0 0 72 72",fill:s,xmlns:"http://www.w3.org/2000/svg"},i.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M5 10H67C67.5523 10 68 10.4477 68 11V38.6587L58.5286 28.5108C57.1645 27.0493 54.8555 27.0253 53.4614 28.4582L38.0517 44.2959L32.4507 38.8026C31.0896 37.4677 28.9104 37.4677 27.5493 38.8026L4.24641 61.6574C4.09296 61.4816 4 61.2517 4 61V11C4 10.4477 4.44771 10 5 10ZM56.103 62L40.1936 46.3965L55.6115 30.5502C55.8107 30.3456 56.1406 30.349 56.3354 30.5578L68 43.0555V61C68 61.5523 67.5523 62 67 62H56.103ZM67 65H55.0193H55H54.8774H5.12266H5L4.98071 65C2.78045 64.9896 1 63.2027 1 61V11C1 8.79086 2.79086 7 5 7H67C69.2091 7 71 8.79086 71 11V41.873L71.0966 41.9765L71 42.0667V61C71 63.2091 69.2091 65 67 65ZM30.3501 40.9444L51.8186 62H8.18149L29.6499 40.9444C29.8444 40.7537 30.1557 40.7537 30.3501 40.9444ZM19.5 30C21.9853 30 24 27.9853 24 25.5C24 23.0147 21.9853 21 19.5 21C17.0147 21 15 23.0147 15 25.5C15 27.9853 17.0147 30 19.5 30Z"}))}},63854:(e,t,r)=>{"use strict";r.d(t,{Z:()=>n});var i=r(31738);function n(e){var t=e.width,r=void 0===t?"1em":t,n=e.height,a=void 0===n?"1em":n,o=e.fill,s=void 0===o?"currentColor":o,l=e.style,u=e.className,c=e.e2eTag,f=void 0===c?"":c;return i.createElement("svg",{className:u,style:l,width:r,"data-e2e":f,height:a,viewBox:"0 0 48 48",fill:s,xmlns:"http://www.w3.org/2000/svg"},i.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M12 8.77702C12 6.43812 14.5577 4.99881 16.5569 6.21266L41.6301 21.4356C43.5542 22.6038 43.5542 25.3962 41.6301 26.5644L16.5569 41.7873C14.5577 43.0012 12 41.5619 12 39.223V8.77702Z"}))}},21879:(e,t,r)=>{"use strict";r.d(t,{Z:()=>n});var i=r(31738);function n(e){var t=e.width,r=void 0===t?"1em":t,n=e.height,a=void 0===n?"1em":n,o=e.fill,s=void 0===o?"currentColor":o,l=e.style,u=e.className,c=e.e2eTag,f=void 0===c?"":c;return i.createElement("svg",{className:u,style:l,width:r,"data-e2e":f,height:a,viewBox:"0 0 24 24",fill:s,xmlns:"http://www.w3.org/2000/svg"},i.createElement("path",{d:"M7.5 3C7.22386 3 7 3.22386 7 3.5V4C7 4.27614 7.22386 4.5 7.5 4.5H16.75C18.2688 4.5 19.5 5.73122 19.5 7.25V16.5C19.5 16.7761 19.7239 17 20 17H20.5C20.7761 17 21 16.7761 21 16.5V7.25C21 4.90279 19.0972 3 16.75 3H7.5Z"}),i.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M8.38313 10.0959C8.61975 9.96315 8.9096 9.96857 9.14109 10.11L13.6411 12.86C13.864 12.9963 14 13.2387 14 13.5C14 13.7613 13.864 14.0037 13.6411 14.14L9.14109 16.89C8.9096 17.0314 8.61975 17.0369 8.38313 16.9041C8.14651 16.7714 8 16.5213 8 16.25V10.75C8 10.4787 8.14651 10.2286 8.38313 10.0959ZM9.5 14.9127L11.8117 13.5L9.5 12.0873V14.9127Z"}),i.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M5.25 6C4.00736 6 3 7.00736 3 8.25V18.75C3 19.9926 4.00736 21 5.25 21H15.75C16.9926 21 18 19.9926 18 18.75V8.25C18 7.00736 16.9926 6 15.75 6H5.25ZM4.5 8.25C4.5 7.83579 4.83579 7.5 5.25 7.5H15.75C16.1642 7.5 16.5 7.83579 16.5 8.25V18.75C16.5 19.1642 16.1642 19.5 15.75 19.5H5.25C4.83579 19.5 4.5 19.1642 4.5 18.75V8.25Z"}))}},91693:(e,t,r)=>{"use strict";r.d(t,{Z:()=>n});var i=r(31738);function n(e){var t=e.width,r=void 0===t?"1em":t,n=e.height,a=void 0===n?"1em":n,o=(e.fill,e.style),s=e.className,l=e.e2eTag,u=void 0===l?"":l;return i.createElement("svg",{className:s,style:o,width:r,"data-e2e":u,height:a,viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg"},i.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M4.125 2.5C2.9514 2.5 2 3.45139 2 4.625V21.5C2 21.9045 2.24364 22.2691 2.61732 22.4239C2.99099 22.5787 3.42111 22.4931 3.70711 22.2071L7.35171 18.5625H19.875C21.0486 18.5625 22 17.6111 22 16.4375V4.625C22 3.45141 21.0486 2.5 19.875 2.5H4.125Z",fill:"#FE2C55"}),i.createElement("path",{d:"M10.9658 8.84675C11.2397 8.28818 11.6356 8.03174 12.058 8.03174C12.618 8.03174 13.0719 8.48569 13.0719 9.04566C13.0719 9.18801 12.9609 9.47812 12.5922 9.78372C12.3734 9.96507 12.1352 10.0902 11.9219 10.1603C11.7251 10.2249 11.5545 10.3953 11.5545 10.6024V11.8524C11.5545 12.0595 11.7231 12.2295 11.9285 12.2028C12.6448 12.1098 13.3386 11.7627 13.8685 11.3235C14.4804 10.8163 15.0719 10.0156 15.0719 9.04566C15.0719 7.38112 13.7226 6.03174 12.058 6.03174C10.5004 6.03174 9.53101 7.10786 9.06051 8.21109C8.97926 8.40159 9.08687 8.6147 9.28335 8.68019L10.4692 9.07547C10.6657 9.14097 10.8746 9.03271 10.9658 8.84675Z",fill:"white"}),i.createElement("path",{d:"M12.1245 15.2822C12.7458 15.2822 13.2495 14.7785 13.2495 14.1572C13.2495 13.5359 12.7458 13.0322 12.1245 13.0322C11.5032 13.0322 10.9995 13.5359 10.9995 14.1572C10.9995 14.7785 11.5032 15.2822 12.1245 15.2822Z",fill:"white"}))}},54305:(e,t,r)=>{"use strict";r.d(t,{Z:()=>n});var i=r(31738);function n(e){var t=e.width,r=void 0===t?"1em":t,n=e.height,a=void 0===n?"1em":n,o=e.fill,s=void 0===o?"currentColor":o,l=e.style,u=e.className,c=e.e2eTag,f=void 0===c?"":c;return i.createElement("svg",{className:u,style:l,width:r,"data-e2e":f,height:a,viewBox:"0 0 20 20",fill:s,xmlns:"http://www.w3.org/2000/svg"},i.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M1.875 0C0.839467 0 0 0.839465 0 1.875V12.5625V13.6875V18.75C0 19.0533 0.182732 19.3268 0.462987 19.4429C0.743243 19.559 1.06583 19.4948 1.28033 19.2803L4.99816 15.5625H17.625C18.6606 15.5625 19.5 14.723 19.5 13.6875V1.875C19.5 0.839474 18.6606 0 17.625 0H1.875ZM1.5 13.6875V12.5625V1.875C1.5 1.66789 1.66789 1.5 1.875 1.5H17.625C17.8321 1.5 18 1.66789 18 1.875V13.6875C18 13.8946 17.8321 14.0625 17.625 14.0625H4.6875C4.48859 14.0625 4.29782 14.1415 4.15717 14.2822L1.5 16.9393V13.6875ZM10.1817 5.25C9.52734 5.25 8.99553 5.73121 8.71151 6.58327L7.28849 6.10892C7.67578 4.94706 8.61163 3.75 10.1817 3.75C11.7082 3.75 12.9457 4.98745 12.9457 6.51392C12.9457 7.38038 12.4142 8.11732 11.8327 8.59933C11.2438 9.08744 10.4508 9.44567 9.67827 9.44567V7.94567C10.018 7.94567 10.4837 7.76916 10.8755 7.44446C11.2746 7.11366 11.4457 6.75972 11.4457 6.51392C11.4457 5.81588 10.8798 5.25 10.1817 5.25ZM10.8501 11C10.8501 11.4142 10.5143 11.75 10.1001 11.75C9.68591 11.75 9.35012 11.4142 9.35012 11C9.35012 10.5858 9.68591 10.25 10.1001 10.25C10.5143 10.25 10.8501 10.5858 10.8501 11Z"}))}},34785:(e,t,r)=>{"use strict";r.d(t,{Z:()=>n});var i=r(31738);function n(e){var t=e.width,r=void 0===t?"1em":t,n=e.height,a=void 0===n?"1em":n,o=e.fill,s=void 0===o?"currentColor":o,l=e.style,u=e.className,c=e.e2eTag,f=void 0===c?"":c;return i.createElement("svg",{className:u,style:l,width:r,"data-e2e":f,height:a,viewBox:"0 0 73 72",fill:s,xmlns:"http://www.w3.org/2000/svg"},i.createElement("g",{clipPath:"url(#QuestionLarge_clip0)"},i.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M7.625 3C4.5184 3 2 5.5184 2 8.625V70.5C2 71.1067 2.36546 71.6536 2.92597 71.8858C3.48649 72.118 4.13166 71.9897 4.56066 71.5607L18.5588 57.5625H65.375C68.4817 57.5625 71 55.0441 71 51.9375V8.625C71 5.51841 68.4817 3 65.375 3H7.625ZM16.8768 55.0018L5 66.8787V8.625C5 7.17525 6.17525 6 7.625 6H65.375C66.8248 6 68 7.17524 68 8.625V51.9375C68 53.3873 66.8248 54.5625 65.375 54.5625H17.9375C17.5397 54.5625 17.1582 54.7205 16.8768 55.0018ZM37.1664 18.8333C34.0038 18.8333 31.7171 21.1943 30.5897 24.5767L27.7436 23.628C29.0776 19.626 32.1724 15.8333 37.1664 15.8333C42.0731 15.8333 46.0508 19.811 46.0508 24.7177C46.0508 27.3775 44.4024 29.7604 42.4221 31.4018C40.4271 33.0554 37.7923 34.2174 35.3203 34.2174V31.2174C36.9266 31.2174 38.907 30.4188 40.5077 29.0921C42.1231 27.7531 43.0508 26.1362 43.0508 24.7177C43.0508 21.4679 40.4163 18.8333 37.1664 18.8333ZM38.9444 41.7777C38.9444 43.1278 37.85 44.2222 36.5 44.2222C35.1499 44.2222 34.0555 43.1278 34.0555 41.7777C34.0555 40.4277 35.1499 39.3333 36.5 39.3333C37.85 39.3333 38.9444 40.4277 38.9444 41.7777Z",fillOpacity:"0.34"})),i.createElement("defs",null,i.createElement("clipPath",{id:"QuestionLarge_clip0"},i.createElement("rect",{width:"72",height:"72",fill:"white",transform:"translate(0.5)"}))))}},28053:(e,t,r)=>{"use strict";r.d(t,{Z:()=>n});var i=r(31738);function n(e){var t=e.width,r=void 0===t?"1em":t,n=e.height,a=void 0===n?"1em":n,o=e.fill,s=void 0===o?"currentColor":o,l=e.style,u=e.className,c=e.e2eTag,f=void 0===c?"":c;return i.createElement("svg",{className:u,style:l,width:r,"data-e2e":f,height:a,viewBox:"0 0 48 48",fill:s,xmlns:"http://www.w3.org/2000/svg"},i.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M24 6C14.0589 6 6 14.0589 6 24C6 33.9411 14.0589 42 24 42C33.9411 42 42 33.9411 42 24C42 14.0589 33.9411 6 24 6ZM2 24C2 11.8497 11.8497 2 24 2C36.1503 2 46 11.8497 46 24C46 36.1503 36.1503 46 24 46C11.8497 46 2 36.1503 2 24ZM24.0909 15C22.172 15 20.3433 16.2292 19.2617 18.61C19.0332 19.1128 18.4726 19.4 17.9487 19.2253L16.0513 18.5929C15.5274 18.4182 15.2406 17.8497 15.4542 17.3405C16.9801 13.7031 20.0581 11 24.0909 11C28.459 11 32 14.541 32 18.9091C32 21.2138 30.7884 23.4606 29.2167 25.074C27.8157 26.5121 25.5807 27.702 22.9988 27.9518C22.4491 28.0049 22.0001 27.5523 22.0001 27V25C22.0001 24.4477 22.4504 24.0057 22.9955 23.9167C24.2296 23.7153 25.5034 23.1533 26.3515 22.2828C27.4389 21.1666 28 19.8679 28 18.9091C28 16.7502 26.2498 15 24.0909 15ZM24 36C22.3431 36 21 34.6569 21 33C21 31.3431 22.3431 30 24 30C25.6569 30 27 31.3431 27 33C27 34.6569 25.6569 36 24 36Z"}))}},93245:(e,t,r)=>{"use strict";r.d(t,{Z:()=>n});var i=r(31738);function n(e){var t=e.width,r=void 0===t?"1em":t,n=e.height,a=void 0===n?"1em":n,o=(e.fill,e.style),s=e.className,l=e.e2eTag,u=void 0===l?"":l;return i.createElement("svg",{className:s,style:o,width:r,"data-e2e":u,height:a,viewBox:"0 0 28 28",fill:"none",xmlns:"http://www.w3.org/2000/svg"},i.createElement("g",{filter:"url(#RedPlusCircleColor_filter0_d)"},i.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M14 25C20.6274 25 26 19.6274 26 13C26 6.37258 20.6274 1 14 1C7.37258 1 2 6.37258 2 13C2 19.6274 7.37258 25 14 25Z",fill:"#FE2C55"})),i.createElement("path",{d:"M9.5 14C9.22386 14 9 13.7761 9 13.5V12.5C9 12.2239 9.22386 12 9.5 12H18.5C18.7761 12 19 12.2239 19 12.5V13.5C19 13.7761 18.7761 14 18.5 14H9.5Z",fill:"white"}),i.createElement("path",{d:"M13 8.5C13 8.22386 13.2239 8 13.5 8H14.5C14.7761 8 15 8.22386 15 8.5V17.5C15 17.7761 14.7761 18 14.5 18H13.5C13.2239 18 13 17.7761 13 17.5V8.5Z",fill:"white"}),i.createElement("defs",null,i.createElement("filter",{id:"RedPlusCircleColor_filter0_d",x:"0",y:"0",width:"28",height:"28",filterUnits:"userSpaceOnUse",colorInterpolationFilters:"sRGB"},i.createElement("feFlood",{floodOpacity:"0",result:"BackgroundImageFix"}),i.createElement("feColorMatrix",{in:"SourceAlpha",type:"matrix",values:"0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 127 0"}),i.createElement("feOffset",{dy:"1"}),i.createElement("feGaussianBlur",{stdDeviation:"1"}),i.createElement("feColorMatrix",{type:"matrix",values:"0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0.06 0"}),i.createElement("feBlend",{mode:"normal",in2:"BackgroundImageFix",result:"effect1_dropShadow"}),i.createElement("feBlend",{mode:"normal",in:"SourceGraphic",in2:"effect1_dropShadow",result:"shape"}))))}},77966:(e,t,r)=>{"use strict";r.d(t,{Z:()=>n});var i=r(31738);function n(e){var t=e.width,r=void 0===t?"1em":t,n=e.height,a=void 0===n?"1em":n,o=e.fill,s=void 0===o?"currentColor":o,l=e.style,u=e.className,c=e.e2eTag,f=void 0===c?"":c;return i.createElement("svg",{className:u,style:l,width:r,"data-e2e":f,height:a,viewBox:"0 0 72 72",fill:s,xmlns:"http://www.w3.org/2000/svg"},i.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M31.8549 23.3698C32.1558 23.7421 32.5944 23.9308 33.0382 23.9308C33.3799 23.9308 33.7216 23.8186 34.0073 23.584L44.5999 14.9006C44.992 14.7196 45.3058 14.3749 45.4323 13.928C45.5702 13.4408 45.454 12.9406 45.1634 12.5692C45.145 12.5441 45.1258 12.5196 45.1058 12.4957L36.0372 1.58075C35.5017 0.932996 34.5326 0.841188 33.8848 1.38183C33.2371 1.91738 33.1453 2.88646 33.6859 3.53421L40.007 11.1434C33.6606 10.3212 27.2427 11.5509 21.5521 14.7339C14.5492 18.651 9.49471 25.0572 7.31683 32.7792C5.13384 40.4962 6.09272 48.6058 10.0099 55.6036C13.927 62.6014 20.3382 67.661 28.0552 69.8389C30.7737 70.604 33.5126 70.9712 36.2057 70.9712C49.3087 70.9712 61.3814 62.3158 65.1251 49.1057C65.9513 46.178 66.3339 43.1586 66.2523 40.1442C66.2268 39.3129 65.5484 38.6549 64.7221 38.6549H64.6813C63.8347 38.6804 63.1716 39.3792 63.192 40.2258C63.2634 42.9342 62.9217 45.6425 62.177 48.2743C58.1324 62.5861 43.2034 70.9406 28.8916 66.9011C21.9551 64.9425 16.2018 60.4031 12.6825 54.1143C9.16318 47.8306 8.30121 40.5472 10.2598 33.6157C12.2183 26.6791 16.7577 20.9258 23.0465 17.4065C28.4154 14.3996 34.5141 13.3326 40.4996 14.3072L32.0691 21.2174C31.4162 21.7529 31.3193 22.7169 31.8549 23.3698Z"}))}},65905:(e,t,r)=>{"use strict";r.d(t,{Z:()=>n});var i=r(31738);function n(e){var t=e.width,r=void 0===t?"1em":t,n=e.height,a=void 0===n?"1em":n,o=e.fill,s=void 0===o?"currentColor":o,l=e.style,u=e.className,c=e.e2eTag,f=void 0===c?"":c;return i.createElement("svg",{className:u,style:l,width:r,"data-e2e":f,height:a,viewBox:"0 0 20 18",fill:s,xmlns:"http://www.w3.org/2000/svg"},i.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M2.51999 2.1875C2.51999 1.25552 3.28801 0.5 4.21999 0.5C5.15197 0.5 5.91999 1.25552 5.91999 2.1875V5.0125C5.91999 5.94448 5.15197 6.7 4.21999 6.7C3.28801 6.7 2.51999 5.94448 2.51999 5.0125V2.1875ZM13.74 2.1875C13.74 1.25552 14.508 0.5 15.44 0.5C16.372 0.5 17.14 1.25552 17.14 2.1875V5.0125C17.14 5.94448 16.372 6.7 15.44 6.7C14.508 6.7 13.74 5.94448 13.74 5.0125V2.1875ZM2.88749 16.7967C2.4475 17.3986 1.60286 17.5299 1.00095 17.0899C0.399037 16.6499 0.267776 15.8052 0.707771 15.2033C2.80658 12.3322 6.18469 10.4602 9.99999 10.4602C13.8153 10.4602 17.1934 12.3322 19.2922 15.2033C19.7322 15.8052 19.6009 16.6499 18.999 17.0899C18.3971 17.5299 17.5525 17.3986 17.1125 16.7967C15.495 14.5839 12.9088 13.1602 9.99999 13.1602C7.09119 13.1602 4.50503 14.5839 2.88749 16.7967Z"}))}},7117:(e,t,r)=>{"use strict";r.d(t,{Z:()=>n});var i=r(31738);function n(e){var t=e.width,r=void 0===t?"1em":t,n=e.height,a=void 0===n?"1em":n,o=(e.fill,e.style),s=e.className,l=e.e2eTag,u=void 0===l?"":l;return i.createElement("svg",{className:s,style:o,width:r,"data-e2e":u,height:a,viewBox:"0 0 48 48",fill:"none",xmlns:"http://www.w3.org/2000/svg"},i.createElement("g",{opacity:"0.9",filter:"url(#ShareShadowColor_filter0_d)"},i.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M25.8 10.3085C25.8 9.04248 27.3162 8.39262 28.233 9.26572L42.1847 22.5524C43.4124 23.7216 43.3695 25.6932 42.092 26.8079L28.1867 38.9414C27.2552 39.7542 25.8 39.0926 25.8 37.8564V32.3581C25.8 32.3581 10.8695 29.6685 6.08025 38.4593C5.63374 39.2789 3.89328 39.5657 4.24706 35.4764C5.72648 27.9499 8.75001 16.1999 25.8 16.1999V10.3085Z",fill:"white"})),i.createElement("path",{opacity:"0.03",fillRule:"evenodd",clipRule:"evenodd",d:"M36.0958 16.8L38.8639 22.3362C39.3536 23.3155 39.1184 24.5021 38.2921 25.2206L25.8958 36C25.8958 36 25.2958 39 27.0958 39C28.8958 39 43.2958 25.8 43.2958 25.8C43.2958 25.8 43.8958 24 42.0958 22.2C40.2958 20.4 36.0958 16.8 36.0958 16.8Z",fill:"#161823"}),i.createElement("path",{opacity:"0.09",fillRule:"evenodd",clipRule:"evenodd",d:"M25.7997 16.8389V32.4389C25.7997 32.4389 11.5114 30.4255 7.03635 37.2389C2.73042 43.7949 3.12588 29.8349 9.60816 22.8829C16.0904 15.931 25.7997 16.8389 25.7997 16.8389Z",fill:"url(#ShareShadowColor_paint0_radial)"}),i.createElement("defs",null,i.createElement("filter",{id:"ShareShadowColor_filter0_d",x:"1.79995",y:"7.66563",width:"43.6786",height:"35.2335",filterUnits:"userSpaceOnUse",colorInterpolationFilters:"sRGB"},i.createElement("feFlood",{floodOpacity:"0",result:"BackgroundImageFix"}),i.createElement("feColorMatrix",{in:"SourceAlpha",type:"matrix",values:"0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 127 0"}),i.createElement("feOffset",{dy:"1.2"}),i.createElement("feGaussianBlur",{stdDeviation:"1.2"}),i.createElement("feColorMatrix",{type:"matrix",values:"0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0.15 0"}),i.createElement("feBlend",{mode:"normal",in2:"BackgroundImageFix",result:"effect1_dropShadow"}),i.createElement("feBlend",{mode:"normal",in:"SourceGraphic",in2:"effect1_dropShadow",result:"shape"})),i.createElement("radialGradient",{id:"ShareShadowColor_paint0_radial",cx:"0",cy:"0",r:"1",gradientUnits:"userSpaceOnUse",gradientTransform:"translate(26.324 42.5462) rotate(-113.046) scale(19.0955 18.771)"},i.createElement("stop",null),i.createElement("stop",{offset:"0.995496",stopOpacity:"0.01"}),i.createElement("stop",{offset:"1",stopOpacity:"0.01"}))))}},13645:(e,t,r)=>{"use strict";r.d(t,{Z:()=>n});var i=r(31738);function n(e){var t=e.width,r=void 0===t?"1em":t,n=e.height,a=void 0===n?"1em":n,o=e.fill,s=void 0===o?"currentColor":o,l=e.style,u=e.className,c=e.e2eTag,f=void 0===c?"":c;return i.createElement("svg",{className:u,style:l,width:r,"data-e2e":f,height:a,viewBox:"0 0 48 48",fill:s,xmlns:"http://www.w3.org/2000/svg"},i.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M25.4142 2.58579C24.6332 1.80474 23.3668 1.80474 22.5858 2.58579C21.8425 3.32905 20.6045 4.08438 19.0002 4.79737C17.4279 5.4962 15.649 6.09169 13.9506 6.57694C12.258 7.06052 10.681 7.42462 9.52548 7.66787C8.94887 7.78926 8.48002 7.87998 8.15763 7.93996C7.9965 7.96994 7.87214 7.9922 7.78941 8.00675L7.69721 8.02276L7.6757 8.02642L7.67089 8.02723C6.7067 8.18809 6.00003 9.02235 6 9.9999V10.0009L6.00013 10.2264C6.00026 10.3735 6.00052 10.589 6.00106 10.8632C6.00212 11.4116 6.00426 12.1946 6.00857 13.1341C6.01716 15.0092 6.03438 17.5102 6.0689 20.0141C6.073 28.6446 9.84799 34.8734 13.867 38.9109C15.8704 40.9236 17.9455 42.4054 19.6754 43.3931C20.5398 43.8866 21.3373 44.2678 22.0161 44.5319C22.6125 44.7638 23.3489 45 24 45C24.6511 45 25.3875 44.7638 25.9839 44.5319C26.6627 44.2678 27.4602 43.8866 28.3246 43.3931C30.0545 42.4054 32.1296 40.9236 34.133 38.9109C38.1523 34.8731 41.9276 28.6436 41.9311 20.0119C41.9655 17.0118 41.9827 14.5114 41.9914 12.7598C41.9957 11.883 41.9978 11.1937 41.9989 10.7233C41.9995 10.4881 41.9997 10.3076 41.9999 10.1858L42 9.99997C42 9.02229 41.2931 8.18789 40.3287 8.02716L40.3243 8.02642L40.3028 8.02276L40.2106 8.00675C40.1279 7.9922 40.0035 7.96994 39.8424 7.93996C39.52 7.87998 39.0511 7.78926 38.4745 7.66787C37.319 7.42462 35.742 7.06052 34.0494 6.57694C32.3511 6.09169 30.5721 5.4962 28.9998 4.79737C27.3955 4.08438 26.1575 3.32905 25.4142 2.58579ZM10.0085 13.1158C10.006 12.5704 10.0043 12.078 10.003 11.6541C10.114 11.6313 10.2296 11.6073 10.3495 11.5821C11.569 11.3253 13.242 10.9394 15.0494 10.423C16.8511 9.90829 18.8221 9.25378 20.6248 8.45262C21.8024 7.92922 22.9762 7.31398 24 6.59088C25.0238 7.31398 26.1976 7.92922 27.3752 8.45262C29.1779 9.25378 31.1489 9.90829 32.9506 10.423C34.758 10.9394 36.431 11.3253 37.6505 11.5821C37.77 11.6072 37.8853 11.6312 37.9961 11.6539C37.9949 11.974 37.9934 12.3371 37.9914 12.7401C37.9828 14.4865 37.9656 16.9821 37.9312 19.977L37.9311 20C37.9311 27.3621 34.7425 32.6288 31.2981 36.089C29.5687 37.8263 27.786 39.0945 26.3413 39.9194C25.6184 40.3321 24.9995 40.6228 24.5336 40.804C24.2544 40.9126 24.082 40.9614 24 40.9832C23.918 40.9614 23.7456 40.9126 23.4664 40.804C23.0006 40.6228 22.3816 40.3321 21.6587 39.9194C20.214 39.0945 18.4313 37.8263 16.7019 36.089C13.2575 32.6288 10.0689 27.3621 10.0689 20L10.0687 19.9724C10.0343 17.4807 10.0171 14.9874 10.0085 13.1158ZM32.1496 20.6397C32.5505 20.2598 32.5676 19.6269 32.1878 19.226L30.8123 17.774C30.4324 17.3731 29.7995 17.356 29.3986 17.7358L21.9652 24.778L19.0812 22.1824C18.6707 21.8129 18.0384 21.8462 17.669 22.2567L16.3311 23.7433C15.9616 24.1538 15.9949 24.7861 16.4054 25.1556L20.6621 28.9866C21.4373 29.6842 22.6184 29.6692 23.3755 28.9519L32.1496 20.6397Z"}))}},6672:(e,t,r)=>{"use strict";r.d(t,{Z:()=>n});var i=r(31738);function n(e){var t=e.width,r=void 0===t?"1em":t,n=e.height,a=void 0===n?"1em":n,o=e.fill,s=void 0===o?"currentColor":o,l=e.style,u=e.className,c=e.e2eTag,f=void 0===c?"":c;return i.createElement("svg",{className:u,style:l,width:r,"data-e2e":f,height:a,viewBox:"0 0 20 18",fill:s,xmlns:"http://www.w3.org/2000/svg"},i.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M2.52 2.1875C2.52 1.25552 3.28802 0.5 4.22 0.5C5.15198 0.5 5.92 1.25552 5.92 2.1875V5.0125C5.92 5.94448 5.15198 6.7 4.22 6.7C3.28802 6.7 2.52 5.94448 2.52 5.0125V2.1875ZM13.74 2.1875C13.74 1.25552 14.508 0.5 15.44 0.5C16.372 0.5 17.14 1.25552 17.14 2.1875V5.0125C17.14 5.94448 16.372 6.7 15.44 6.7C14.508 6.7 13.74 5.94448 13.74 5.0125V2.1875ZM2.88751 11.0135C2.44751 10.4116 1.60288 10.2803 1.00097 10.7203C0.399052 11.1603 0.267791 12.0049 0.707787 12.6069C2.80659 15.478 6.1847 17.35 10 17.35C13.8153 17.35 17.1934 15.478 19.2922 12.6069C19.7322 12.0049 19.601 11.1603 18.999 10.7203C18.3971 10.2803 17.5525 10.4116 17.1125 11.0135C15.495 13.2263 12.9088 14.65 10 14.65C7.0912 14.65 4.50504 13.2263 2.88751 11.0135Z"}))}},51553:(e,t,r)=>{"use strict";r.d(t,{Z:()=>n});var i=r(31738);function n(e){var t=e.width,r=void 0===t?"1em":t,n=e.height,a=void 0===n?"1em":n,o=e.fill,s=void 0===o?"currentColor":o,l=e.style,u=e.className,c=e.e2eTag,f=void 0===c?"":c;return i.createElement("svg",{className:u,style:l,width:r,"data-e2e":f,height:a,viewBox:"0 0 48 48",fill:s,xmlns:"http://www.w3.org/2000/svg"},i.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M25 10.8685C25 8.47242 22.3296 7.04325 20.3359 8.37236L10.3944 15H6C4.34315 15 3 16.3431 3 18V30C3 31.6568 4.34314 33 6 33H10.3944L20.3359 39.6276C22.3296 40.9567 25 39.5276 25 37.1315V10.8685ZM29.2929 18.1213L35.1716 24L29.2929 29.8787C28.9024 30.2692 28.9024 30.9024 29.2929 31.2929L30.7071 32.7071C31.0976 33.0976 31.7308 33.0976 32.1213 32.7071L38 26.8284L43.8787 32.7071C44.2692 33.0976 44.9024 33.0976 45.2929 32.7071L46.7071 31.2929C47.0976 30.9024 47.0976 30.2692 46.7071 29.8787L40.8284 24L46.7071 18.1213C47.0976 17.7308 47.0976 17.0976 46.7071 16.7071L45.2929 15.2929C44.9024 14.9024 44.2692 14.9024 43.8787 15.2929L38 21.1716L32.1213 15.2929C31.7308 14.9024 31.0976 14.9024 30.7071 15.2929L29.2929 16.7071C28.9024 17.0976 28.9024 17.7308 29.2929 18.1213Z"}))}},29231:(e,t,r)=>{"use strict";r.d(t,{Z:()=>n});var i=r(31738);function n(e){var t=e.width,r=void 0===t?"1em":t,n=e.height,a=void 0===n?"1em":n,o=(e.fill,e.style),s=e.className,l=e.e2eTag,u=void 0===l?"":l;return i.createElement("svg",{className:s,style:o,width:r,"data-e2e":u,height:a,viewBox:"0 0 45 44",fill:"none",xmlns:"http://www.w3.org/2000/svg"},i.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M22.5 44C34.6503 44 44.5 34.1503 44.5 22C44.5 9.84974 34.6503 0 22.5 0C10.3497 0 0.5 9.84974 0.5 22C0.5 34.1503 10.3497 44 22.5 44Z",fill:"#161823",fillOpacity:"0.03"}),i.createElement("mask",{id:"SuccessColor_mask0","mask-type":"alpha",maskUnits:"userSpaceOnUse",x:"0",y:"0",width:"45",height:"44"},i.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M22.5 44C34.6503 44 44.5 34.1503 44.5 22C44.5 9.84974 34.6503 0 22.5 0C10.3497 0 0.5 9.84974 0.5 22C0.5 34.1503 10.3497 44 22.5 44Z",fill:"white"})),i.createElement("g",{mask:"url(#SuccessColor_mask0)"},i.createElement("path",{d:"M19.828 25.5057L29.7826 15.4812C29.8891 15.374 30.0622 15.3728 30.1702 15.4786L31.6903 16.968C31.7993 17.0748 31.8005 17.2499 31.6929 17.3582L20.7845 28.3432C20.2583 28.873 19.3976 28.873 18.8715 28.3432L13.5049 22.9389C13.3974 22.8307 13.3986 22.6555 13.5076 22.5487L15.0277 21.0593C15.1356 20.9535 15.3087 20.9547 15.4152 21.062L19.828 25.5057Z",fill:"#13C15A"})))}},45586:(e,t,r)=>{"use strict";r.d(t,{Z:()=>n});var i=r(31738);function n(e){var t=e.width,r=void 0===t?"1em":t,n=e.height,a=void 0===n?"1em":n,o=e.fill,s=void 0===o?"currentColor":o,l=e.style,u=e.className,c=e.e2eTag,f=void 0===c?"":c;return i.createElement("svg",{className:u,style:l,width:r,"data-e2e":f,height:a,viewBox:"0 0 48 48",fill:s,xmlns:"http://www.w3.org/2000/svg"},i.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M42.6925 12.7217C43.0748 13.1203 43.0616 13.7533 42.663 14.1356L18.8847 36.9434C18.0993 37.6967 16.8556 37.6838 16.086 36.9142L5.29314 26.1213C4.90261 25.7308 4.90261 25.0976 5.29314 24.7071L6.70735 23.2929C7.09788 22.9024 7.73104 22.9024 8.12156 23.2929L17.5294 32.7007L39.8941 11.2489C40.2927 10.8666 40.9257 10.8798 41.308 11.2783L42.6925 12.7217Z"}))}},41573:(e,t,r)=>{"use strict";r.d(t,{Z:()=>n});var i=r(31738);function n(e){var t=e.width,r=void 0===t?"1em":t,n=e.height,a=void 0===n?"1em":n,o=e.fill,s=void 0===o?"currentColor":o,l=e.style,u=e.className,c=e.e2eTag,f=void 0===c?"":c;return i.createElement("svg",{className:u,style:l,width:r,"data-e2e":f,height:a,viewBox:"0 0 16 12",fill:s,xmlns:"http://www.w3.org/2000/svg"},i.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M13.9637 0.370662C14.1617 0.168152 14.4882 0.170371 14.6834 0.375552L15.6676 1.40986C15.8531 1.60483 15.851 1.91164 15.6629 2.10407L6.33538 11.644C5.86141 12.1288 5.09629 12.1169 4.6365 11.6177L0.326723 6.93829C0.144403 6.74033 0.151478 6.43358 0.342731 6.24424L1.35546 5.24162C1.55673 5.04237 1.88315 5.0499 2.07502 5.25822L5.5238 9.0028L13.9637 0.370662Z"}))}},63639:(e,t,r)=>{"use strict";r.d(t,{Z:()=>n});var i=r(31738);function n(e){var t=e.width,r=void 0===t?"1em":t,n=e.height,a=void 0===n?"1em":n,o=e.fill,s=void 0===o?"currentColor":o,l=e.style,u=e.className,c=e.e2eTag,f=void 0===c?"":c;return i.createElement("svg",{className:u,style:l,width:r,"data-e2e":f,height:a,viewBox:"0 0 20 20",fill:s,xmlns:"http://www.w3.org/2000/svg"},i.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M10.0002 2.49992C5.85803 2.49992 2.50016 5.85778 2.50016 9.99992C2.50016 14.1421 5.85803 17.4999 10.0002 17.4999C14.1423 17.4999 17.5002 14.1421 17.5002 9.99992C17.5002 5.85778 14.1423 2.49992 10.0002 2.49992ZM0.833496 9.99992C0.833496 4.93731 4.93755 0.833252 10.0002 0.833252C15.0628 0.833252 19.1668 4.93731 19.1668 9.99992C19.1668 15.0625 15.0628 19.1666 10.0002 19.1666C4.93755 19.1666 0.833496 15.0625 0.833496 9.99992Z"}),i.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M12.141 4.99992C12.141 6.27424 13.2115 7.3484 14.5835 7.3484V9.01507C13.6736 9.01507 12.8267 8.72389 12.141 8.22854V11.4961C12.141 13.2238 10.7059 14.5833 8.98723 14.5833C7.26852 14.5833 5.8335 13.2238 5.8335 11.4961C5.8335 9.76845 7.26852 8.40901 8.98723 8.40901V10.0757C8.1429 10.0757 7.50016 10.7343 7.50016 11.4961C7.50016 12.2579 8.1429 12.9166 8.98723 12.9166C9.83156 12.9166 10.4743 12.2579 10.4743 11.4961V4.99992H12.141Z"}))}},79121:(e,t,r)=>{"use strict";r.d(t,{Z:()=>n});var i=r(31738);function n(e){var t=e.width,r=void 0===t?"1em":t,n=e.height,a=void 0===n?"1em":n,o=e.fill,s=void 0===o?"currentColor":o,l=e.style,u=e.className,c=e.e2eTag,f=void 0===c?"":c;return i.createElement("svg",{className:u,style:l,width:r,"data-e2e":f,height:a,viewBox:"0 0 48 48",fill:s,xmlns:"http://www.w3.org/2000/svg"},i.createElement("path",{d:"M42 13.875C36.4081 13.875 31.875 9.34188 31.875 3.75H25.125V31.3125C25.125 34.7298 22.3548 37.5 18.9375 37.5C15.5202 37.5 12.75 34.7298 12.75 31.3125C12.75 27.8952 15.5202 25.125 18.9375 25.125C19.4439 25.125 19.9318 25.1851 20.3962 25.2971C20.4731 25.3157 20.5493 25.3356 20.625 25.357V18.4844C20.0716 18.4122 19.5082 18.375 18.9375 18.375C11.7923 18.375 6 24.1673 6 31.3125C6 38.4577 11.7923 44.25 18.9375 44.25C26.0827 44.25 31.875 38.4577 31.875 31.3125V17.2512C34.6954 19.3697 38.2011 20.625 42 20.625V13.875Z"}))}},77969:(e,t,r)=>{"use strict";r.d(t,{Z:()=>n});var i=r(31738);function n(e){var t=e.width,r=void 0===t?"1em":t,n=e.height,a=void 0===n?"1em":n,o=e.fill,s=void 0===o?"currentColor":o,l=e.style,u=e.className,c=e.e2eTag,f=void 0===c?"":c;return i.createElement("svg",{className:u,style:l,width:r,"data-e2e":f,height:a,viewBox:"0 0 48 48",fill:s,xmlns:"http://www.w3.org/2000/svg"},i.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M16.5 9C13.0453 9 10.2347 11.8104 10.2347 15.2895C10.2347 18.7686 13.0453 21.5789 16.5 21.5789C19.9548 21.5789 22.7654 18.7686 22.7654 15.2895C22.7654 11.8104 19.9548 9 16.5 9ZM6.23468 15.2895C6.23468 9.61226 10.8251 5 16.5 5C22.1749 5 26.7654 9.61226 26.7654 15.2895C26.7654 20.9667 22.1749 25.5789 16.5 25.5789C10.8251 25.5789 6.23468 20.9667 6.23468 15.2895ZM35.5 16C33.4258 16 31.6837 17.7217 31.6837 19.9211C31.6837 22.1204 33.4258 23.8421 35.5 23.8421C37.5742 23.8421 39.3164 22.1204 39.3164 19.9211C39.3164 17.7217 37.5742 16 35.5 16ZM27.6837 19.9211C27.6837 15.5802 31.1497 12 35.5 12C39.8504 12 43.3164 15.5802 43.3164 19.9211C43.3164 24.2619 39.8504 27.8421 35.5 27.8421C31.1497 27.8421 27.6837 24.2619 27.6837 19.9211ZM16.5 32.9474C11.1565 32.9474 6.63553 36.522 5.20008 41.4261C5.04493 41.9561 4.52145 42.3079 3.98014 42.1984L2.01989 41.8016C1.47858 41.6921 1.12554 41.1628 1.26924 40.6295C3.08188 33.903 9.20882 28.9474 16.5 28.9474C23.7912 28.9474 29.9182 33.903 31.7308 40.6295C31.8745 41.1628 31.5215 41.6921 30.9801 41.8016L29.0199 42.1984C28.4786 42.3079 27.9551 41.9561 27.8 41.4261C26.3645 36.522 21.8436 32.9474 16.5 32.9474ZM34.5 35.1053C33.4444 35.1053 32.5679 35.2479 31.8346 35.4841C31.3089 35.6534 30.7069 35.4655 30.4554 34.9738L29.5446 33.1932C29.2931 32.7016 29.4865 32.0943 30.0008 31.893C31.3208 31.3762 32.8181 31.1053 34.5 31.1053C38.1911 31.1053 40.9031 32.4146 42.7838 34.5371C44.3511 36.3059 45.2273 38.5107 45.7455 40.6327C45.8765 41.1692 45.5223 41.6964 44.9807 41.8044L43.0193 42.1955C42.4777 42.3036 41.9545 41.951 41.8182 41.4158C41.3885 39.7287 40.7439 38.2663 39.79 37.1899C38.7278 35.9911 37.1389 35.1053 34.5 35.1053Z"}))}},15756:(e,t,r)=>{"use strict";r.d(t,{Z:()=>n});var i=r(31738);function n(e){var t=e.width,r=void 0===t?"1em":t,n=e.height,a=void 0===n?"1em":n,o=e.fill,s=void 0===o?"currentColor":o,l=e.style,u=e.className,c=e.e2eTag,f=void 0===c?"":c;return i.createElement("svg",{className:u,style:l,width:r,"data-e2e":f,height:a,viewBox:"0 0 48 48",fill:s,xmlns:"http://www.w3.org/2000/svg"},i.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M7 10C4.23858 10 2 12.2386 2 15V33C2 35.7614 4.23858 38 7 38H29C31.7614 38 34 35.7614 34 33V27.2763L42.2879 33.5909C42.8927 34.0516 43.7064 34.1297 44.3876 33.7922C45.0689 33.4548 45.5 32.7603 45.5 32V16C45.5 15.2397 45.0689 14.5452 44.3876 14.2078C43.7063 13.8703 42.8927 13.9484 42.2879 14.4091L34 20.7238V15C34 12.2386 31.7614 10 29 10H7Z"}))}},23845:(e,t,r)=>{"use strict";r.d(t,{Z:()=>n});var i=r(31738);function n(e){var t=e.width,r=void 0===t?"1em":t,n=e.height,a=void 0===n?"1em":n,o=e.fill,s=void 0===o?"currentColor":o,l=e.style,u=e.className,c=e.e2eTag,f=void 0===c?"":c;return i.createElement("svg",{className:u,style:l,width:r,"data-e2e":f,height:a,viewBox:"0 0 72 72",fill:s,xmlns:"http://www.w3.org/2000/svg"},i.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M8.59922 63.1209H51.2069C55.3809 63.1209 58.7776 59.7242 58.7826 55.5503V45.1431L68.4428 53.8141C68.887 54.2128 69.5279 54.3188 70.073 54.0715C70.6181 53.8292 70.9714 53.2841 70.9714 52.6886V18.661C70.9714 18.0654 70.6181 17.5203 70.073 17.278C69.5229 17.0358 68.887 17.1367 68.4428 17.5354L58.7826 26.2064V15.7992C58.7826 11.6253 55.3859 8.22858 51.212 8.22858H8.59922C4.42526 8.22858 1.02855 11.6253 1.02855 15.7992V55.5503C1.02855 59.7242 4.42526 63.1209 8.59922 63.1209ZM4.05681 15.7995C4.05681 13.2961 6.09585 11.2571 8.59921 11.2571H51.212C53.7153 11.2571 55.7544 13.2961 55.7544 15.7995V29.6033C55.7544 30.1989 56.1077 30.744 56.6528 30.9862C57.2029 31.2285 57.8388 31.1276 58.283 30.7288L67.9431 22.0579V49.2972L58.283 40.6262C57.8388 40.2275 57.1978 40.1266 56.6528 40.3688C56.1077 40.6111 55.7544 41.1562 55.7544 41.7517V55.5505C55.7544 58.0539 53.7153 60.0929 51.212 60.0929H8.59921C6.09585 60.0929 4.05681 58.0539 4.05681 55.5505V15.7995Z"}),i.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M21.217 47.3887C21.4491 47.525 21.7116 47.5906 21.974 47.5906C22.2365 47.5906 22.4989 47.52 22.7311 47.3837L40.7442 36.9866C41.2136 36.7141 41.5013 36.2144 41.5013 35.6744C41.5013 35.1344 41.2136 34.6347 40.7442 34.3621L22.7311 23.9601C22.2617 23.6875 21.6864 23.6875 21.217 23.9601C20.7476 24.2326 20.4599 24.7323 20.4599 25.2723V46.0765C20.4599 46.6165 20.7476 47.1162 21.217 47.3887ZM36.9589 35.6744L23.4882 43.452V27.8968L36.9589 35.6744Z"}))}},32124:(e,t,r)=>{"use strict";r.d(t,{Z:()=>n});var i=r(31738);function n(e){var t=e.width,r=void 0===t?"1em":t,n=e.height,a=void 0===n?"1em":n,o=e.fill,s=void 0===o?"currentColor":o,l=e.style,u=e.className,c=e.e2eTag,f=void 0===c?"":c;return i.createElement("svg",{className:u,style:l,width:r,"data-e2e":f,height:a,viewBox:"0 0 48 48",fill:s,xmlns:"http://www.w3.org/2000/svg"},i.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M24 46C36.1503 46 46 36.1503 46 24C46 11.8497 36.1503 2 24 2C11.8497 2 2 11.8497 2 24C2 36.1503 11.8497 46 24 46ZM15.1466 30.7323L21.8788 24.0001L15.1466 17.2679C14.756 16.8774 14.756 16.2442 15.1466 15.8537L15.8537 15.1466C16.2442 14.756 16.8774 14.756 17.2679 15.1466L24.0001 21.8788L30.7323 15.1466C31.1229 14.756 31.756 14.756 32.1466 15.1466L32.8537 15.8537C33.2442 16.2442 33.2442 16.8774 32.8537 17.2679L26.1214 24.0001L32.8537 30.7323C33.2442 31.1229 33.2442 31.756 32.8537 32.1466L32.1466 32.8537C31.756 33.2442 31.1229 33.2442 30.7323 32.8537L24.0001 26.1214L17.2679 32.8537C16.8774 33.2442 16.2442 33.2442 15.8537 32.8537L15.1466 32.1466C14.756 31.756 14.756 31.1229 15.1466 30.7323Z"}))}},43348:(e,t,r)=>{"use strict";r.d(t,{Z:()=>n});var i=r(31738);function n(e){var t=e.width,r=void 0===t?"1em":t,n=e.height,a=void 0===n?"1em":n,o=e.fill,s=void 0===o?"currentColor":o,l=e.style,u=e.className,c=e.e2eTag,f=void 0===c?"":c;return i.createElement("svg",{className:u,style:l,width:r,"data-e2e":f,height:a,viewBox:"0 0 9 10",fill:s,xmlns:"http://www.w3.org/2000/svg"},i.createElement("path",{d:"M1.35299 0.792837L4.49961 3.93944L7.64545 0.792566C7.8407 0.597249 8.15733 0.597223 8.35262 0.792508L8.70669 1.14658C8.90195 1.34184 8.90195 1.65842 8.70669 1.85368L5.56027 5.0001L8.70672 8.14655C8.90198 8.34181 8.90198 8.65839 8.70672 8.85366L8.35316 9.20721C8.1579 9.40247 7.84132 9.40247 7.64606 9.20721L4.49961 6.06076L1.35319 9.20719C1.15793 9.40245 0.841345 9.40245 0.646083 9.20719L0.292629 8.85373C0.0973708 8.65847 0.0973653 8.3419 0.292617 8.14664L3.43895 5.0001L0.292432 1.85357C0.0972034 1.65834 0.0971656 1.34182 0.292347 1.14655L0.645801 0.792924C0.841049 0.597582 1.1577 0.597543 1.35299 0.792837Z"}))}},19116:(e,t,r)=>{"use strict";r.d(t,{default:()=>m});var i=r(11137),n=r(29960),a=r.n(n),o=r(75386),s=r(86012),l=r(31738),u=r(19803),c=r.n(u);function f(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,i)}return r}function d(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?f(Object(r),!0).forEach((function(t){(0,i.Z)(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):f(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}var h=function(){return!0},p=function(){},v=function(e){var t=e.className,r=e.style,i=e.shape,n=void 0===i?"circle":i,u=e.size,f=void 0===u?32:u,v=e.src,m=e.backgroundImage,g=e.alt,y=e.onError,b=void 0===y?h:y,E=e.onLoad,C=e.empty,S=void 0!==C&&C,w=e.onClick,T=void 0===w?p:w,x=S?l.createElement("svg",{width:"300",height:"300",viewBox:"0 0 300 300",fill:"none",xmlns:"http://www.w3.org/2000/svg"},l.createElement("rect",{cx:"150",cy:"150",fill:"#888","fill-opacity":".5"})):l.createElement("svg",{width:"300",height:"300",viewBox:"0 0 300 300",fill:"none",xmlns:"http://www.w3.org/2000/svg"},l.createElement("rect",{cx:"150",cy:"150",fill:"#888","fill-opacity":".5"}),l.createElement("path",{"fill-rule":"evenodd","clip-rule":"evenodd",d:"M58.74 269.054C74.383 234.242 109.361 210 150 210s75.617 24.242 91.26 59.054C215.978 288.463 184.336 300 150 300c-34.336 0-65.978-11.537-91.26-30.946z",fill:"#fff","fill-opacity":".75"}),l.createElement("circle",{cx:"150",cy:"138",r:"55",fill:"#fff","fill-opacity":".75"})),R=(0,l.useState)(!1),L=(0,s.Z)(R,2),k=L[0],_=L[1],A=function(){var e=(0,o.Z)(a().mark((function e(){var t;return a().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!b){e.next=5;break}return e.next=3,b();case 3:t=e.sent,_(null==t||t);case 5:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),D=v&&!k;return l.createElement("span",{className:c()("tiktok-avatar","tiktok-avatar-".concat(n),t,{"tiktok-avatar-bgc":!D,empty:S}),style:d(d({},r),{},{width:f,height:f}),onClick:T},D?l.createElement("img",{style:{backgroundImage:m},onError:A,onLoad:E,alt:g,src:v}):x)};const m=(0,l.memo)(v)},959:(e,t,r)=>{"use strict";r.d(t,{default:()=>v});var i=r(11137),n=r(31738),a=r(19803),o=r.n(a);function s(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,i)}return r}function l(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?s(Object(r),!0).forEach((function(t){(0,i.Z)(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):s(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}var u={primary:"white",white:"#121212",transparent:"#fe2c55"},c={small:16,medium:18,large:20},f=function(e){var t=e.theme,r=void 0===t?"primary":t,a=e.size,s=void 0===a?"medium":a,f=e.center,d=void 0!==f&&f,h=e.style,p=void 0===h?{}:h,v=e.className,m=void 0===v?"":v,g=e.fill,y=(void 0===g?"":g)||u[r],b="string"==typeof s?c[s]:s,E=l(l({},p),{},{width:"".concat(b,"px"),height:"".concat(b,"px")});return n.createElement("div",{className:o()("tiktok-loading-ring",m,(0,i.Z)({},"".concat("tiktok-loading-ring","-center"),d)),style:E},n.createElement("svg",{className:"ring",width:b,height:b,viewBox:"0 0 18 18",fill:"none",xmlns:"http://www.w3.org/2000/svg"},n.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M0 9C0 4.02944 4.02944 0 9 0C13.9706 0 18 4.02944 18 9C18 9.82843 17.3284 10.5 16.5 10.5C15.6716 10.5 15 9.82843 15 9C15 5.68629 12.3137 3 9 3C5.68629 3 3 5.68629 3 9C3 12.3137 5.68629 15 9 15C10.415 15 11.7119 14.512 12.7375 13.6941C13.3852 13.1775 14.329 13.2838 14.8455 13.9315C15.3621 14.5792 15.2558 15.5229 14.6081 16.0395C13.0703 17.266 11.1188 18 9 18C4.02944 18 0 13.9706 0 9Z",fill:y})))};const d=(0,n.memo)(f);var h="tiktok-btn-h5",p=function(e){var t,r=e.children,a=e.onClick,s=e.className,l=e.style,u=e.size,c=void 0===u?"medium":u,f=e.loadingSize,p=void 0===f?"medium":f,v=e.disabled,m=void 0!==v&&v,g=e.type,y=void 0===g?"default":g,b=e.isLoading,E=void 0!==b&&b,C=e.loadingTheme,S=void 0===C?"primary":C;return n.createElement("button",{type:"button",style:l,className:o()(s,h,(t={},(0,i.Z)(t,"".concat(h,"-").concat(c),c),(0,i.Z)(t,"".concat(h,"-primary"),"primary"===y),(0,i.Z)(t,"".concat(h,"-disabled"),m),(0,i.Z)(t,"".concat(h,"-loading"),E),t)),onClick:a},E&&n.createElement(d,{className:"loading-ring",theme:S,size:p}),r)};const v=(0,n.memo)(p)},60541:(e,t,r)=>{var i;window,e.exports=(i=r(17446),function(e){var t={};function r(i){if(t[i])return t[i].exports;var n=t[i]={i,l:!1,exports:{}};return e[i].call(n.exports,n,n.exports,r),n.l=!0,n.exports}return r.m=e,r.c=t,r.d=function(e,t,i){r.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:i})},r.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},r.t=function(e,t){if(1&t&&(e=r(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var i=Object.create(null);if(r.r(i),Object.defineProperty(i,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var n in e)r.d(i,n,function(t){return e[t]}.bind(null,n));return i},r.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return r.d(t,"a",t),t},r.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},r.p="",r(r.s=0)}([function(e,t,r){e.exports=r(1)},function(e,t,r){Object.defineProperty(t,"__esModule",{value:!0});var i="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},n=function(){function e(e,t){for(var r=0;r<t.length;r++){var i=t[r];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(t,r,i){return r&&e(t.prototype,r),i&&e(t,i),t}}(),a=h(r(2)),o=h(r(3)),s=r(4),l=h(s),u=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&(t[r]=e[r]);return t.default=e,t}(r(5)),c=h(r(6)),f=h(r(7)),d=h(r(8));function h(e){return e&&e.__esModule?e:{default:e}}function p(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function v(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function m(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var g=a.default.Util||a.default.util,y=function(e){function t(e){p(this,t);var r=e.autoplay;e.autoplay&&(e.autoplay=!1),e.expireDetectType=[].concat(e.expireDetectType||[]),e.videoInit=!1;var i=v(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));i._autoplay=r,i._curDefinitionIndex=0,i._errReqCount=0,i.hlsOpts=e.hlsOpts||{};var n=i,a=function(e){function t(e){p(this,t);var r=v(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e)),i=r.load.bind(r);return r.load=function(e,t,r){var a=r.onError;r.onError=function(e,t,r){403===e.code&&(n._errReqCount++,n._errReqCount>2&&n.emitExpireEvent()),a(e,t,r)},i(e,t,r)},r}return m(t,l.default.DefaultConfig.loader),t}();return i.hlsOpts.fLoader=a,i.versionNum>=3?i.hlsjs=i.hlsAlias={}:i.hls=i.hlsAlias={},i.hlsNext(0,"startPlay",e),i.config.checkHlsOffline&&c.default.on(i,"timeupdate",(function(){i.hlsAlias&&i.video&&!i.video.videoHeight?(i.hlsAlias.hlsOfflineCount=void 0===i.hlsAlias.hlsOfflineCount?1:i.hlsAlias.hlsOfflineCount+1,i.hlsAlias.hlsOfflineCount>3&&(i.pause(),i.emit("error",{msg:"OFFLINE",errorCode:-9997}),i.onError())):i.hlsAlias&&(i.hlsAlias.hlsOfflineCount=0)}),"destroy"),i.hlsTimer=new f.default,i.hlsTimer.repeat((function(){e.expireDetectType.indexOf("getUrlTime")>-1&&i.getUrlTime&&i.duration&&(new Date).getTime()/1e3>i.getUrlTime+3300+i.duration&&(i.getUrlTime=0,i.emitExpireEvent()),e.expireDetectType.indexOf("xhrStatus")>-1&&i.hlsAlias&&i.hlsAlias.manifestUrl&&Math.random()<1/7.5&&new d.default({url:i.hlsAlias.manifestUrl,type:""}).catch((function(e){e&&void 0!==e.status&&(i.hlsAlias.hlsExpireCount=void 0===i.hlsAlias.hlsExpireCount?1:i.hlsAlias.hlsExpireCount+1,i.hlsAlias.hlsExpireCount>3&&(i.hlsAlias.hlsExpireCount=0,i.emitExpireEvent()))})),e.expireDetectType.indexOf("urlExpire")>-1&&i.urlExpireTimestamp&&(new Date).getTime()/1e3>=i.urlExpireTimestamp&&(i.urlExpireTimestamp=u.MAX_TIMESTAMP,i.emitExpireEvent())}),e.checkExpireInterval||400),c.default.on(i,"destroy",(function(){i.hlsTimer&&(i.hlsTimer.clear(),i.hlsTimer=null)}),"destroy"),i}return m(t,a.default),n(t,[{key:"emitExpireEvent",value:function(){var e=(new Date).getTime()/1e3;this.emitExpireTimestamp?e-this.emitExpireTimestamp>u.MIN_EXPIRE_INTERVAL&&(this.emitExpireTimestamp=e,this.emit("MEDIA_EXPIRED")):(this.emitExpireTimestamp=e,this.emit("MEDIA_EXPIRED"))}},{key:"hlsNext",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,t=this,r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"NEXT",i=arguments[2],n=this,a=n.config||{};if(n._errReqCount=0,i)for(var s in i)a[s]=i[s];if("startPlay"===r||a.preload||n.unloadSource(),e&&(a.startTime=e),a&&a.startTime&&c.default.once(n,"canplay",(function(){n.currentTime=a.startTime})),n.url=i.url,!i.url||!/\.(mp3|m4a)/.test(i.url)&&!/(mp3|m4a)/.test(i.type))return i.url?("startPlay"!==r&&(a.autoplay?(a.autoplay=!1,n._autoplay=!0):n._autoplay=!1),n.init(),void n.emit("can_start")):void((i.playAuthToken||i.vid)&&("startPlay"!==r&&(a.autoplay?(a.autoplay=!1,this._autoplay=!0):n._autoplay=!1),function(e,t,r,i){o.default.url(e,t).then((function(e){var t=[],i=e.Data||e;i&&i.PlayInfoList&&i.PlayInfoList.length>0?(t=i.PlayInfoList,r({videoList:t,rawData:e})):(console.error("HAS NO VIDEO INFORMATION CORRECTLY, PLEASE CHRECK THE TOKEN."),r({videoList:[],rawData:e}))})).catch((function(e){i&&"function"==typeof i&&i(e)}))}(i.playAuthToken,i.playDomain,(function(r){var o=r.videoList,s=r.rawData;if(n.emit("get_play_info",s),o&&o.length>0&&(o[0].MainPlayUrl||o[0].src)){if(o.sort((function(e,t){return t.Bitrate-e.Bitrate})),o[0].Bitrate){var l=0;o.every((function(e,t){return o[0].Bitrate===e.Bitrate&&(l=t,!0)})),l>0&&o.splice(l)}n.emit("resourceReady",o.sort((function(e,t){return t.Bitrate-e.Bitrate})).map((function(e){return e.MainPlayUrl=i.testUrl||e.MainPlayUrl,{name:e.Definition||"",url:e.MainPlayUrl||e.src}}))),o[0].UrlExpire&&(n.urlExpireTimestamp=i.testUrlExpire||o[0].UrlExpire),n.getUrlTime=(new Date).getTime()/1e3,e&&c.default.once(n,"playing",(function(){n.currentTime=e,n.play()}));var u=o[0].MainPlayUrl||o[0].src;n.url=a.url=u;for(var f=0;f<o.length;f++)o[f].Definition.toLocaleLowerCase()===a.defaultDefinition&&(n._curDefinitionIndex=f,u=o[f].MainPlayUrl||o[f].src,n.url=a.url=u);var d=o[0].Format;if(o[0]&&o[0].type&&/(mp3|m4a|mp4)/.test(o[0].type))return void n.emit("can_start");if(d&&"m3u8"!=d&&"hls"!=d)return void n.emit("can_start");t.init(),n.emit("can_start")}else{var h=s||{ResponseMetadata:{Error:{CodeN:0,Message:""},RequestId:""}};n.emit("playInterfaceInfo",{code:h.ResponseMetadata.Error.CodeN,message:h.ResponseMetadata.Error.Message,logid:h.ResponseMetadata.RequestId}),n.emit("error",{msg:"HAS NO VIDEO INFORMATION CORRECTLY, PLEASE CHRECK THE TOKEN.",errorCode:-9998})}}),(function(e){n.emit("error",{msg:e,errorCode:-9999})}))));n.emit("can_start")}},{key:"switchURL",value:function(e){var t=this,r=t.config||{};t.url=e,r.url=e;var n=t.currentTime;g.addClass(t.root,"xgplayer-is-enter"),c.default.once(t,"playing",(function(){g.removeClass(t.root,"xgplayer-is-enter")})),c.default.once(t,"canplay",(function(){t.currentTime=n,t.play()})),"object"===i(t.hlsAlias)&&(t.hlsAlias.originUrl=e,t.hlsAlias.mobile&&"function"==typeof t._start?t._start():t.src=e)}},{key:"init",value:function(){var e=this,t=g,r=this,i=r.config||{},n=r.start;if(this.browser=c.default.getBrowserVersion(),void 0===i.useHls){var a=!1;if(navigator.userAgent.toLocaleLowerCase().indexOf("ipad")>-1?(navigator.userAgent.toLocaleLowerCase().indexOf("mobile")>-1&&"MacIntel"!==navigator.platform&&"Win32"!==navigator.platform||!c.default.checkMediaSourceSupport())&&(a=!0):navigator.userAgent.toLocaleLowerCase().indexOf("mobile")>-1&&"MacIntel"!==navigator.platform&&"Win32"!==navigator.platform&&!c.default.checkMediaSourceSupport()&&(a=!0),a)return r.hlsAlias={originUrl:r.definitionList?r.definitionList[r._curDefinitionIndex||0].url:i.definitionList?i.definitionList[r._curDefinitionIndex||0].url:i.url||"",mobile:!0},r.versionNum>=3?r.hlsjs=r.hlsAlias:r.hls=r.hlsAlias,r._start=function(){r.loadSource(i.url,(function(e){if(e.length)r.root.querySelector("video")&&(r.video.querySelector("source")||r.video.src)?(r.autoplay=i.autoplay=!0,r.src=e):n.call(r,e);else{var t=new FileReader;t.onload=function(){r.root.querySelector("video")&&(r.video.querySelector("source")||r.video.src)?(r.autoplay=i.autoplay=!0,r.src=t.result):n.call(r,t.result)},t.readAsDataURL(e)}}))},i.autoplay=r._autoplay,r._autoplay&&(r.video.autoplay=!0),void r._start();r._start=r.start,r.start=function(){}}else i.useHls||r.loadSource(i.url,(function(e){if(e.length)r.root.querySelector("video")&&(r.video.querySelector("source")||r.video.src)?(r.autoplay=i.autoplay=!0,r.src=e):n.call(r,e);else{var t=new FileReader;t.onload=function(){var e=t.result;r.root.querySelector("video")&&(r.video.querySelector("source")||r.video.src)?(r.autoplay=i.autoplay=!0,r.src=e):n.call(r,e)},t.readAsDataURL(e)}}));if(r.root.querySelector("video")&&(r.video.querySelector("source")||r.video.src))r.src=i.url;else{var o=void 0;o=new l.default(this.hlsOpts),this.hlsAlias=o,r.versionNum>=3?r.hlsjs=r.hlsAlias:r.hls=r.hlsAlias,this.hlsAlias.originUrl=i.url||"",Object.defineProperty(r,"src",{get:function(){return r.currentSrc},set:function(e){i.url=e,t.removeClass(r.root,"xgplayer-is-live");var n=document.querySelector(".xgplayer-live");n&&n.parentNode.removeChild(n),r.autoplay=!0,r.paused||r.pause(),r.hlsAlias.stopLoad(),r.hlsAlias.detachMedia(),r.hlsAlias.destroy(),r.hlsAlias=new l.default(r.hlsOpts),r.hlsAlias.originUrl=i.url||"",r.versionNum>=3?r.hlsjs=r.hlsAlias:r.hls=r.hlsAlias,r.register(),r._autoplay?(r.video.setAttribute("autoplay",!0),r._autoplay&&c.default.once(r,"canplay",(function(){r.play().catch((function(e){}))}))):r.video.removeAttribute("autoplay"),r.hlsAlias.attachMedia(r.video)},configurable:!0}),this.hasStart=!0,this.register(),c.default.once(this,"complete",(function(){if((e.config.autoplay||e._autoplay)&&c.default.once(r,"canplay",(function(){r.play().catch((function(e){}))})),o.attachMedia(r.video),i.isLive){g.addClass(r.root,"xgplayer-is-live");var t=g.createDom("xg-live","LIVE",{},"xgplayer-live");r.controls.appendChild(t)}})),this.config.autoplay=this._autoplay,this.root.insertBefore(this.video,this.root.firstChild),this.emit("complete"),c.default.once(this,"destroy",(function(){o.stopLoad()}))}}},{key:"updateM3U8",value:function(e,t,r){var i=this.config||{},n=this.hlsAlias;"TOP"!==i.getKeyType&&(e=window.atob(e));var a=void 0;try{a=new Blob([e],{type:"text/html"})}catch(t){window.BlobBuilder=window.BlobBuilder||window.WebKitBlobBuilder||window.MozBlobBuilder,(a=new BlobBuilder).append(e),a=a.getBlob()}var o=URL.createObjectURL(a);t=t.replace(/,URI="([^"]+)"/,',URI="'+o+'"');var s=c.default.isRelativeURL(this.url)?c.default.getAbsoluteURL(this.url):this.url,l=s.match(/((http|https):?\/\/.+)\/\w+\.\w+/)||[],u=s&&l.length>1?l[1]+"/":"";t=t.replace(/(#EXTINF:)(\d+\.?\d*)(?:,(?:[^\r|\n]*)(?:\r|\n)*)(.*(?!#))/g,(function(e,t,r,i){return/(http|https)?\:?\/\//.test(i)?t+r+",\n"+i:t+r+",\n"+u+i}));var f=void 0;try{f=new Blob([t],{type:"application/x-mpegURL"})}catch(e){window.BlobBuilder=window.BlobBuilder||window.WebKitBlobBuilder||window.MozBlobBuilder,(f=new BlobBuilder).append(t),f=f.getBlob()}var d=URL.createObjectURL(f);n&&(!0===n.mobile?(i.url=d,r&&r(f)):(n.loadSource(d),r&&r(f)))}},{key:"loadSource",value:function e(t,r){return function(e,t,r){function i(e,t){var r=parseInt(e.slice(t,t+2),16);return r>>>7==0?[1,r]:r>>>6==2?(r=(63&r)<<8,[2,r+=parseInt(e.slice(t+2,t+4),16)]):(r=(63&r)<<16,[3,r+=parseInt(e.slice(t+2,t+6),16)])}var n,a=0,o=[],s=[],l=parseInt(e.slice(0,8),16),u=parseInt(e.slice(8,16),16);if(1213091658!==l||1077891651!==u)throw new Error("mhe");if(0!==parseInt(e.slice(16,18),16))throw new Error("ve");for(n=0;n<4;++n)a+=(3&parseInt(e.slice(24+2*n,26+2*n),16))<<2*n;var c=parseInt(e.slice(32,40),16),f=2*parseInt(e.slice(48,56),16);for(n=56;n<f+56;n+=2)o.push(parseInt(e.slice(n,n+2),16));var d=f+56,h=parseInt(e.slice(d,d+4),16);for(d+=4,n=0;n<h;++n){var p=i(e,d);d+=2*p[0];for(var v="",m=0;m<p[1];++m){var g=i(e,d);v+=String.fromCharCode(a^g[1]),d+=2*g[0]}s.push(v)}return t.p=null,function e(t,r,i,n,a){var l,u,c,f,d,h=-1,p=[],v=[0,null],m=null,g=[r];for(u=Math.min(r.length,i),c=0;c<u;++c)g.push(r[c]);g.p=n;for(var y=[];;)try{var b=o[t++];if(b<38)if(b<14)b<5?b<3?p[++h]=0===b||null:3===b?(l=o[t++],p[++h]=l<<24>>24):(l=(o[t]<<8)+o[t+1],t+=2,p[++h]=l<<16>>16):b<8?5===b?(l=((l=((l=o[t++])<<8)+o[t++])<<8)+o[t++],p[++h]=(l<<8)+o[t++]):(l=(o[t]<<8)+o[t+1],t+=2,p[++h]=s[l]):p[++h]=b<11?void 0:11===b?a:{};else if(b<20)if(b<18)if(14===b)l=(o[t]<<8)+o[t+1],t+=2,u=s[l],c=p[h--],p[h][u]=c;else{for(u=o[t++],c=o[t++],f=g;u>0;--u)f=f.p;p[++h]=f[c]}else 18===b?(l=(o[t]<<8)+o[t+1],t+=2,u=s[l],p[h]=p[h][u]):(u=p[h--],p[h]=p[h][u]);else if(b<24)if(20===b){for(u=o[t++],c=o[t++],f=g;u>0;--u)f=f.p;f[c]=p[h--]}else l=(o[t]<<8)+o[t+1],t+=2,u=s[l],c=p[h--],f=p[h--],c[u]=f;else b<29?(u=p[h--],p[h]+=u):29===b?p[h]=-p[h]:(u=p[h--],p[h]=p[h]===u);else if(b<62)b<55?b<51?38===b?(u=p[h--],p[h]=p[h]!==u):p[h]=!p[h]:51===b?(l=(l=(o[t]<<8)+o[t+1])<<16>>16,t+=2,p[h]?--h:t+=l):(l=(l=(o[t]<<8)+o[t+1])<<16>>16,t+=2,p[h]?t+=l:--h):b<59?55===b?(u=p[h--],p[h]=p[h]instanceof u):p[h]=void 0:b<60?(l=o[t++],u=p[h--],(c=function e(){var t=e._v;return(0,e._u)(t[0],arguments,t[1],t[2],this)})._v=[u,l,g],c._u=e,p[++h]=c):60===b?(l=o[t++],u=p[h--],(f=[c=function e(){var t=e._v;return(0,e._u)(t[0],arguments,t[1],t[2],this)}]).p=g,c._v=[u,l,f],c._u=e,p[++h]=c):(l=(l=(o[t]<<8)+o[t+1])<<16>>16,t+=2,(u=y[y.length-1])[1]=t+l);else if(b<68)if(b<66)if(62===b)l=(l=(o[t]<<8)+o[t+1])<<16>>16,t+=2,(u=y[y.length-1])&&!u[1]?(u[0]=3,u.push(t)):y.push([1,0,t]),t+=l;else if(c=(u=y.pop())[0],f=v[0],1===c)t=u[1];else if(0===c)if(0===f)t=u[1];else{if(1!==f)throw v[1];if(!m)return v[1];t=m[1],a=m[2],g=m[3],y=m[4],p[++h]=v[1],v=[0,null],m=m[0]}else t=u[2],u[0]=0,y.push(u);else if(66===b){for(u=p[h--],c=null;f=y.pop();)if(2===f[0]||3===f[0]){c=f;break}if(c)v=[1,u],t=c[2],c[0]=0,y.push(c);else{if(!m)return u;t=m[1],a=m[2],g=m[3],y=m[4],p[++h]=u,v=[0,null],m=m[0]}}else h-=l=o[t++],c=p.slice(h+1,h+l+1),u=p[h--],f=p[h--],u._u===e?(u=u._v,m=[m,t,a,g,y],t=u[0],null==f&&(f=function(){return this}()),a=f,(g=[c].concat(c)).length=Math.min(u[1],l)+1,g.p=u[2],y=[]):p[++h]=u.apply(f,c);else if(b<71)if(68===b){for(l=o[t++],f=[void 0],d=l;d>0;--d)f[d]=p[h--];c=p[h--],u=Function.bind.apply(c,f),p[++h]=new u}else t+=2+(l=(l=(o[t]<<8)+o[t+1])<<16>>16);else b<73?(l=(l=(o[t]<<8)+o[t+1])<<16>>16,t+=2,(u=p[h--])||(t+=l)):73===b?--h:(u=p[h],p[++h]=u)}catch(e){for(v=[0,null];(l=y.pop())&&!l[0];);if(!l){e:for(;m;){for(u=m[4];l=u.pop();)if(l[0])break e;m=m[0]}if(!m)throw e;t=m[1],a=m[2],g=m[3],y=m[4],m=m[0]}1===(u=l[0])?(t=l[2],l[0]=0,y.push(l),p[++h]=e):2===u?(t=l[2],l[0]=0,y.push(l),v=[3,e]):(t=l[3],l[0]=2,y.push(l),p[++h]=e)}}(c,[],0,t,r)}("484e4f4a403f524300153a0cd16ddc50000003791c4137f1000003cc1100011200081400021100024a12000911020b07000a440143014700da1100024a12000911020b07000b440143010301131400031102021200034a12000c110003430114000411000433000611000412000d47009111010212000e07000f254700591102021200034a12001011010212001143014700121102034a12001211010212001143014500061101021200111400050700131101021200143400030700041807001518110005180700161811000412000d1814000345002b1101021200173400030700040700181811000412000d1807001918110102120011340003070004181400030d1100030e001a1100020e001b4245004a11010347004411010312001c002547001611020a33000c0211020a1101021200064301494500231101034a12001d11010212000643014911020a33000c0211020a11010212000643014908421100013234000711000112001a32470002084211000112001a14000211000112001b14000305000002203c0114000411010212001133001c11010212000e07000f2547000911010212001445000611010212001747006511010112002d07002e264700261102011200030d1100020e000607002f0e000544014a12000705000003473b0143014945002f11020744001400051100054a1200300700311100024302491100054a12003243004905000003533b0011000515003445001f1101021200354700161101014a12002c11010212003511000311020a43034908420300381400023e00571400091103014a12001e07001f0d070020110009180e002104270c1d0e00224302490d1104021200034a120010110001120008430147000911000112000845000f1104034a12002311000112000843010e0024140002413d00ac1104044a120025110001120008430114000211030212000e07000f2547001211000212002612002711000215002445007a110303110405120003373247005711000212002414000302030049110406120025110003430114000411000412002814000511000412002914000611000412002a1400070203004911040612002b11000511000611000743031400081100081100021500241104034a1200231100021200244301110002150024411103014a12002c11000212002411020311040a43034908420211010411000143014908421101051200330400c82534000a1101051200330400ce2547000a0211010411010543014908420b1400011100011200003400010d1400020b1200011400031101091100031500021101011200030d0700040e00051101090e000644014a12000705000000003b0143014a12000705000001433b014301490842003606666a6b636c62086d697644696c64760b68646b6c6360767150776907616063647069710004717c75600370776904716d606b0c776076756a6b766051607d7105686471666d1526405d51285d284e405c3f2d59722e3859722e2c2e0e2950574c38272d5e5b27582e2c2708756477766050776902646e0a6260714e607c517c756003514a55086c76476476603331086e607c516a6e606b0464716a67022a2a0a7569647c416a68646c6b013a1223566a70776660386f6477736c7623446e38096e607c416a68646c6b222a6e61762a64756c2a73362a6e607c763a766a70776660386f6477736c7623646e380723716a6e606b38066e607c5077690366717d06686a676c69600a696a6461566a707766600460686c71056077776a77157660667760714e607c257564777660256077776a7703687662096077776a77466a61600467716a64046164716405756477766006576076706971095660667760714e607c07606b6641647164036e607c026c7307616066777c75710a7075616471604836503d0767776a72766077054c402534340471607d71046a75606b036260710476606b6106767164717076066a6b696a6461086e607c5364697060",{get 0(){return e},get 1(){return d},get 2(){return c},get 3(){return window},4:JSON,get 5(){return l},get 6(){return s},get 7(){return XMLHttpRequest},8:arguments,9:t,10:r,11:RegExp},this)}},{key:"unloadSource",value:function(){this.hlsAlias instanceof l.default&&this.hls.detachMedia(),this.video&&(this.video.removeAttribute("src"),this.video.load())}},{key:"register",value:function(){var e=this.hlsAlias,t=g,r=this,i=r.config||{};r.once("playing",(function(){var e=!1,t=r.video.querySelector("track");t&&("hidden"===t.track.mode&&(e=!0),t.track.mode="hidden",r.video.removeChild(t)),i.textTrack&&i.textTrack.length>0&&i.textTrack.some((function(t){if(t.src&&t.label&&t.default){var i=document.createElement("track");return i.src=t.src,i.kind=t.kind,i.label=t.label,i.srclang=t.srclang,i.default=!0,r.video.appendChild(i),e&&(i.track.mode="hidden"),!0}}))})),e.once(l.default.Events.MEDIA_ATTACHED,(function(){r.loadSource(i.url)})),e.on(l.default.Events.LEVEL_LOADED,(function(i,n){if(!e.inited&&(e.inited=!0,n&&n.details&&n.details.live)){t.addClass(r.root,"xgplayer-is-live");var a=t.createDom("xg-live","LIVE",{},"xgplayer-live");r.controls.appendChild(a)}})),e.on(l.default.Events.ERROR,(function(e,t){t.fatal&&r.emit("error",t)}))}},{key:"versionNum",get:function(){return this.version&&this.version[0]&&parseInt(this.version[0])}}]),t}();y.isSupported=function(e){e=e||navigator.userAgent.toLocaleLowerCase();var t=/(iphone)/.test(e)||/(ipad)/.test(e),r=/(android)/.test(e),i=/(windows phone)/.test(e),n=!(t||r||i),a=/(xiaomi)/.test(e),o=/(quark)/.test(e);return!(a||(n||r?!window.MediaSource||!window.MediaSource.isTypeSupported('video/mp4; codecs="avc1.42E01E, mp4a.40.2"'):!t||o||e.indexOf("iphone os 11_4")>-1||e.indexOf("iphone os 11_2")>-1))},y.HlsJs=l.default,t.default=y,e.exports=t.default},function(e,t){e.exports=i},function(e,t){e.exports=function(e){var t={};function r(i){if(t[i])return t[i].exports;var n=t[i]={i,l:!1,exports:{}};return e[i].call(n.exports,n,n.exports,r),n.l=!0,n.exports}return r.m=e,r.c=t,r.d=function(e,t,i){r.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:i})},r.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},r.t=function(e,t){if(1&t&&(e=r(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var i=Object.create(null);if(r.r(i),Object.defineProperty(i,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var n in e)r.d(i,n,function(t){return e[t]}.bind(null,n));return i},r.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return r.d(t,"a",t),t},r.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},r.p="",r(r.s=22)}([function(e,t,r){"use strict";var i=e.exports="undefined"!=typeof window&&window.Math==Math?window:"undefined"!=typeof self&&self.Math==Math?self:Function("return this")();"number"==typeof __g&&(__g=i)},function(e,t,r){"use strict";var i=r(12)("wks"),n=r(13),a=r(0).Symbol,o="function"==typeof a;(e.exports=function(e){return i[e]||(i[e]=o&&a[e]||(o?a:n)("Symbol."+e))}).store=i},function(e,t,r){"use strict";var i=e.exports={version:"2.6.12"};"number"==typeof __e&&(__e=i)},function(e,t,r){"use strict";var i=r(4);e.exports=function(e){if(!i(e))throw TypeError(e+" is not an object!");return e}},function(e,t,r){"use strict";var i="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e};e.exports=function(e){return"object"===(void 0===e?"undefined":i(e))?null!==e:"function"==typeof e}},function(e,t,r){"use strict";var i=r(6);e.exports=function(e,t,r){if(i(e),void 0===t)return e;switch(r){case 1:return function(r){return e.call(t,r)};case 2:return function(r,i){return e.call(t,r,i)};case 3:return function(r,i,n){return e.call(t,r,i,n)}}return function(){return e.apply(t,arguments)}}},function(e,t,r){"use strict";e.exports=function(e){if("function"!=typeof e)throw TypeError(e+" is not a function!");return e}},function(e,t,r){"use strict";e.exports=!r(15)((function(){return 7!=Object.defineProperty({},"a",{get:function(){return 7}}).a}))},function(e,t,r){"use strict";var i={}.toString;e.exports=function(e){return i.call(e).slice(8,-1)}},function(e,t,r){"use strict";var i=r(3),n=r(26),a=r(27),o=Object.defineProperty;t.f=r(7)?Object.defineProperty:function(e,t,r){if(i(e),t=a(t,!0),i(r),n)try{return o(e,t,r)}catch(e){}if("get"in r||"set"in r)throw TypeError("Accessors not supported!");return"value"in r&&(e[t]=r.value),e}},function(e,t,r){"use strict";e.exports=!1},function(e,t,r){"use strict";var i=r(8),n=r(1)("toStringTag"),a="Arguments"==i(function(){return arguments}());e.exports=function(e){var t,r,o;return void 0===e?"Undefined":null===e?"Null":"string"==typeof(r=function(e,t){try{return e[t]}catch(e){}}(t=Object(e),n))?r:a?i(t):"Object"==(o=i(t))&&"function"==typeof t.callee?"Arguments":o}},function(e,t,r){"use strict";var i=r(2),n=r(0),a=n["__core-js_shared__"]||(n["__core-js_shared__"]={});(e.exports=function(e,t){return a[e]||(a[e]=void 0!==t?t:{})})("versions",[]).push({version:i.version,mode:r(10)?"pure":"global",copyright:" 2020 Denis Pushkarev (zloirock.ru)"})},function(e,t,r){"use strict";var i=0,n=Math.random();e.exports=function(e){return"Symbol(".concat(void 0===e?"":e,")_",(++i+n).toString(36))}},function(e,t,r){"use strict";var i=r(9),n=r(28);e.exports=r(7)?function(e,t,r){return i.f(e,t,n(1,r))}:function(e,t,r){return e[t]=r,e}},function(e,t,r){"use strict";e.exports=function(e){try{return!!e()}catch(e){return!0}}},function(e,t,r){"use strict";var i=r(4),n=r(0).document,a=i(n)&&i(n.createElement);e.exports=function(e){return a?n.createElement(e):{}}},function(e,t,r){"use strict";var i=r(0),n=r(14),a=r(18),o=r(13)("src"),s=r(29),l=(""+s).split("toString");r(2).inspectSource=function(e){return s.call(e)},(e.exports=function(e,t,r,s){var u="function"==typeof r;u&&(a(r,"name")||n(r,"name",t)),e[t]!==r&&(u&&(a(r,o)||n(r,o,e[t]?""+e[t]:l.join(String(t)))),e===i?e[t]=r:s?e[t]?e[t]=r:n(e,t,r):(delete e[t],n(e,t,r)))})(Function.prototype,"toString",(function(){return"function"==typeof this&&this[o]||s.call(this)}))},function(e,t,r){"use strict";var i={}.hasOwnProperty;e.exports=function(e,t){return i.call(e,t)}},function(e,t,r){"use strict";e.exports={}},function(e,t,r){"use strict";var i,n,a,o=r(5),s=r(38),l=r(39),u=r(16),c=r(0),f=c.process,d=c.setImmediate,h=c.clearImmediate,p=c.MessageChannel,v=c.Dispatch,m=0,g={},y=function(){var e=+this;if(g.hasOwnProperty(e)){var t=g[e];delete g[e],t()}},b=function(e){y.call(e.data)};d&&h||(d=function(e){for(var t=[],r=1;arguments.length>r;)t.push(arguments[r++]);return g[++m]=function(){s("function"==typeof e?e:Function(e),t)},i(m),m},h=function(e){delete g[e]},"process"==r(8)(f)?i=function(e){f.nextTick(o(y,e,1))}:v&&v.now?i=function(e){v.now(o(y,e,1))}:p?(a=(n=new p).port2,n.port1.onmessage=b,i=o(a.postMessage,a,1)):c.addEventListener&&"function"==typeof postMessage&&!c.importScripts?(i=function(e){c.postMessage(e+"","*")},c.addEventListener("message",b,!1)):i="onreadystatechange"in u("script")?function(e){l.appendChild(u("script")).onreadystatechange=function(){l.removeChild(this),y.call(e)}}:function(e){setTimeout(o(y,e,1),0)}),e.exports={set:d,clear:h}},function(e,t,r){"use strict";var i=r(6);function n(e){var t,r;this.promise=new e((function(e,i){if(void 0!==t||void 0!==r)throw TypeError("Bad Promise constructor");t=e,r=i})),this.resolve=i(t),this.reject=i(r)}e.exports.f=function(e){return new n(e)}},function(e,t,r){e.exports=r(23)},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),r(24);var i,n=(i=r(48))&&i.__esModule?i:{default:i};t.default={url:n.default},e.exports=t.default},function(e,t,r){"use strict";var i,n,a,o,s=r(10),l=r(0),u=r(5),c=r(11),f=r(25),d=r(4),h=r(6),p=r(30),v=r(31),m=r(37),g=r(20).set,y=r(40)(),b=r(21),E=r(41),C=r(42),S=r(43),w=l.TypeError,T=l.process,x=T&&T.versions,R=x&&x.v8||"",L=l.Promise,k="process"==c(T),_=function(){},A=n=b.f,D=!!function(){try{var e=L.resolve(1),t=(e.constructor={})[r(1)("species")]=function(e){e(_,_)};return(k||"function"==typeof PromiseRejectionEvent)&&e.then(_)instanceof t&&0!==R.indexOf("6.6")&&-1===C.indexOf("Chrome/66")}catch(e){}}(),O=function(e){var t;return!(!d(e)||"function"!=typeof(t=e.then))&&t},P=function(e,t){if(!e._n){e._n=!0;var r=e._c;y((function(){for(var i=e._v,n=1==e._s,a=0,o=function(t){var r,a,o,s=n?t.ok:t.fail,l=t.resolve,u=t.reject,c=t.domain;try{s?(n||(2==e._h&&B(e),e._h=1),!0===s?r=i:(c&&c.enter(),r=s(i),c&&(c.exit(),o=!0)),r===t.promise?u(w("Promise-chain cycle")):(a=O(r))?a.call(r,l,u):l(r)):u(i)}catch(e){c&&!o&&c.exit(),u(e)}};r.length>a;)o(r[a++]);e._c=[],e._n=!1,t&&!e._h&&I(e)}))}},I=function(e){g.call(l,(function(){var t,r,i,n=e._v,a=M(e);if(a&&(t=E((function(){k?T.emit("unhandledRejection",n,e):(r=l.onunhandledrejection)?r({promise:e,reason:n}):(i=l.console)&&i.error&&i.error("Unhandled promise rejection",n)})),e._h=k||M(e)?2:1),e._a=void 0,a&&t.e)throw t.v}))},M=function(e){return 1!==e._h&&0===(e._a||e._c).length},B=function(e){g.call(l,(function(){var t;k?T.emit("rejectionHandled",e):(t=l.onrejectionhandled)&&t({promise:e,reason:e._v})}))},F=function(e){var t=this;t._d||(t._d=!0,(t=t._w||t)._v=e,t._s=2,t._a||(t._a=t._c.slice()),P(t,!0))},N=function e(t){var r,i=this;if(!i._d){i._d=!0,i=i._w||i;try{if(i===t)throw w("Promise can't be resolved itself");(r=O(t))?y((function(){var n={_w:i,_d:!1};try{r.call(t,u(e,n,1),u(F,n,1))}catch(e){F.call(n,e)}})):(i._v=t,i._s=1,P(i,!1))}catch(e){F.call({_w:i,_d:!1},e)}}};D||(L=function(e){p(this,L,"Promise","_h"),h(e),i.call(this);try{e(u(N,this,1),u(F,this,1))}catch(e){F.call(this,e)}},(i=function(e){this._c=[],this._a=void 0,this._s=0,this._d=!1,this._v=void 0,this._h=0,this._n=!1}).prototype=r(44)(L.prototype,{then:function(e,t){var r=A(m(this,L));return r.ok="function"!=typeof e||e,r.fail="function"==typeof t&&t,r.domain=k?T.domain:void 0,this._c.push(r),this._a&&this._a.push(r),this._s&&P(this,!1),r.promise},catch:function(e){return this.then(void 0,e)}}),a=function(){var e=new i;this.promise=e,this.resolve=u(N,e,1),this.reject=u(F,e,1)},b.f=A=function(e){return e===L||e===o?new a(e):n(e)}),f(f.G+f.W+f.F*!D,{Promise:L}),r(45)(L,"Promise"),r(46)("Promise"),o=r(2).Promise,f(f.S+f.F*!D,"Promise",{reject:function(e){var t=A(this);return(0,t.reject)(e),t.promise}}),f(f.S+f.F*(s||!D),"Promise",{resolve:function(e){return S(s&&this===o?L:this,e)}}),f(f.S+f.F*!(D&&r(47)((function(e){L.all(e).catch(_)}))),"Promise",{all:function(e){var t=this,r=A(t),i=r.resolve,n=r.reject,a=E((function(){var r=[],a=0,o=1;v(e,!1,(function(e){var s=a++,l=!1;r.push(void 0),o++,t.resolve(e).then((function(e){l||(l=!0,r[s]=e,--o||i(r))}),n)})),--o||i(r)}));return a.e&&n(a.v),r.promise},race:function(e){var t=this,r=A(t),i=r.reject,n=E((function(){v(e,!1,(function(e){t.resolve(e).then(r.resolve,i)}))}));return n.e&&i(n.v),r.promise}})},function(e,t,r){"use strict";var i=r(0),n=r(2),a=r(14),o=r(17),s=r(5),l=function e(t,r,l){var u,c,f,d,h=t&e.F,p=t&e.G,v=t&e.P,m=t&e.B,g=p?i:t&e.S?i[r]||(i[r]={}):(i[r]||{}).prototype,y=p?n:n[r]||(n[r]={}),b=y.prototype||(y.prototype={});for(u in p&&(l=r),l)f=((c=!h&&g&&void 0!==g[u])?g:l)[u],d=m&&c?s(f,i):v&&"function"==typeof f?s(Function.call,f):f,g&&o(g,u,f,t&e.U),y[u]!=f&&a(y,u,d),v&&b[u]!=f&&(b[u]=f)};i.core=n,l.F=1,l.G=2,l.S=4,l.P=8,l.B=16,l.W=32,l.U=64,l.R=128,e.exports=l},function(e,t,r){"use strict";e.exports=!r(7)&&!r(15)((function(){return 7!=Object.defineProperty(r(16)("div"),"a",{get:function(){return 7}}).a}))},function(e,t,r){"use strict";var i=r(4);e.exports=function(e,t){if(!i(e))return e;var r,n;if(t&&"function"==typeof(r=e.toString)&&!i(n=r.call(e)))return n;if("function"==typeof(r=e.valueOf)&&!i(n=r.call(e)))return n;if(!t&&"function"==typeof(r=e.toString)&&!i(n=r.call(e)))return n;throw TypeError("Can't convert object to primitive value")}},function(e,t,r){"use strict";e.exports=function(e,t){return{enumerable:!(1&e),configurable:!(2&e),writable:!(4&e),value:t}}},function(e,t,r){"use strict";e.exports=r(12)("native-function-to-string",Function.toString)},function(e,t,r){"use strict";e.exports=function(e,t,r,i){if(!(e instanceof t)||void 0!==i&&i in e)throw TypeError(r+": incorrect invocation!");return e}},function(e,t,r){"use strict";var i=r(5),n=r(32),a=r(33),o=r(3),s=r(34),l=r(36),u={},c={},f=e.exports=function(e,t,r,f,d){var h,p,v,m,g=d?function(){return e}:l(e),y=i(r,f,t?2:1),b=0;if("function"!=typeof g)throw TypeError(e+" is not iterable!");if(a(g)){for(h=s(e.length);h>b;b++)if((m=t?y(o(p=e[b])[0],p[1]):y(e[b]))===u||m===c)return m}else for(v=g.call(e);!(p=v.next()).done;)if((m=n(v,y,p.value,t))===u||m===c)return m};f.BREAK=u,f.RETURN=c},function(e,t,r){"use strict";var i=r(3);e.exports=function(e,t,r,n){try{return n?t(i(r)[0],r[1]):t(r)}catch(t){var a=e.return;throw void 0!==a&&i(a.call(e)),t}}},function(e,t,r){"use strict";var i=r(19),n=r(1)("iterator"),a=Array.prototype;e.exports=function(e){return void 0!==e&&(i.Array===e||a[n]===e)}},function(e,t,r){"use strict";var i=r(35),n=Math.min;e.exports=function(e){return e>0?n(i(e),9007199254740991):0}},function(e,t,r){"use strict";var i=Math.ceil,n=Math.floor;e.exports=function(e){return isNaN(e=+e)?0:(e>0?n:i)(e)}},function(e,t,r){"use strict";var i=r(11),n=r(1)("iterator"),a=r(19);e.exports=r(2).getIteratorMethod=function(e){if(null!=e)return e[n]||e["@@iterator"]||a[i(e)]}},function(e,t,r){"use strict";var i=r(3),n=r(6),a=r(1)("species");e.exports=function(e,t){var r,o=i(e).constructor;return void 0===o||null==(r=i(o)[a])?t:n(r)}},function(e,t,r){"use strict";e.exports=function(e,t,r){var i=void 0===r;switch(t.length){case 0:return i?e():e.call(r);case 1:return i?e(t[0]):e.call(r,t[0]);case 2:return i?e(t[0],t[1]):e.call(r,t[0],t[1]);case 3:return i?e(t[0],t[1],t[2]):e.call(r,t[0],t[1],t[2]);case 4:return i?e(t[0],t[1],t[2],t[3]):e.call(r,t[0],t[1],t[2],t[3])}return e.apply(r,t)}},function(e,t,r){"use strict";var i=r(0).document;e.exports=i&&i.documentElement},function(e,t,r){"use strict";var i=r(0),n=r(20).set,a=i.MutationObserver||i.WebKitMutationObserver,o=i.process,s=i.Promise,l="process"==r(8)(o);e.exports=function(){var e,t,r,u=function(){var i,n;for(l&&(i=o.domain)&&i.exit();e;){n=e.fn,e=e.next;try{n()}catch(i){throw e?r():t=void 0,i}}t=void 0,i&&i.enter()};if(l)r=function(){o.nextTick(u)};else if(!a||i.navigator&&i.navigator.standalone)if(s&&s.resolve){var c=s.resolve(void 0);r=function(){c.then(u)}}else r=function(){n.call(i,u)};else{var f=!0,d=document.createTextNode("");new a(u).observe(d,{characterData:!0}),r=function(){d.data=f=!f}}return function(i){var n={fn:i,next:void 0};t&&(t.next=n),e||(e=n,r()),t=n}}},function(e,t,r){"use strict";e.exports=function(e){try{return{e:!1,v:e()}}catch(e){return{e:!0,v:e}}}},function(e,t,r){"use strict";var i=r(0).navigator;e.exports=i&&i.userAgent||""},function(e,t,r){"use strict";var i=r(3),n=r(4),a=r(21);e.exports=function(e,t){if(i(e),n(t)&&t.constructor===e)return t;var r=a.f(e);return(0,r.resolve)(t),r.promise}},function(e,t,r){"use strict";var i=r(17);e.exports=function(e,t,r){for(var n in t)i(e,n,t[n],r);return e}},function(e,t,r){"use strict";var i=r(9).f,n=r(18),a=r(1)("toStringTag");e.exports=function(e,t,r){e&&!n(e=r?e:e.prototype,a)&&i(e,a,{configurable:!0,value:t})}},function(e,t,r){"use strict";var i=r(0),n=r(9),a=r(7),o=r(1)("species");e.exports=function(e){var t=i[e];a&&t&&!t[o]&&n.f(t,o,{configurable:!0,get:function(){return this}})}},function(e,t,r){"use strict";var i=r(1)("iterator"),n=!1;try{var a=[7][i]();a.return=function(){n=!0},Array.from(a,(function(){throw 2}))}catch(e){}e.exports=function(e,t){if(!t&&!n)return!1;var r=!1;try{var a=[7],o=a[i]();o.next=function(){return{done:r=!0}},a[i]=function(){return o},e(a)}catch(e){}return r}},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e};t.default=function(e,t){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};if(t&&e){try{e=JSON.parse(n.default.base64decode(e))}catch(e){return Promise.reject("base64 decode error")}var o=[];for(var s in r)o.push(s+"="+r[s]);var l="//"+t+"?"+e.GetPlayInfoToken+"&ssl=true";return o.length>0&&(l+="&"+o.join("&")),new a.default({type:"json",method:"GET",url:l}).then((function(e){return e&&e.response?"string"==typeof e.response?JSON.parse(e.response).Result:"object"===i(e.response)?e.response.Result:e.response:e}))}return Promise.reject("vid, host and token can't be empty")};var n=o(r(49)),a=o(r(50));function o(e){return e&&e.__esModule?e:{default:e}}e.exports=t.default},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i={base64decode:function(e){var t,r,i,n,a,o,s,l=[-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,62,-1,-1,-1,63,52,53,54,55,56,57,58,59,60,61,-1,-1,-1,-1,-1,-1,-1,0,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,16,17,18,19,20,21,22,23,24,25,-1,-1,-1,-1,-1,-1,26,27,28,29,30,31,32,33,34,35,36,37,38,39,40,41,42,43,44,45,46,47,48,49,50,51,-1,-1,-1,-1,-1];for(o=e.length,a=0,s="";a<o;){do{t=l[255&e.charCodeAt(a++)]}while(a<o&&-1===t);if(-1===t)break;do{r=l[255&e.charCodeAt(a++)]}while(a<o&&-1===r);if(-1===r)break;s+=String.fromCharCode(t<<2|(48&r)>>4);do{if(61==(i=255&e.charCodeAt(a++)))return s;i=l[i]}while(a<o&&-1===i);if(-1===i)break;s+=String.fromCharCode((15&r)<<4|(60&i)>>2);do{if(61==(n=255&e.charCodeAt(a++)))return s;n=l[n]}while(a<o&&-1===n);if(-1===n)break;s+=String.fromCharCode((3&i)<<6|n)}return s}};t.default=i,e.exports=t.default},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function e(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},r=t.url,i=t.method,n=void 0===i?"GET":i,a=(t.type,t.data),o=void 0===a?{}:a,s=t.headers,l=void 0===s?{}:s;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),new Promise((function(e,t){var i=new window.XMLHttpRequest,a=n.toUpperCase(),s=[];for(var u in o)s.push(u+"="+o[u]);if("GET"!==a)throw new Error("xhr "+a+" is not supported");for(var c in i.open(a,""+r,!0),i.responseType="",l)i.setRequestHeader(c,""+l[c]);i.send(),i.onload=function(){200===i.status||206===i.status?e(i):t(i)},i.onerror=function(){t(i)}}))},e.exports=t.default}])},function(e,t,r){var i;"undefined"!=typeof window&&(i=function(){return function(e){var t={};function r(i){if(t[i])return t[i].exports;var n=t[i]={i,l:!1,exports:{}};return e[i].call(n.exports,n,n.exports,r),n.l=!0,n.exports}return r.m=e,r.c=t,r.d=function(e,t,i){r.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:i})},r.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},r.t=function(e,t){if(1&t&&(e=r(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var i=Object.create(null);if(r.r(i),Object.defineProperty(i,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var n in e)r.d(i,n,function(t){return e[t]}.bind(null,n));return i},r.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return r.d(t,"a",t),t},r.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},r.p="/dist/",r(r.s="./src/hls-wrapper.ts")}({"../crypt/dist/jsvmp.js":function(e,t){!function(e,t,r){function i(e,t){var r=parseInt(e.slice(t,t+2),16);return r>>>7==0?[1,r]:r>>>6==2?(r=(63&r)<<8,[2,r+=parseInt(e.slice(t+2,t+4),16)]):(r=(63&r)<<16,[3,r+=parseInt(e.slice(t+2,t+6),16)])}var n,a=0,o=[],s=[],l=parseInt(e.slice(0,8),16),u=parseInt(e.slice(8,16),16);if(1213091658!==l||1077891651!==u)throw new Error("mhe");if(0!==parseInt(e.slice(16,18),16))throw new Error("ve");for(n=0;n<4;++n)a+=(3&parseInt(e.slice(24+2*n,26+2*n),16))<<2*n;var c=parseInt(e.slice(32,40),16),f=2*parseInt(e.slice(48,56),16);for(n=56;n<f+56;n+=2)o.push(parseInt(e.slice(n,n+2),16));var d=f+56,h=parseInt(e.slice(d,d+4),16);for(d+=4,n=0;n<h;++n){var p=i(e,d);d+=2*p[0];for(var v="",m=0;m<p[1];++m){var g=i(e,d);v+=String.fromCharCode(a^g[1]),d+=2*g[0]}s.push(v)}t.p=null,function e(t,r,i,n,a){var l,u,c,f,d,h=-1,p=[],v=[0,null],m=null,g=[r];for(u=Math.min(r.length,i),c=0;c<u;++c)g.push(r[c]);g.p=n;for(var y=[];;)try{var b=o[t++];if(b<39)if(b<19)if(b<7)b<3?p[++h]=b<1||1!==b&&null:b<5?3===b?(l=o[t++],p[++h]=l<<24>>24):(l=(o[t]<<8)+o[t+1],t+=2,p[++h]=l<<16>>16):5===b?(l=((l=((l=o[t++])<<8)+o[t++])<<8)+o[t++],p[++h]=(l<<8)+o[t++]):(l=(o[t]<<8)+o[t+1],t+=2,p[++h]=+s[l]);else if(b<13)b<11?7===b?(l=(o[t]<<8)+o[t+1],t+=2,p[++h]=s[l]):p[++h]=void 0:11===b?p[++h]=a:(l=(o[t]<<8)+o[t+1],t+=2,h=h-l+1,u=p.slice(h,h+l),p[h]=u);else if(b<17)13===b?p[++h]={}:(l=(o[t]<<8)+o[t+1],t+=2,u=s[l],c=p[h--],p[h][u]=c);else if(17===b){for(u=o[t++],c=o[t++],f=g;u>0;--u)f=f.p;p[++h]=f[c]}else l=(o[t]<<8)+o[t+1],t+=2,u=s[l],p[h]=p[h][u];else if(b<26)if(b<22)if(b<20)u=p[h--],p[h]=p[h][u];else if(20===b){for(u=o[t++],c=o[t++],f=g;u>0;--u)f=f.p;f[c]=p[h--]}else l=(o[t]<<8)+o[t+1],t+=2,u=s[l],c=p[h--],f=p[h--],c[u]=f;else if(b<24)if(22===b)u=p[h--],c=p[h--],f=p[h--],c[u]=f;else{for(u=o[t++],c=o[t++],f=g,f=g;u>0;--u)f=f.p;p[++h]=f,p[++h]=c}else 24===b?(u=p[h--],p[h]+=u):(u=p[h--],p[h]-=u);else b<33?b<28?26===b?(u=p[h--],p[h]*=u):(u=p[h--],p[h]/=u):28===b?(u=p[h--],p[h]%=u):p[h]=-p[h]:b<37?33===b?(u=p[h--],c=p[h--],p[++h]=c[u]++):(u=p[h--],p[h]=p[h]==u):37===b?(u=p[h--],p[h]=p[h]===u):(u=p[h--],p[h]=p[h]!==u);else if(b<55)b<47?b<43?b<40?(u=p[h--],p[h]=p[h]<u):40===b?(u=p[h--],p[h]=p[h]<=u):(u=p[h--],p[h]=p[h]>u):b<45?43===b?(u=p[h--],p[h]=p[h]<<u):(u=p[h--],p[h]=p[h]>>u):45===b?(u=p[h--],p[h]=p[h]>>>u):(u=p[h--],p[h]=p[h]&u):b<51?b<49?47===b?(u=p[h--],p[h]=p[h]|u):p[h]=~p[h]:49===b?(u=p[h--],p[h]=p[h]^u):p[h]=!p[h]:b<53?51===b?(l=(l=(o[t]<<8)+o[t+1])<<16>>16,t+=2,p[h]?--h:t+=l):(l=(l=(o[t]<<8)+o[t+1])<<16>>16,t+=2,p[h]?t+=l:--h):53===b?(u=p[h--],(c=p[h--])[u]=p[h]):(u=p[h--],p[h]=p[h]in u);else if(b<65)if(b<60)b<58?55===b?(u=p[h--],p[h]=p[h]instanceof u):p[h]=void 0:58===b?p[h]=typeof p[h]:(l=o[t++],u=p[h--],(c=function e(){var t=e._v;return(0,e._u)(t[0],arguments,t[1],t[2],this)})._v=[u,l,g],c._u=e,p[++h]=c);else if(b<62)60===b?(l=o[t++],u=p[h--],(f=[c=function e(){var t=e._v;return(0,e._u)(t[0],arguments,t[1],t[2],this)}]).p=g,c._v=[u,l,f],c._u=e,p[++h]=c):(l=(l=(o[t]<<8)+o[t+1])<<16>>16,t+=2,(u=y[y.length-1])[1]=t+l);else{if(62!==b)throw u=p[h--];l=(l=(o[t]<<8)+o[t+1])<<16>>16,t+=2,(u=y[y.length-1])&&!u[1]?(u[0]=3,u.push(t)):y.push([1,0,t]),t+=l}else if(b<69)if(b<67)if(65===b)if(c=(u=y.pop())[0],f=v[0],1===c)t=u[1];else if(0===c)if(0===f)t=u[1];else{if(1!==f)throw v[1];if(!m)return v[1];t=m[1],a=m[2],g=m[3],y=m[4],p[++h]=v[1],v=[0,null],m=m[0]}else t=u[2],u[0]=0,y.push(u);else{for(u=p[h--],c=null;f=y.pop();)if(2===f[0]||3===f[0]){c=f;break}if(c)v=[1,u],t=c[2],c[0]=0,y.push(c);else{if(!m)return u;t=m[1],a=m[2],g=m[3],y=m[4],p[++h]=u,v=[0,null],m=m[0]}}else if(67===b)h-=l=o[t++],c=p.slice(h+1,h+l+1),u=p[h--],f=p[h--],u._u===e?(u=u._v,m=[m,t,a,g,y],t=u[0],null==f&&(f=function(){return this}()),a=f,(g=[c].concat(c)).length=Math.min(u[1],l)+1,g.p=u[2],y=[]):p[++h]=u.apply(f,c);else{for(l=o[t++],f=[void 0],d=l;d>0;--d)f[d]=p[h--];c=p[h--],u=Function.bind.apply(c,f),p[++h]=new u}else b<73?69===b?t+=2+(l=(l=(o[t]<<8)+o[t+1])<<16>>16):(l=(l=(o[t]<<8)+o[t+1])<<16>>16,t+=2,(u=p[h--])||(t+=l)):73===b?--h:(u=p[h],p[++h]=u)}catch(e){for(v=[0,null];(l=y.pop())&&!l[0];);if(!l){e:for(;m;){for(u=m[4];l=u.pop();)if(l[0])break e;m=m[0]}if(!m)throw e;t=m[1],a=m[2],g=m[3],y=m[4],m=m[0]}1===(u=l[0])?(t=l[2],l[0]=0,y.push(l),p[++h]=e):2===u?(t=l[2],l[0]=0,y.push(l),v=[3,e]):(t=l[3],l[0]=2,y.push(l),p[++h]=e)}}(c,[],0,t,r)}("484e4f4a403f524300201617fc1519a0000046b6a66298ed00004cfc070001490700021102003a2333000b0700031102001200043a2347000a050000003d3b0145000705000000423b011701013549021101011100014301421100013a421100013300080700021103003a2333000a1100011200051103002533000a110001110300120006264700060700034500041100013a421102033a07000d2633000611020312000e47000c11020312000e14010245000a05000000b03c031401021101024a1200120b1100004302420211030311000111000243021400041100043247000208421104014a12000f110004110002430214000511000512000e47002211000512000e4a120010110000120011030327470006110001450003110003430142110005120009421102011200061200134a12001011000111000243023247001a021101081100014301140001110001022547000345000345ffcd110001421100023a0700022633000511000202264700091102040700144401401102014a1200151100023300061100021200060d0d1100010e0009000e0016000e00170e000543021100011500061102014a1200071100010700060d010e001643034911000247000d0211010b11000111000243024908420211010a430014000205000001c83c0042021103081102014301140001110202470025021103080b43011200051400031104034a12001811000111000011000343031400024500101100014a1200120b1100004302140002021103060b110002430242110002330018021101011100024301070019253400081100023a07000225470007110002424500131100020300382647000911020407001a440140021101071100014301421100010300382547000911020507001b4401401100014211020112001c47000911020112001d450007050000029c3c011401080211010811000143014211000112001e34000c1104014a12001d1100014301420211010a430047000c11020312001814010945000a05000002df3c031401091101094a12001202110000430242020c000114000411000412001f4a1200121100041100024302491104061200204a120012110001110004430214000511000544001400061100034700100211030b110006110003120006430249110006421102033a07000d2534000711020312001832470002014211020312001812002147000201421102073a0700022547000200423e00061400010142413d00291102081200061200224a1200101102034a1200181102080c000005000003993b0043034301490042410842084211020112001c34000705000003bb3c0214010b0211010b11000111000243024211000211000115001e110001421100011100023732470009110204070023440140084203001400031100031100021200112747005011000211000313140004110004120024340001011100041500240011000415001707000911000436470007001100041500161102014a120007110001110004120025110004430349170003214945ffa308421100024700100211010d11000112000611000243024911000347000d0211010d1100011100034302491102014a1200071100010700060d010e00164303491100014205000004d53b001400010211010e1100010d0700260e002505000004e23c010e00090d0700280e002505000004f03c000e00090c00020d0700150e0025050000050b3c000e00090c0001430349110001420211020c0b11010143024908421104014a1200270b1100014302420b12000544001400011104014a1200271100010b4302491100014211000012001114000111040911000144011400020300140003110003110001274700161100001100031311000211000316170003214945ffe0021103090b11000243024205000005db3b00140003021101041100031100014302490211010511000343011400020211010e1100030d07002e0e002505000007553c000e00090d0700300e002505000007863c010e00090d0700310e0025050000086c3c000e00090d0700280e002505000008b73c000e00090c00040d0700350e002505000008ed3c010e00090c00014303491100034211000012001103002933000811000003001308264700091100000300134500030c0000140002110000120011030129330008110000030113082647000911000003011345000911000212001103041a1400030211020c0b1101034302491101024a1200100b430114000111000214000411000411030a3747000b11030b110004440114000411000411030c3734000711000411030d3734000711000411030e3734000711000411030f373400071100041103103734000711000411031137340007110004110312373400071100041103133747001a11030b11000412002911000412002a11000412002b440314000411000411030b3747006b11000412002b1400050c000014000603001400071100071100052747003811000611000703022d1311000411000713031811000703041c03081a192b2f11000611000703022d3549110007030118170007354945ffbe11000611000115002c11000511000115002d45001211000211000115002c11000311000115002d1100014211000012001103002933000811000003001308264700091100000300134500031103111400011100014a12002f0b4301420b12002c14000211000112002c1400030b12002d14000411000112002d1400050b4a12003143004911000403041c47007003001400061100061100052747005e11000311000603022d13031811000603041c03081a192d0400ff2e1400071100021100041100061803022d1311000703181100041100061803041c03081a192b2f1100021100041100061803022d3549110006030118170006354945ff9845003503001400081100081100052747002611000311000803022d131100021100041100081803022d16110008030418170008354945ffd00b12002d110005180b07002d35490b420b12002c1400010b12002d14000211000111000203022d13060032032011000203041c03081a192b2e11000111000203022d35491104144a12003311000203041b43011100011500110842021103020211030811020312000643010700280b43034a1200100b43011400010b12002c4a1200340300430111000115002c110001420c000014000205000009683c01140003030014000411000411000127470050021100031100053400091104144a12003543000600361a4301140006021100064300053ade67b71a1400051100024a12001f0211000643000600361a03002f430149110004030418170004354945ffa6110203110002110001440242110001140002053ade68b114000306003214000405000009843b00420500009069110103050000ffff2e1a11010303102c181101042e140103044650110102050000ffff2e1a11010203102c181101042e14010211010303102b110102181101042e1400011100010600361b17000135491100010600371817000135491100011107144a120035430006003729470005030145000303011d1a4211000112002c14000211000112002d1400030c000014000403001400051100051100032747005c11000211000503022d13031811000503041c03081a192d0400ff2e1400061100044a12001f11000603042d4a12002e031043014301491100044a12001f110006030f2e4a12002e03104301430149110005030118170005354945ff9a1100044a1200380700394301421100011200111400020c000014000303001400041100041100022747004711000311000403032d13021103151100014a12003a1100040302430203104302031811000403081c03041a192b2f11000311000403032d3549110004030218170004354945ffaf11021011000311000203021b44024211000112002c14000211000112002d1400030c000014000403001400051100051100032747004211000211000503022d13031811000503041c03081a192d0400ff2e1400061100044a12001f1103164a12003b1100064301430149110005030118170005354945ffb41100044a1200380700394301421100011200111400020c000014000303001400041100041100022747004111000311000403022d131100014a12003c11000443010400ff2e031811000403041c03081a192b2f11000311000403022d3549110004030118170004354945ffb51102101100031100024402423e000d14000211031907003d440140413d001a02110317021103181102124a12002f110001430143014301424108421102124a12000c0211031a0211031b110001430143014301420500000ca73b00140003021101041100031100014302490211010511000343011400020211010e1100030d07003f0e00250500000ccb3c000e00090d0700420e00250500000cdc3c010e00090d0700440e00250500000d1d3c010e00090d0700280e00250500000e013c000e00090c0004430249110003420211020c0b1101034302491101024a1200100b4301140001030011000115003e1100014211031044000b15004003000b15004108421100011400021100023a0700432547000f1103134a12000c11000243011400020b1200404a1200301100024301490b12004111000212002d180b070041354908420b1200401400030b12004514000411000312002c14000511000312002d14000611000403041a1400071100061100071b1400081100014700121104144a12003311000843011400084500191104144a12004611000803002f0b12003e19030043021400081100081100041a1400091104144a12004711000903041a110006430214000a11000947004f030014000b11000b1100092747001d0b4a12004811000511000b43024911000b1100041817000b354945ffd91100054a1200490300110009430214000211000312002d11000a1911000307002d354911031011000211000a440242021103020211030811020312000643010700280b43034a1200100b43011400010b1200404a1200284300110001150040110001420500000ec13b01140003021101041100031100014302490211010511000343011400020211010e1100030d07003f0e00250500000f0a3c000e00090d07004c0e00250500000f323c010e00090d07004d0e00250500000f473c010e00090c00030d07004f0e00250500000f663c010e00090d0700500e00250500000f803c010e00090c0002430349110003420211020c0b1101034302491101024a1200100b430114000204020003201b1100021500451103014a12002711020f4400110001430211000215004a1100024a12003f430049110002420211030202110308110203120006430107003f0b43034a1200100b4301490b4a12004b43004908420b4a1200421100014301490b4a1200444300490b4211000147000b0b4a1200421100014301490b4a12004e4300140002110002420500000f6e3b024211010111000244014a12004d1100014301420500000f883b024211041611010111000244024a12004d11000143014205000010043b02140003021101041100031100014302490211010511000343011400020211010e1100030d07003f0e002505000011283c000e00090d07004c0e002505000011493c010e00090d07004d0e002505000011593c010e00090c0003430249110003420211020c0b1101034302491101024a1200100b430114000311000144001400041100041100031500511100021400051100053a0700432547000f1102134a12000c110005430114000511000412004514000611000603041a14000711000512002d1100072947000f1100044a12004d11000243011400051100054a1200314300491100054a12002843001400081100081100031500521100054a120028430014000911000911000315005311000812002c14000a11000912002c14000b030014000c11000c1100062747003811000a11000c13055c5c5c5c3111000a11000c354911000b11000c1305363636363111000b11000c354911000c03011817000c354945ffbe11000711000815002d11000711000915002d1100034a12003f430049110003420b1200511400011100014a12003f4300491100014a12004c0b12005343014908420b1200514a12004c1100014301490b420b1200511400021100024a12004d11000143011400031100024a12003f4300491100024a12004d0b1200524a12002843004a12003011000343014301140004110004420c0000140004030014000503001400061100061100022747009211000603041c47007b1100031100014a12003c11000603011943011311000603041c03021a2b1400071100031100014a12003c110006430113030611000603041c03021a192d1400081100071100082f14000911000411000503022d13110009031811000503041c03081a192b2f11000411000503022d35491100050301181700053549110006030118170006354945ff641102104a12001511000411000543024211000112002c14000211000112002d1400030b1200541400041100014a1200314300490c00001400050300140006110006110003274700d911000211000603022d13031811000603041c03081a192d0400ff2e14000711000211000603011803022d13031811000603011803041c03081a192d0400ff2e14000811000211000603021803022d13031811000603021803041c03081a192d0400ff2e14000911000703102b11000803082b2f1100092f14000a030014000b11000b03042733000f11000611000b0600551a18110003274700311100054a12001f1100044a12005611000a0306030311000b191a2d033f2e430143014911000b03011817000b354945ffb4110006030318170006354945ff1d1100044a1200560340430114000c11000c47001c11000512001103041c4700101100054a12001f11000c43014945ffe41100054a1200380700394301421100011200111400020b1200541400030b120057140004110004324700410c00000b1500570b1200571400040300140005110005110003120011274700211100051100041100034a12003c110005430116110005030118170005354945ffd21100034a1200560340430114000611000647001f1100014a120058110006430114000711000703011d26470006110007140002021102171100011100021100044303421100011100021100032e110002301100042e2f1811000518110007181400081100081100062b1100080320110006192d2f11000218421100011100021100042e110003110004302e2f1811000518110007181400081100081100062b1100080320110006192d2f110002184211000111000211000331110004311811000518110007181400081100081100062b1100080320110006192d2f1100021842110001110003110002110004302f311811000518110007181400081100081100062b1100080320110006192d2f1100021842050000158f3b00140003021101041100031100014302490211010511000343011400020211010e1100030d07004b0e002505000015a83c000e00090d0700480e002505000015c63c020e00090d07004e0e00250500001f743c000e00090d0700280e002505000020c63c000e00090c0004430249110003420211020c0b1101034302491101024a1200120b110000430242110310056745230106005c06005d05103254760c000444010b15005e0842110001140003030014000411000403102747004e110002110004181400051100011100051314000611000603082b11000603182d2f0500ff00ff2e11000603182b11000603082d2f06005f2e2f11000311000516110004030118170004354945ffa90b12005e12002c14000711000311000203001813140008110003110002030118131400091100031100020302181314000a1100031100020303181314000b1100031100020304181314000c1100031100020305181314000d1100031100020306181314000e1100031100020307181314000f1100031100020308181314001011000311000203091813140011110003110002030a1813140012110003110002030b1813140013110003110002030c1813140014110003110002030d1813140015110003110002030e1813140016110003110002030f181314001711000703001314001811000703011314001911000703021314001a11000703031314001b0211031b11001811001911001a11001b110008030711031903001343071400180211031b11001b11001811001911001a110009030c110319030113430714001b0211031b11001a11001b11001811001911000a0311110319030213430714001a0211031b11001911001a11001b11001811000b031611031903031343071400190211031b11001811001911001a11001b11000c030711031903041343071400180211031b11001b11001811001911001a11000d030c110319030513430714001b0211031b11001a11001b11001811001911000e0311110319030613430714001a0211031b11001911001a11001b11001811000f031611031903071343071400190211031b11001811001911001a11001b110010030711031903081343071400180211031b11001b11001811001911001a110011030c110319030913430714001b0211031b11001a11001b1100181100191100120311110319030a13430714001a0211031b11001911001a11001b1100181100130316110319030b1343071400190211031b11001811001911001a11001b1100140307110319030c1343071400180211031b11001b11001811001911001a110015030c110319030d13430714001b0211031b11001a11001b1100181100191100160311110319030e13430714001a0211031b11001911001a11001b1100181100170316110319030f1343071400190211031c11001811001911001a11001b110009030511031903101343071400180211031c11001b11001811001911001a11000e0309110319031113430714001b0211031c11001a11001b110018110019110013030e110319031213430714001a0211031c11001911001a11001b110018110008031411031903131343071400190211031c11001811001911001a11001b11000d030511031903141343071400180211031c11001b11001811001911001a1100120309110319031513430714001b0211031c11001a11001b110018110019110017030e110319031613430714001a0211031c11001911001a11001b11001811000c031411031903171343071400190211031c11001811001911001a11001b110011030511031903181343071400180211031c11001b11001811001911001a1100160309110319031913430714001b0211031c11001a11001b11001811001911000b030e110319031a13430714001a0211031c11001911001a11001b1100181100100314110319031b1343071400190211031c11001811001911001a11001b1100150305110319031c1343071400180211031c11001b11001811001911001a11000a0309110319031d13430714001b0211031c11001a11001b11001811001911000f030e110319031e13430714001a0211031c11001911001a11001b1100181100140314110319031f1343071400190211031d11001811001911001a11001b11000d030411031903201343071400180211031d11001b11001811001911001a110010030b110319032113430714001b0211031d11001a11001b1100181100191100130310110319032213430714001a0211031d11001911001a11001b110018110016031711031903231343071400190211031d11001811001911001a11001b110009030411031903241343071400180211031d11001b11001811001911001a11000c030b110319032513430714001b0211031d11001a11001b11001811001911000f0310110319032613430714001a0211031d11001911001a11001b110018110012031711031903271343071400190211031d11001811001911001a11001b110015030411031903281343071400180211031d11001b11001811001911001a110008030b110319032913430714001b0211031d11001a11001b11001811001911000b0310110319032a13430714001a0211031d11001911001a11001b11001811000e0317110319032b1343071400190211031d11001811001911001a11001b1100110304110319032c1343071400180211031d11001b11001811001911001a110014030b110319032d13430714001b0211031d11001a11001b1100181100191100170310110319032e13430714001a0211031d11001911001a11001b11001811000a0317110319032f1343071400190211031e11001811001911001a11001b110008030611031903301343071400180211031e11001b11001811001911001a11000f030a110319033113430714001b0211031e11001a11001b110018110019110016030f110319033213430714001a0211031e11001911001a11001b11001811000d031511031903331343071400190211031e11001811001911001a11001b110014030611031903341343071400180211031e11001b11001811001911001a11000b030a110319033513430714001b0211031e11001a11001b110018110019110012030f110319033613430714001a0211031e11001911001a11001b110018110009031511031903371343071400190211031e11001811001911001a11001b110010030611031903381343071400180211031e11001b11001811001911001a110017030a110319033913430714001b0211031e11001a11001b11001811001911000e030f110319033a13430714001a0211031e11001911001a11001b1100181100150315110319033b1343071400190211031e11001811001911001a11001b11000c0306110319033c1343071400180211031e11001b11001811001911001a110013030a110319033d13430714001b0211031e11001a11001b11001811001911000a030f110319033e13430714001a0211031e11001911001a11001b1100181100110315110319033f1343071400191100070300131100181803002f1100070300161100070301131100191803002f11000703011611000703021311001a1803002f11000703021611000703031311001b1803002f11000703031608420b12004014000111000112002c1400020b12004103081a14000311000112002d03081a14000411000211000403052d13040080031811000403201c192b2f11000211000403052d35491104144a1200601100030600361b430114000511000314000611000503082b11000503182d2f0500ff00ff2e11000503182b11000503082d2f06005f2e2f11000211000403401803092d03042b030f181611000603082b11000603182d2f0500ff00ff2e11000603182b11000603082d2f06005f2e2f11000211000403401803092d03042b030e181611000212001103011803041a11000115002d0b4a1200444300490b12005e14000711000712002c14000803001400091100090304274700441100081100091314000a11000a03082b11000a03182d2f0500ff00ff2e11000a03182b11000a03082d2f06005f2e2f11000811000916110009030118170009354945ffb311000742021103020211030811020312000643010700280b43034a1200100b43011400010b12005e4a120028430011000115005e11000142050000213f3b01140003021101041100031100014302490211010511000343011400020211010e1100030d0700640e002505000021873c020e00090c0001430249110003420211020c0b1101034302491101024a1200100b43011400021103014a12002711020f44000d04008003201b0e006111021f0e006203010e0063110001430311000215004a110002420b12004a1400041100041200624a12001543001400051103104a120015430014000611000612002c1400071100041200611400081100041200631400091100071200111100082747007b11000347000d1100054a12004c1100034301491100054a12004c11000143014a12004d11000243011400031100054a12003f430049030114000a11000a110009274700271100054a12004d11000343011400031100054a12003f43004911000a03011817000a354945ffcf1100064a12003011000343014945ff7811000803041a11000615002d1100064205000022f93b03140003021101041100031100014302490211010511000343011400020211010e1100030d07003f0e002505000023483c000e00090d0700670e002505000023703c010e00090d07004d0e002505000023833c010e00090c00030d0700680e002505000023a23c020e00090d07006a0e002505000023b43c020e00090d07004f0e002505000023c63c010e00090c0003430349110003420211020c0b1101034302491101024a1200100b43011400041103014a12002711020f4400110003430211000415004a1100011100041500651100021100041500661100044a12003f430049110004420211030202110308110203120006430107003f0b43034a1200100b4301490b4a12004b43004908420b4a1200421100014301490b4a12004443004211000147000b0b4a1200421100014301490b4a12004e4300140002110002420b4a1200150b1200691100011100024303420b4a1200150b12006b11000111000243034205000023e63c011400020d05000023f93c030e006c05000024153c030e000a421100013a0700432547000411052b42110529420211020211000243014a12006c1102011100011100021100034304420211020211000243014a12000a11020111000111000211000343044205000024883b02140003021101041100031100014302490211010511000343011400020211010e110003020d0700680e002505000024b63c020e00090d07006a0e002505000024c73c020e00090c0002430349110003420211020c0b1101034302491101024a1200100b430114000311000111000315006e11000211000315006f110003420b1200704a1200151100011100024302420b1200714a1200151100011100024302421100011400040b12006f14000611000647000e110006140005080b15006f4500070b12007214000503001400071100071100032747002d11000411000211000718131100051100071331110004110002110007183549110007030118170007354945ffc90842050000256b3b00140003021101041100031100014302490211010511000343011400020211010e1100034301420211020c0b1101034302491101024a1200120b11000043024205000025c93b00140003021101041100031100014302490211010511000343011400020211010e1100030d0700730e002505000025e23c020e00090c0001430249110003420211020c0b1101034302491101024a1200120b1100004302420b12006e1400031100031200451400041103234a1200100b1100011100021100044304491100034a1200741100011100024302491100014a1200341100021100021100041843020b150072084205000026743b00140003021101041100031100014302490211010511000343011400020211010e1100030d0700730e0025050000268d3c020e00090c0001430249110003420211020c0b1101034302491101024a1200120b1100004302420b12006e1400031100031200451400041100014a1200341100021100021100041843021400051100034a1200751100011100024302491103234a1200100b1100011100021100044304491100050b150072084211000203041a14000311000311000112002d1100031c1914000411000403182b11000403102b2f11000403082b2f1100042f1400050c000014000603001400071100071100042747001b1100064a12001f110005430149110007030418170007354945ffdb1102104a12001511000611000443021400081100014a120030110008430149084211000114000211000212002c11000212002d03011903022d130400ff2e14000311000212002d1100031911000207002d3549084205000028013b03140003021101041100031100014302490211010511000343011400020211010e1100030d07003f0e002505000028483c000e00090d0700480e002505000028d23c020e00090d07004e0e002505000028e53c000e00090c0003430249110003420211020c0b1101034302491101024a1200100b1100011100021103014a1200270d1102240e00781102250e00791100034302430414000404008003201b110004150045110004420211030202110308110203120006430107003f0b43034a1200100b4301490b12004a14000211000212007a1400031100021200781400040b1200650b1200051200692547000c11000412006814000145000f11000412006a14000103010b15003e1100014a1200101100040b11000333000611000312002c43030b15007b1100010b12007b15007c08420b12007b4a12007311000111000243024908420b12004a1200791400020b1200650b120005120069254700241100024a1200760b1200400b1200454302490b4a12004407007d3232430114000145001c0b4a12004407007d323243011400011100024a1200771100014301491100014205000029873b01140003021101041100031100014302490211010511000343011400020211010e1100030d07002e0e002505000029b03c010e00090c0001430249110003420211020c0b1101034302491101024a1200100b43011400021100024a120026110001430149110002421100013400040b12007e4a12002f0b43014211000112007f14000311000112008014000411000447002e1102104a1200150553616c740565645f5f0c000243014a12003011000443014a12003011000343011400024500061100031400021100024a12002e1102184301421102184a12000c110001430114000311000312002c1400041100040300130553616c742533000c1100040301130565645f5f254700381102104a1200151100044a12003403020304430243011400021100044a1200490300030443024911000312002d03101911000307002d35491102274a1200150d1100030e007f1100020e00804301420500002b083b00140003021101041100031100014302490211010511000343011400020211010e110003020d07006c0e00250500002b213c040e00090d07000a0e00250500002bad3c040e00090d0700830e00250500002c003c020e00090c0003430349110003420211020c0b1101034302491101024a1200120b1100004302421104014a12002711030f44000b12004a11000443031400051100014a12006811000311000543021400061100064a12004d110002430114000711000612004a1400081103274a1200150d1100070e007f1100030e002511000812007a0e007a1100010e00811100081200780e00781100081200790e00791100061200450e00451100051200820e007e4301421100021400051104014a12002711030f44000b12004a11000443031400060b4a12008311000511000612008243021400051100014a12006a11000311000643024a12004d11000512007f4301140007110007421100013a0700432547000e1100024a12000c1100010b43024211000142110004140005110005324700111102104a120035034003081b43011400051102204a1200150d110002110003180e006143014a12006411000111000543021400061102104a12001511000612002c4a120034110002430111000303041a430214000711000203041a11000615002d1102274a1200150d1100060e00251100070e007a1100050e00804301420500002cff3b00140003021101041100031100014302490211010511000343011400020211010e110003020d07006c0e00250500002d183c040e00090d07000a0e00250500002d8a3c040e00090c0002430349110003420211020c0b1101034302491101024a1200120b1100004302421104014a12002711030f44000b12004a11000443031400051100051200854a12008411000311000112006111000112006d430314000611000612007a11000515007a11032912006c4a1200100b11000111000211000612002511000543051400071100074a120026110006430149110007421100021400051104014a12002711030f44000b12004a11000443031400060b4a12008311000511000612008243021400051100061200854a12008411000311000112006111000112006d110005120080430414000711000712007a11000615007a11032912000a4a1200100b1100011100051100071200251100064305140008110008420500002e863b00140003021101041100031100014302490211010511000343011400020211010e1100030d07004b0e00250500002e9f3c000e00090d0700740e002505000030f03c020e00090d0700750e002505000031133c020e00090d07008a0e002505000031983c080e00090c0004430249110003420211020c0b1101034302491101024a1200120b1100004302420b1200863300090b1200870b1200662547000208420b1200660b1500870b12008714000211000212002c14000311000212002d03041b1400041100040306180b1500860b12008614000511000503011803041a1400060c00000b1500880b12008814000703001400081100081100062747011a1100081100042747001111000311000813110007110008164500f1110007110008030119131400011100081100041c3247006d11000103082b11000103182d2f14000111032c11000103182d1303182b11032c11000103102d0400ff2e1303102b2f11032c11000103082d0400ff2e1303082b2f11032c1100010400ff2e132f1400011100011103401100081100041b03002f1303182b31170001354945005611000403062933000a1100081100041c03042547004011032c11000103182d1303182b11032c11000103102d0400ff2e1303102b2f11032c11000103082d0400ff2e1303082b2f11032c1100010400ff2e132f14000111000711000811000419131100013111000711000816110008030118170008354945fedc0c00000b1500890b120089140009030014000a11000a110006274700a511000611000a1914000b11000a03041c47000d11000711000b1314000145000d11000711000b0304191314000111000a03042734000611000b03042847000d11000111000911000a1645004b11033211032c11000103182d131311033311032c11000103102d0400ff2e13133111033411032c11000103082d0400ff2e13133111033511032c1100010400ff2e13133111000911000a1611000a03011817000a354945ff5108420b4a12008a1100011100020b12008811032e11032f11033011033111032c4308490842110001140003110003110002030118131400041100031100020303181311000311000203011816110004110003110002030318160b4a12008a1100031100020b12008911033211033311033411033511032d4308491100031100020301181314000411000311000203031813110003110002030118161100041100031100020303181608421100011400090b12008614000a110009110002131100030300133114000b110009110002030118131100030301133114000c110009110002030218131100030302133114000d110009110002030318131100030303133114000e030414000f030114001011001011000a2747014e11000411000b03182d1311000511000c03102d0400ff2e133111000611000d03082d0400ff2e133111000711000e0400ff2e133111000311000f133114001111000f03011817000f354911000411000c03182d1311000511000d03102d0400ff2e133111000611000e03082d0400ff2e133111000711000b0400ff2e133111000311000f133114001211000f03011817000f354911000411000d03182d1311000511000e03102d0400ff2e133111000611000b03082d0400ff2e133111000711000c0400ff2e133111000311000f133114001311000f03011817000f354911000411000e03182d1311000511000b03102d0400ff2e133111000611000c03082d0400ff2e133111000711000d0400ff2e133111000311000f133114001411000f03011817000f354911001114000b11001214000c11001314000d11001414000e110010030118170010354945fea811000811000b03182d1303182b11000811000c03102d0400ff2e1303102b2f11000811000d03082d0400ff2e1303082b2f11000811000e0400ff2e132f11000311000f133114001511000f03011817000f354911000811000c03182d1303182b11000811000d03102d0400ff2e1303102b2f11000811000e03082d0400ff2e1303082b2f11000811000b0400ff2e132f11000311000f133114001611000f03011817000f354911000811000d03182d1303182b11000811000e03102d0400ff2e1303102b2f11000811000b03082d0400ff2e1303082b2f11000811000c0400ff2e132f11000311000f133114001711000f03011817000f354911000811000e03182d1303182b11000811000b03102d0400ff2e1303102b2f11000811000c03082d0400ff2e1303082b2f11000811000d0400ff2e132f11000311000f133114001811000f03011817000f35491100151100091100021611001611000911000203011816110017110009110002030218161100181100091100020303181608421101134a12000c11000243011400041101134a12000c11000343011400051101184a12000c11000143011400061101184a12002f11000643011400071101424a12000a1100071100040d1100050e007a43031400081100084a12002e1101134301421100013a070043254700651100014a12008b07008c43011400021100021200110302254700481100020300131400031100034a12008d031043011400041100041100034a12008d030003104302181400051100020301131400060d1100040e007a1100050e00251100060e008e420d420d4211020a110001120011440114000211020b110002440114000303001400041100041100011200112747001b1100014a12003c110004430111000311000416170004214945ffd81100024211020a4a12008f110001430147000911000112002914000111021612003b4a1200120211020b110001440143024211020b1200061200344700121100014a120034110002110003430245001d11020b1102091200061200344a120010110001110002110003430344014205000036793b0214000105000036893b0211000112000615000a110001421100010b1500901100020b15009108420b1200904a12000a0d0700920e00930b1200910e007a11000211000143034211000112002b14000211000233001711021c11000112002944014a12009411000203011943011400031100034700130211014711000103001100021100031943034211000142050000374c3b0014000105000037f13b0111000112000615009d05000038363b0011000112000615009b0500003a883b011100011200061500a10500003d6b3b011100011200061500a20500003d933b0311000112000615000a1100014203000301030203040308031003200340040080031b03360c000b0b15009511031104010044011103110401004401110311040100440111031104010044010c00040b15009611031104010044011103110401004401110311040100440111031104010044010c00040b15009711031104010044010b15009811031104010044010b150099110311030044010b15002503000b15009a03000b1500610b4a12009b430049084211031c110001440114000211031103044401140003030014000411000403042747001e1100024a12009c11000403041a430111000311000416170004214945ffd9110003420b1200981400010b1200991400020b1200961400031100030300131400041100030301131400051100030302131400061100030303131400070b12009714000811000803001314000911000803011314000a11000803021314000b11000803031314000c110311040100440114000d030014000e030014000f030014001003001700103549110010040100274700331100100400802747001011001003012b11000d1100101645001111001003012b04011b3111000d11001016170010214945ffc3030017001035491100100401002747017d11000f11000f03012b3111000f03022b3111000f03032b3111000f03042b3114001111001103082d1100110400ff2e3103633114001111001111000111000e1611000e1100021100111611000d11000e1314001211000d1100121314001311000d1100131314001411000d110011130401011a11001105010101001a3114001511001503182b11001503082d2f11000411000e1611001503102b11001503102d2f11000511000e1611001503082b11001503182d2f11000611000e1611001511000711000e1611001405010101011a11001305000100011a311100120401011a3111000e05010101001a3114001511001503182b11001503082d2f1100091100111611001503102b11001503102d2f11000a1100111611001503082b11001503182d2f11000b1100111611001511000c1100111611000e3247000c030117000f3514000e45002e11001211000d11000d11000d110014110012311313133114000e11000f11000d11000d11000f13133117000f3549170010214945fe7908420b4a12009d11000143011400020014000303001400041100041100021200112733000311000347001b110002110004130b1200251100041325140003170004214945ffd211000347000208421100020b1500251100021200110b0700613514000511000503042633000611000503062633000611000503082647000d11031907009e1100051844014011000503061803011803041a0b07009a3514000611031111000644010b07009f3514000911031111000644010b0700a03514000a0b12009814000b0b12009514000c0b12009714000d11000d03001314000e11000d03011314000f11000d03021314001011000d03031314001103001700073549110007110006274701191100071100052747001411000211000713110009110007351400124500f31100121400131100071100051c03002547006d11001303082b11001303182d2f14001311000b11001303182d1303182b11000b11001303102d0400ff2e1303102b2f11000b11001303082d0400ff2e1303082b2f11000b1100130400ff2e132f14001311001311000c1100071100051b03002f1303182b31170013354945005611000503062933000a1100071100051c03042547004011000b11001303182d1303182b11000b11001303102d0400ff2e1303102b2f11000b11001303082d0400ff2e1303082b2f11000b1100130400ff2e132f14001311000911000711000519131100133103002d1700123511000911000716170007214945fedd03001700083549110008110006274700b01100061100081914000711000803032e47000d1100091100071314001345000d1100091100070304191314001311000803042734000611000703042847000d11001311000a1100081645004b11000e11000b11001303182d131311000f11000b11001303102d0400ff2e13133111001011000b11001303082d0400ff2e13133111001111000b1100130400ff2e13133111000a1100081611000a1100081303002d11000a11000816170008214945ff46084211000103182b110001050000ff002e03082b2f1100010500ff00002e03082c2f11000103182d2f420b1200610306181400040b1200a01400050b1200991400060b12009714000711000703001314000811000703011314000911000703021314000a11000703031314000b0b4a12009d110003430114000c11000c03001314000d11000c03011314000e11000c03021314000f11000c030313140010110310110001440114001111031011001112001144011400120b1200a2140021110002110011120011274703670211002111001111000213430114001b0211002111001111000203011813430114001c0211002111001111000203021813430114001d0211002111001111000203031813430114001e11001b1100050300133114001711001e1100050301133114001811001d1100050302133114001911001c1100050303133114001a030414001f030117002035491100201100042747012e11000811001703182d1311000911001803102c0400ff2e133111000a11001903082c0400ff2e133111000b11001a0400ff2e133111000511001f133114001311000811001803182d1311000911001903102c0400ff2e133111000a11001a03082c0400ff2e133111000b1100170400ff2e133111000511001f030118133114001411000811001903182d1311000911001a03102c0400ff2e133111000a11001703082c0400ff2e133111000b1100180400ff2e133111000511001f030218133114001511000811001a03182d1311000911001703102c0400ff2e133111000a11001803082c0400ff2e133111000b1100190400ff2e133111000511001f030318133114001611001314001711001414001811001514001911001614001a11001f03041814001f170020214945fec811000611001703182d1303182b11000611001803102c0400ff2e1303102b3111000611001903082c0400ff2e1303082b3111000611001a0400ff2e133111000511001f133114001311000611001803182d1303182b11000611001903102c0400ff2e1303102b3111000611001a03082c0400ff2e1303082b311100061100170400ff2e133111000511001f030118133114001411000611001903182d1303182b11000611001a03102c0400ff2e1303102b3111000611001703082c0400ff2e1303082b311100061100180400ff2e133111000511001f030218133114001511000611001a03182d1303182b11000611001703102c0400ff2e1303102b3111000611001803082c0400ff2e1303082b311100061100190400ff2e133111000511001f03031813311400160211002111001311000d314301110012110002160211002111001611000e314301110012110002030118160211002111001511000f31430111001211000203021816021100211100141100103143011100121100020303181611001b14000d11001c14000e11001d14000f11001e14001011000203041814000245fc8c1100121200294205000041c03b0214000105000041d03b001100011200061500a1110001421100010b1500901100020b15002508420b1200904a1200a30700a40b1200250d0700920e00930107006c07000a0c000243054211020b1100011200111100021200111844011400031100034a1200a51100014301491100034a1200a51100021100011200114302491100034205000042ea3b03140001050000439e3b001100011200061500b205000043a53b001100011200061500b305000043ad3b0011000112000615007d05000043ed3b0011000112000615003f050000440a3b011100011200061500b405000044473b0411000112000615000a05000044a83b031100011200061500b505000045843b031100011200061500b6050000463b3b041100011200061500be05000046593b011100011200061500ba05000046a53b011100011200061500b811000142110003030038254700040d4500031100031400041100041200a61400051100050300382547000400450003110005140006000b1500a7020b150090020b1500a8020b150025020b1500a9020b1500aa020b1500ab020b1500ac1100010b1500ad1100020b1500ae1100060b1500a611000647002d3e0004140008413d002311031d1200af1400071100074700131100071200903400061100071200b00b150090410b1200900225470008000b1200ae1500b10842020b1500ad08420b1200ae1200b1420b1200ac1400011100013247000a0b4a12003f430049084211030b11000144011400020b4a12003f4300490b1200a647000a0211024911000243014211000242020b1500ac020b1500ab020b1500aa0b1200a8470005020b1500a808420211024611000143011400020211024411000243011400030211024311000312008e11000312002511000312007a4303140004021102451100044301420b1200ae1200b14700360b4a1200b511030b11000144011100021100034303490b4a12007d430014000511000547000d0211000411000512002943014945001f0b4a1200b611030b110001440111000211000343034a1200b711000443014908420b4a1200b411000243011400020b1400041100041200ab1400051100041200ac1400061100041200aa1400070b4a1200b80700b94301491100074700140211024d1100071100014302140001020b1500aa0b4a1200ba11000143011400081100081200113247000202421100054700061100051400030b1200a81400091100093247000d11024a44000b0700a8351400091100094a1200a111000243014911000614000a1100094a12000a110008120029030011000343030b1500ac0211024711000803101d43021200290b1500ab11000a32470002024211000a420b1400040b4a1200b411000243011400020b1200901400050b120025110002263400050b1200a9324700161100020b15002511024b11000511000244020b1500a90b1200a94a1200a143004a1200b705000045eb3b0143014a0700bd1305000046253b014301421101053247001211041e4a1200bb1104190700bc440143014211034811010511010344021400021100024a12000a1101011200291100014302421101044a1200be110001110101110102110103430442000b1200ae1500b1000b1500a70b4a1200b511000211000311000443034211000114000211000112001111000112001111024c1c191400031100031100011200112647002102110247110001030011000343031400020211024711000111000343020b1500aa110002420b1200a7324700020842010b1500a7084205000000003b0114000105000000783b00140002050000010c3b0214000305000001433b0214000405000001b73b01140005050000021a3b02140006050000025f3b0114000705000002763b0114000805000002b23b0314000905000003303b0014000a050000039b3b0214000b05000003c83b0214000c05000003de3b0214000d05000004423b0314000e05000024d83b0314002305000034d33b0314004305000035353b0114004405000035a73b0114004505000035f13b01140046050000361f3b0314004705000036a83b0114004905000041f33b0214004d070000491101014a1200071101020700080d000e000943034911004311010215000a03003811010207000b1611004411010215000c0205000004843b00430014000f02050000054f3b0111000f43011400100d0500000a023c010e002f0500000a923c010e000c1400110d0500000b063c010e002f0500000b7c3c010e000c1400120d0500000be73c010e002f0500000c163c010e000c140013020500000c2f3b0111000f4301140014020500000e353b011100144301140015020500000f9d3b0111000f4301140016050000119c3c031400170d05000012583c010e002f05000013a63c010e000c0700590e00541400180c0000140019030014001a11001a0340274700341101144a12005a1101144a12005b11001a030118430143010600361a03002f11001911001a1611001a03011817001a354945ffc305000014483c0714001b050000147e3c0714001c05000014b43c0714001d05000014e53c0714001e0205000015173b01110015430114001f0205000020fa3b0111000f430114002002050000225c3b0111001443011400210301110021150069030211002115006b04008003201b11002115006104008003201b11002115006d0205000024313b0111000f430114002202050000253e3b0111002243011400240205000025843b01110024430111002415007002050000262f3b0111002443011100241500710d05000026e03c020e007605000027663c010e007714002502050000279a3b0111002143011400260205000029423b0111000f43011400270d05000029c23c010e002f0500002a1b3c010e000c140028020500002aa03b0111000f43011400291101014a12002711000f44000d1100280e0082430211002915004a0d0500002c1d3c040e008414002a020500002ca83b01110029430114002b1101014a12002711002912004a0d11002a0e0085430211002b15004a0c000014002c0c000014002d0c000014002e0c000014002f0c00001400300c00001400310c00001400320c00001400330c00001400340c00001400350c00001400360300140037110037040100274700391100370400802747001011003703012b1100361100371645001111003703012b04011b3111003611003716110037030118170037354945ffbd03001400380300140039030014003a11003a0401002747018511003911003903012b3111003903022b3111003903032b3111003903042b3114003b11003b03082d11003b0400ff2e3103633114003b11003b11002c1100381611003811002d11003b161100361100381314003c11003611003c1314003d11003611003d1314003e11003611003b130401011a11003b05010101001a3114003f11003f03182b11003f03082d2f11002e1100381611003f03102b11003f03102d2f11002f1100381611003f03082b11003f03182d2f1100301100381611003f1100311100381611003e05010101011a11003d05000100011a3111003c0401011a3111003805010101001a3114003f11003f03182b11003f03082d2f11003211003b1611003f03102b11003f03102d2f11003311003b1611003f03082b11003f03182d2f11003411003b1611003f11003511003b161100383247000e030114003911003914003845002e11003c11003611003611003611003e11003c3113131331140038110039110036110036110039131331170039354911003a03011817003a354945fe7103000301030203040308031003200340040080031b03360c000b140040020500002e0e3b01110026430114004104010003201b1100411500611100264a12004f110041430114004202050000365b3b0043001400480205000036ee3b00430014004a0205000041a23b00430014004b031014004c02050000422c3b00430014004e11004e11010207000b16084200bf0a616771346760667d7760175476757671783b7c717864716667343934606d64717b720872617a77607d7b7a06676d79767b78087d60716675607b660b777b7a6760666177607b660964667b607b606d64710e7071727d7a7144667b647166606d0a4b4b7167597b7061787105627578617107707177666d6460077071727561786005647566677109617a7071727d7a717003737160187371605b637a44667b647166606d50716777667d64607b6604777578780678717a73607c05756464786d0e7c75675b637a44667b647166606d32476164716634716c64667167677d7b7a347961676034717d607c7166347671347a617878347b6634753472617a77607d7b7a067766717560710863667d60757678710c777b7a727d7361667576787109777b7a676066617760067b767e717760385071667d62717034777b7a6760666177607b66673479756d347b7a786d3466716061667a347b767e717760347b6634617a7071727d7a717039607c7d67347c75677a3360347671717a347d7a7d607d75787d67717034393467616471663c3d347c75677a3360347671717a347775787871700e67716044667b607b606d64715b720e73716044667b607b606d64715b72094b4b64667b607b4b4b046461677c04767d7a7004677c75790762757861715b722157757a7a7b603477757878347534777875676734756734753472617a77607d7b7a0a717a6179716675767871037f716d05797d6c5d7a067567677d737a0577787b7a71067661727271660a766d60715b72726771600a766d607158717a73607c05637b66706708677d73566d60716708607b4760667d7a73096760667d7a737d726d06777b7a7775600577787579640a20262d202d2223262d210477717d780567787d77710666757a707b790a20262d202d2223262d2203243a21047e7b7d7a00066761766760660c72667b79577c7566577b70710a777c7566577b7071556014597578727b6679717034414052392c34707560750e4b797d7a566172727166477d6e71056671677160054b707560750b4b7a50756075566d607167074b756464717a70066760667d7a73084b64667b777167670976787b777f477d6e710379756c03797d7a0f4b707b44667b7771676756787b777f066764787d777103777273084b707b46716771600661647075607108727d7a75787d6e710b4b707b527d7a75787d6e710d4b7766717560715c7178647166114b7766717560715c7975775c7178647166074b7c75677c7166054b7b5f716d054b7d5f716d044b79756404243a232106777c756655600b4b66716271666771597564077d7a70716c5b7241555657505152535c5d5e5f58595a5b44454647404142434c4d4e757677707172737c7d7e7f78797a7b64656667606162636c6d6e24252627202122232c2d3f3b290375766703677d7a0a202426272627272025230a26212226272c27252426054b7c75677c0a2026232c2621212722240572787b7b66077f716d477d6e71067c75677c71660a7d60716675607d7b7a6707777b79646160710a4b6c727b6679597b7071044b7f716d0764667b777167670f776671756071517a77666d64607b660f4b515a574b4c525b46594b595b50510f776671756071507177666d64607b660f4b5051574b4c525b46594b595b505107717a77666d6460067d62477d6e71074b777d647c7166034b7d6209517a77666d64607b6609507177666d64607b660a4b6466716256787b777f0c64667b7771676756787b777f0c717a77666d646056787b777f0c707177666d646056787b777f0364757005617a64757004797b707107647570707d7a73027d62054b797b7071094b4b77667175607b6605727861677c09727b667975606071660a777d647c716660716c600467757860097578737b667d607c7906727b66797560064b647566677107716c7177616071037f7072084b7a467b617a70670e4b7f716d44667d7b6646716771600c4b7f716d47777c71706178710f4b7d7a625f716d47777c71706178710d4b707b57666d646056787b777f056764787d60012e096761766760667d7a7307717a7750756075067d67427d716306676176607871057571675d420755514739575657047a75797108737160417d7a602c0466777b7a06676176597d6c097d7a62476176597d6c0467567b6c077d7a6247567b6c067f67467b6367097d7a7d60407576787109737160417d7a60272618617d7a602c556666756d407b417d7a602726556666756d4b155d7a6275787d7034757167347f716d34677d6e71290b7f716d47777c71706178710e7d7a625f716d47777c717061787109716c64757a705f716d167a7160637b667f407b5c7b67605b6670716647637564097d79647b66605f716d0366756303677160126671797b6271445f574723447570707d7a730a787b73517a757678717011677b726063756671507177666d646071660a727567605571675f716d0d667179757d7a707166507560750977616666717a605d420d77616666717a60467167617860087b7667716662716606777b7a727d730677666d64607b0c6371767f7d6047617660787111717a75767871477b7260637566715551470770716760667b6d067d67476d7a771164667d627560715f716d507177666d64600f677b726063756671507177666d64601063717657666d64607b507177666d646004607c717a07787b735b7a77710e5e473455514734707177666d64600d7371604275787d70577c617a7f0666717e7177601a6371763477666d64607b347a7b60347d7a7d607d75787d6e717005777560777c107b7a43717657666d64607b5166667b66",{0:Symbol,1:Object,get 2(){return t},3:Reflect,4:TypeError,5:ReferenceError,6:Function,7:Proxy,8:Boolean,9:Array,10:ArrayBuffer,11:Uint8Array,12:Int8Array,13:Uint8ClampedArray,14:Int16Array,15:Uint16Array,16:Int32Array,17:Uint32Array,18:Float32Array,19:Float64Array,20:Math,21:parseInt,22:String,23:decodeURIComponent,get 24(){return escape},25:Error,get 26(){return unescape},27:encodeURIComponent,28:DataView,get 29(){return self},30:Promise},this)},"./node_modules/eventemitter3/index.js":function(e,t,r){"use strict";var i=Object.prototype.hasOwnProperty,n="~";function a(){}function o(e,t,r){this.fn=e,this.context=t,this.once=r||!1}function s(e,t,r,i,a){if("function"!=typeof r)throw new TypeError("The listener must be a function");var s=new o(r,i||e,a),l=n?n+t:t;return e._events[l]?e._events[l].fn?e._events[l]=[e._events[l],s]:e._events[l].push(s):(e._events[l]=s,e._eventsCount++),e}function l(e,t){0==--e._eventsCount?e._events=new a:delete e._events[t]}function u(){this._events=new a,this._eventsCount=0}Object.create&&(a.prototype=Object.create(null),(new a).__proto__||(n=!1)),u.prototype.eventNames=function(){var e,t,r=[];if(0===this._eventsCount)return r;for(t in e=this._events)i.call(e,t)&&r.push(n?t.slice(1):t);return Object.getOwnPropertySymbols?r.concat(Object.getOwnPropertySymbols(e)):r},u.prototype.listeners=function(e){var t=n?n+e:e,r=this._events[t];if(!r)return[];if(r.fn)return[r.fn];for(var i=0,a=r.length,o=new Array(a);i<a;i++)o[i]=r[i].fn;return o},u.prototype.listenerCount=function(e){var t=n?n+e:e,r=this._events[t];return r?r.fn?1:r.length:0},u.prototype.emit=function(e,t,r,i,a,o){var s=n?n+e:e;if(!this._events[s])return!1;var l,u,c=this._events[s],f=arguments.length;if(c.fn){switch(c.once&&this.removeListener(e,c.fn,void 0,!0),f){case 1:return c.fn.call(c.context),!0;case 2:return c.fn.call(c.context,t),!0;case 3:return c.fn.call(c.context,t,r),!0;case 4:return c.fn.call(c.context,t,r,i),!0;case 5:return c.fn.call(c.context,t,r,i,a),!0;case 6:return c.fn.call(c.context,t,r,i,a,o),!0}for(u=1,l=new Array(f-1);u<f;u++)l[u-1]=arguments[u];c.fn.apply(c.context,l)}else{var d,h=c.length;for(u=0;u<h;u++)switch(c[u].once&&this.removeListener(e,c[u].fn,void 0,!0),f){case 1:c[u].fn.call(c[u].context);break;case 2:c[u].fn.call(c[u].context,t);break;case 3:c[u].fn.call(c[u].context,t,r);break;case 4:c[u].fn.call(c[u].context,t,r,i);break;default:if(!l)for(d=1,l=new Array(f-1);d<f;d++)l[d-1]=arguments[d];c[u].fn.apply(c[u].context,l)}}return!0},u.prototype.on=function(e,t,r){return s(this,e,t,r,!1)},u.prototype.once=function(e,t,r){return s(this,e,t,r,!0)},u.prototype.removeListener=function(e,t,r,i){var a=n?n+e:e;if(!this._events[a])return this;if(!t)return l(this,a),this;var o=this._events[a];if(o.fn)o.fn!==t||i&&!o.once||r&&o.context!==r||l(this,a);else{for(var s=0,u=[],c=o.length;s<c;s++)(o[s].fn!==t||i&&!o[s].once||r&&o[s].context!==r)&&u.push(o[s]);u.length?this._events[a]=1===u.length?u[0]:u:l(this,a)}return this},u.prototype.removeAllListeners=function(e){var t;return e?(t=n?n+e:e,this._events[t]&&l(this,t)):(this._events=new a,this._eventsCount=0),this},u.prototype.off=u.prototype.removeListener,u.prototype.addListener=u.prototype.on,u.prefixed=n,u.EventEmitter=u,e.exports=u},"./node_modules/url-toolkit/src/url-toolkit.js":function(e,t,r){var i,n,a,o,s;i=/^(?=((?:[a-zA-Z0-9+\-.]+:)?))\1(?=((?:\/\/[^\/?#]*)?))\2(?=((?:(?:[^?#\/]*\/)*[^;?#\/]*)?))\3((?:;[^?#]*)?)(\?[^#]*)?(#[^]*)?$/,n=/^(?=([^\/?#]*))\1([^]*)$/,a=/(?:\/|^)\.(?=\/)/g,o=/(?:\/|^)\.\.\/(?!\.\.\/)[^\/]*(?=\/)/g,s={buildAbsoluteURL:function(e,t,r){if(r=r||{},e=e.trim(),!(t=t.trim())){if(!r.alwaysNormalize)return e;var i=s.parseURL(e);if(!i)throw new Error("Error trying to parse base URL.");return i.path=s.normalizePath(i.path),s.buildURLFromParts(i)}var a=s.parseURL(t);if(!a)throw new Error("Error trying to parse relative URL.");if(a.scheme)return r.alwaysNormalize?(a.path=s.normalizePath(a.path),s.buildURLFromParts(a)):t;var o=s.parseURL(e);if(!o)throw new Error("Error trying to parse base URL.");if(!o.netLoc&&o.path&&"/"!==o.path[0]){var l=n.exec(o.path);o.netLoc=l[1],o.path=l[2]}o.netLoc&&!o.path&&(o.path="/");var u={scheme:o.scheme,netLoc:a.netLoc,path:null,params:a.params,query:a.query,fragment:a.fragment};if(!a.netLoc&&(u.netLoc=o.netLoc,"/"!==a.path[0]))if(a.path){var c=o.path,f=c.substring(0,c.lastIndexOf("/")+1)+a.path;u.path=s.normalizePath(f)}else u.path=o.path,a.params||(u.params=o.params,a.query||(u.query=o.query));return null===u.path&&(u.path=r.alwaysNormalize?s.normalizePath(a.path):a.path),s.buildURLFromParts(u)},parseURL:function(e){var t=i.exec(e);return t?{scheme:t[1]||"",netLoc:t[2]||"",path:t[3]||"",params:t[4]||"",query:t[5]||"",fragment:t[6]||""}:null},normalizePath:function(e){for(e=e.split("").reverse().join("").replace(a,"");e.length!==(e=e.replace(o,"")).length;);return e.split("").reverse().join("")},buildURLFromParts:function(e){return e.scheme+e.netLoc+e.path+e.params+e.query+e.fragment}},e.exports=s},"./node_modules/webworkify-webpack/index.js":function(e,t,r){function i(e){var t={};function r(i){if(t[i])return t[i].exports;var n=t[i]={i,l:!1,exports:{}};return e[i].call(n.exports,n,n.exports,r),n.l=!0,n.exports}r.m=e,r.c=t,r.i=function(e){return e},r.d=function(e,t,i){r.o(e,t)||Object.defineProperty(e,t,{configurable:!1,enumerable:!0,get:i})},r.r=function(e){Object.defineProperty(e,"__esModule",{value:!0})},r.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return r.d(t,"a",t),t},r.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},r.p="/",r.oe=function(e){throw console.error(e),e};var i=r(r.s=ENTRY_MODULE);return i.default||i}function n(e){return(e+"").replace(/[.?*+^$[\]\\(){}|-]/g,"\\$&")}function a(e,t,i){var a={};a[i]=[];var o=t.toString(),s=o.match(/^function\s?\w*\(\w+,\s*\w+,\s*(\w+)\)/);if(!s)return a;for(var l,u=s[1],c=new RegExp("(\\\\n|\\W)"+n(u)+"\\(\\s*(/\\*.*?\\*/)?\\s*.*?([\\.|\\-|\\+|\\w|/|@]+).*?\\)","g");l=c.exec(o);)"dll-reference"!==l[3]&&a[i].push(l[3]);for(c=new RegExp("\\("+n(u)+'\\("(dll-reference\\s([\\.|\\-|\\+|\\w|/|@]+))"\\)\\)\\(\\s*(/\\*.*?\\*/)?\\s*.*?([\\.|\\-|\\+|\\w|/|@]+).*?\\)',"g");l=c.exec(o);)e[l[2]]||(a[i].push(l[1]),e[l[2]]=r(l[1]).m),a[l[2]]=a[l[2]]||[],a[l[2]].push(l[4]);for(var f,d=Object.keys(a),h=0;h<d.length;h++)for(var p=0;p<a[d[h]].length;p++)f=a[d[h]][p],isNaN(1*f)||(a[d[h]][p]=1*a[d[h]][p]);return a}function o(e){return Object.keys(e).reduce((function(t,r){return t||e[r].length>0}),!1)}e.exports=function(e,t){t=t||{};var n={main:r.m},s=t.all?{main:Object.keys(n.main)}:function(e,t){for(var r={main:[t]},i={main:[]},n={main:{}};o(r);)for(var s=Object.keys(r),l=0;l<s.length;l++){var u=s[l],c=r[u].pop();if(n[u]=n[u]||{},!n[u][c]&&e[u][c]){n[u][c]=!0,i[u]=i[u]||[],i[u].push(c);for(var f=a(e,e[u][c],u),d=Object.keys(f),h=0;h<d.length;h++)r[d[h]]=r[d[h]]||[],r[d[h]]=r[d[h]].concat(f[d[h]])}}return i}(n,e),l="";Object.keys(s).filter((function(e){return"main"!==e})).forEach((function(e){for(var t=0;s[e][t];)t++;s[e].push(t),n[e][t]="(function(module, exports, __webpack_require__) { module.exports = __webpack_require__; })",l=l+"var "+e+" = ("+i.toString().replace("ENTRY_MODULE",JSON.stringify(t))+")({"+s[e].map((function(t){return JSON.stringify(t)+": "+n[e][t].toString()})).join(",")+"});\n"})),l=l+"new (("+i.toString().replace("ENTRY_MODULE",JSON.stringify(e))+")({"+s.main.map((function(e){return JSON.stringify(e)+": "+n.main[e].toString()})).join(",")+"}))(self);";var u=new window.Blob([l],{type:"text/javascript"});if(t.bare)return u;var c=(window.URL||window.webkitURL||window.mozURL||window.msURL).createObjectURL(u),f=new window.Worker(c);return f.objectURL=c,f}},"./repo/src/config.ts":function(e,t,r){"use strict";r.r(t),r.d(t,"hlsDefaultConfig",(function(){return g})),r.d(t,"mergeConfig",(function(){return y})),r.d(t,"enableStreamingMode",(function(){return b}));var i=r("./repo/src/controller/abr-controller.ts"),n=r("./repo/src/empty.js"),a=r.n(n),o=r("./repo/src/controller/buffer-controller.ts"),s=r("./repo/src/controller/cap-level-controller.ts"),l=r("./repo/src/controller/fps-controller.ts"),u=r("./repo/src/utils/xhr-loader.ts"),c=r("./repo/src/utils/fetch-loader.ts"),f=r("./repo/src/utils/mediakeys-helper.ts"),d=r("./repo/src/utils/logger.ts");function h(){return(h=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var i in r)Object.prototype.hasOwnProperty.call(r,i)&&(e[i]=r[i])}return e}).apply(this,arguments)}function p(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,i)}return r}function v(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?p(Object(r),!0).forEach((function(t){m(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):p(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function m(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}var g=v(v({autoStartLoad:!0,startPosition:-1,defaultAudioCodec:void 0,debug:!1,capLevelOnFPSDrop:!1,capLevelToPlayerSize:!1,ignoreDevicePixelRatio:!1,initialLiveManifestSize:1,maxBufferLength:30,backBufferLength:1/0,maxBufferSize:6e7,maxBufferHole:.1,highBufferWatchdogPeriod:2,nudgeOffset:.1,nudgeMaxRetry:3,maxFragLookUpTolerance:.25,liveSyncDurationCount:3,liveMaxLatencyDurationCount:1/0,liveSyncDuration:void 0,liveMaxLatencyDuration:void 0,maxLiveSyncPlaybackRate:1,liveDurationInfinity:!1,liveBackBufferLength:null,maxMaxBufferLength:600,enableWorker:!0,enableSoftwareAES:!0,manifestLoadingTimeOut:1e4,manifestLoadingMaxRetry:1,manifestLoadingRetryDelay:1e3,manifestLoadingMaxRetryTimeout:64e3,startLevel:void 0,levelLoadingTimeOut:1e4,levelLoadingMaxRetry:4,levelLoadingRetryDelay:1e3,levelLoadingMaxRetryTimeout:64e3,fragLoadingTimeOut:2e4,fragLoadingMaxRetry:6,fragLoadingRetryDelay:1e3,fragLoadingMaxRetryTimeout:64e3,startFragPrefetch:!1,fpsDroppedMonitoringPeriod:5e3,fpsDroppedMonitoringThreshold:.2,appendErrorMaxRetry:3,loader:u.default,fLoader:void 0,pLoader:void 0,xhrSetup:void 0,licenseXhrSetup:void 0,licenseResponseCallback:void 0,abrController:i.default,bufferController:o.default,capLevelController:s.default,fpsController:l.default,stretchShortVideoTrack:!1,maxAudioFramesDrift:1,forceKeyFrameOnDiscontinuity:!0,abrEwmaFastLive:3,abrEwmaSlowLive:9,abrEwmaFastVoD:3,abrEwmaSlowVoD:9,abrEwmaDefaultEstimate:5e5,abrBandWidthFactor:.95,abrBandWidthUpFactor:.7,abrMaxWithRealBitrate:!1,maxStarvationDelay:4,maxLoadingDelay:4,minAutoBitrate:0,emeEnabled:!1,widevineLicenseUrl:void 0,drmSystemOptions:{},requestMediaKeySystemAccessFunc:f.requestMediaKeySystemAccess,testBandwidth:!0,progressive:!1,lowLatencyMode:!0,cmcd:void 0},{cueHandler:a.a,enableCEA708Captions:!1,enableWebVTT:!1,enableIMSC1:!1,captionsTextTrack1Label:"English",captionsTextTrack1LanguageCode:"en",captionsTextTrack2Label:"Spanish",captionsTextTrack2LanguageCode:"es",captionsTextTrack3Label:"Unknown CC",captionsTextTrack3LanguageCode:"",captionsTextTrack4Label:"Unknown CC",captionsTextTrack4LanguageCode:"",renderTextTracksNatively:!0}),{},{subtitleStreamController:void 0,subtitleTrackController:void 0,timelineController:void 0,audioStreamController:void 0,audioTrackController:void 0,emeController:void 0,cmcdController:void 0});function y(e,t){if((t.liveSyncDurationCount||t.liveMaxLatencyDurationCount)&&(t.liveSyncDuration||t.liveMaxLatencyDuration))throw new Error("Illegal hls.js config: don't mix up liveSyncDurationCount/liveMaxLatencyDurationCount and liveSyncDuration/liveMaxLatencyDuration");if(void 0!==t.liveMaxLatencyDurationCount&&(void 0===t.liveSyncDurationCount||t.liveMaxLatencyDurationCount<=t.liveSyncDurationCount))throw new Error('Illegal hls.js config: "liveMaxLatencyDurationCount" must be greater than "liveSyncDurationCount"');if(void 0!==t.liveMaxLatencyDuration&&(void 0===t.liveSyncDuration||t.liveMaxLatencyDuration<=t.liveSyncDuration))throw new Error('Illegal hls.js config: "liveMaxLatencyDuration" must be greater than "liveSyncDuration"');return h({},e,t)}function b(e){var t=e.loader;t!==c.default&&t!==u.default?(d.logger.log("[config]: Custom loader detected, cannot enable progressive streaming"),e.progressive=!1):Object(c.fetchSupported)()&&(e.loader=c.default,e.progressive=!0,e.enableSoftwareAES=!0,d.logger.log("[config]: Progressive streaming enabled, using FetchLoader"))}},"./repo/src/controller/abr-controller.ts":function(e,t,r){"use strict";r.r(t);var i=r("./repo/src/polyfills/number.ts"),n=r("./repo/src/utils/ewma-bandwidth-estimator.ts"),a=r("./repo/src/events.ts"),o=r("./repo/src/utils/buffer-helper.ts"),s=r("./repo/src/errors.ts"),l=r("./repo/src/types/loader.ts"),u=r("./repo/src/utils/logger.ts");function c(e,t){for(var r=0;r<t.length;r++){var i=t[r];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}var f=function(){function e(e){this.hls=void 0,this.lastLoadedFragLevel=0,this._nextAutoLevel=-1,this.timer=void 0,this.onCheck=this._abandonRulesCheck.bind(this),this.fragCurrent=null,this.partCurrent=null,this.bitrateTestDelay=0,this.bwEstimator=void 0,this.hls=e;var t=e.config;this.bwEstimator=new n.default(t.abrEwmaSlowVoD,t.abrEwmaFastVoD,t.abrEwmaDefaultEstimate),this.registerListeners()}var t,r,f=e.prototype;return f.registerListeners=function(){var e=this.hls;e.on(a.Events.FRAG_LOADING,this.onFragLoading,this),e.on(a.Events.FRAG_LOADED,this.onFragLoaded,this),e.on(a.Events.FRAG_BUFFERED,this.onFragBuffered,this),e.on(a.Events.LEVEL_LOADED,this.onLevelLoaded,this),e.on(a.Events.ERROR,this.onError,this)},f.unregisterListeners=function(){var e=this.hls;e.off(a.Events.FRAG_LOADING,this.onFragLoading,this),e.off(a.Events.FRAG_LOADED,this.onFragLoaded,this),e.off(a.Events.FRAG_BUFFERED,this.onFragBuffered,this),e.off(a.Events.LEVEL_LOADED,this.onLevelLoaded,this),e.off(a.Events.ERROR,this.onError,this)},f.destroy=function(){this.unregisterListeners(),this.clearTimer(),this.hls=this.onCheck=null,this.fragCurrent=this.partCurrent=null},f.onFragLoading=function(e,t){var r,i=t.frag;i.type===l.PlaylistLevelType.MAIN&&(this.timer||(this.fragCurrent=i,this.partCurrent=null!=(r=t.part)?r:null,this.timer=self.setInterval(this.onCheck,100)))},f.onLevelLoaded=function(e,t){var r=this.hls.config;t.details.live?this.bwEstimator.update(r.abrEwmaSlowLive,r.abrEwmaFastLive):this.bwEstimator.update(r.abrEwmaSlowVoD,r.abrEwmaFastVoD)},f._abandonRulesCheck=function(){var e=this.fragCurrent,t=this.partCurrent,r=this.hls,n=r.autoLevelEnabled,s=r.config,l=r.media;if(e&&l){var c=t?t.stats:e.stats,f=t?t.duration:e.duration;if(c.aborted)return u.logger.warn("frag loader destroy or aborted, disarm abandonRules"),this.clearTimer(),void(this._nextAutoLevel=-1);if(n&&!l.paused&&l.playbackRate&&l.readyState){var d=performance.now()-c.loading.start,h=Math.abs(l.playbackRate);if(!(d<=500*f/h)){var p=r.levels,v=r.minAutoLevel,m=p[e.level],g=c.total||Math.max(c.loaded,Math.round(f*m.maxBitrate/8)),y=Math.max(1,c.bwEstimate?c.bwEstimate/8:1e3*c.loaded/d),b=(g-c.loaded)/y,E=l.currentTime,C=(o.BufferHelper.bufferInfo(l,E,s.maxBufferHole).end-E)/h;if(!(C>=2*f/h||b<=C)){var S,w=Number.POSITIVE_INFINITY;for(S=e.level-1;S>v&&!((w=f*p[S].maxBitrate/(6.4*y))<C);S--);if(!(w>=b)){var T=this.bwEstimator.getEstimate();u.logger.warn("Fragment "+e.sn+(t?" part "+t.index:"")+" of level "+e.level+" is loading too slowly and will cause an underbuffer; aborting and switching to level "+S+"\n      Current BW estimate: "+(Object(i.isFiniteNumber)(T)?(T/1024).toFixed(3):"Unknown")+" Kb/s\n      Estimated load time for current fragment: "+b.toFixed(3)+" s\n      Estimated load time for the next fragment: "+w.toFixed(3)+" s\n      Time to underbuffer: "+C.toFixed(3)+" s"),r.nextLoadLevel=S,this.bwEstimator.sample(d,c.loaded),this.clearTimer(),e.loader&&(this.fragCurrent=this.partCurrent=null,e.loader.abort()),r.trigger(a.Events.FRAG_LOAD_EMERGENCY_ABORTED,{frag:e,part:t,stats:c})}}}}}},f.onFragLoaded=function(e,t){var r=t.frag,n=t.part;if(r.type===l.PlaylistLevelType.MAIN&&Object(i.isFiniteNumber)(r.sn)){var o=n?n.stats:r.stats,s=n?n.duration:r.duration;if(this.clearTimer(),this.lastLoadedFragLevel=r.level,this._nextAutoLevel=-1,this.hls.config.abrMaxWithRealBitrate){var u=this.hls.levels[r.level],c=(u.loaded?u.loaded.bytes:0)+o.loaded,f=(u.loaded?u.loaded.duration:0)+s;u.loaded={bytes:c,duration:f},u.realBitrate=Math.round(8*c/f)}if(r.bitrateTest){var d={stats:o,frag:r,part:n,id:r.type};this.onFragBuffered(a.Events.FRAG_BUFFERED,d),r.bitrateTest=!1}}},f.onFragBuffered=function(e,t){var r=t.frag,i=t.part,n=i?i.stats:r.stats;if(!n.aborted&&r.type===l.PlaylistLevelType.MAIN&&"initSegment"!==r.sn){var a=n.parsing.end-n.loading.start;this.bwEstimator.sample(a,n.loaded),n.bwEstimate=this.bwEstimator.getEstimate(),r.bitrateTest?this.bitrateTestDelay=a/1e3:this.bitrateTestDelay=0}},f.onError=function(e,t){switch(t.details){case s.ErrorDetails.FRAG_LOAD_ERROR:case s.ErrorDetails.FRAG_LOAD_TIMEOUT:this.clearTimer()}},f.clearTimer=function(){self.clearInterval(this.timer),this.timer=void 0},f.getNextABRAutoLevel=function(){var e=this.fragCurrent,t=this.partCurrent,r=this.hls,i=r.maxAutoLevel,n=r.config,a=r.minAutoLevel,s=r.media,l=t?t.duration:e?e.duration:0,c=s?s.currentTime:0,f=s&&0!==s.playbackRate?Math.abs(s.playbackRate):1,d=this.bwEstimator?this.bwEstimator.getEstimate():n.abrEwmaDefaultEstimate,h=(o.BufferHelper.bufferInfo(s,c,n.maxBufferHole).end-c)/f,p=this.findBestLevel(d,a,i,h,n.abrBandWidthFactor,n.abrBandWidthUpFactor);if(p>=0)return p;u.logger.trace((h?"rebuffering expected":"buffer is empty")+", finding optimal quality level");var v=l?Math.min(l,n.maxStarvationDelay):n.maxStarvationDelay,m=n.abrBandWidthFactor,g=n.abrBandWidthUpFactor;if(!h){var y=this.bitrateTestDelay;y&&(v=(l?Math.min(l,n.maxLoadingDelay):n.maxLoadingDelay)-y,u.logger.trace("bitrate test took "+Math.round(1e3*y)+"ms, set first fragment max fetchDuration to "+Math.round(1e3*v)+" ms"),m=g=1)}return p=this.findBestLevel(d,a,i,h+v,m,g),Math.max(p,0)},f.findBestLevel=function(e,t,r,i,n,a){for(var o,s=this.fragCurrent,l=this.partCurrent,c=this.lastLoadedFragLevel,f=this.hls.levels,d=f[c],h=!(null==d||null===(o=d.details)||void 0===o||!o.live),p=null==d?void 0:d.codecSet,v=l?l.duration:s?s.duration:0,m=r;m>=t;m--){var g=f[m];if(g&&(!p||g.codecSet===p)){var y,b=g.details,E=(l?null==b?void 0:b.partTarget:null==b?void 0:b.averagetargetduration)||v;y=m<=c?n*e:a*e;var C=f[m].maxBitrate,S=C*E/y;if(u.logger.trace("level/adjustedbw/bitrate/avgDuration/maxFetchDuration/fetchDuration: "+m+"/"+Math.round(y)+"/"+C+"/"+E+"/"+i+"/"+S),y>C&&(!S||h&&!this.bitrateTestDelay||S<i))return m}}return-1},t=e,(r=[{key:"nextAutoLevel",get:function(){var e=this._nextAutoLevel,t=this.bwEstimator;if(!(-1===e||t&&t.canEstimate()))return e;var r=this.getNextABRAutoLevel();return-1!==e&&(r=Math.min(e,r)),r},set:function(e){this._nextAutoLevel=e}}])&&c(t.prototype,r),Object.defineProperty(t,"prototype",{writable:!1}),e}();t.default=f},"./repo/src/controller/base-playlist-controller.ts":function(e,t,r){"use strict";r.r(t),r.d(t,"default",(function(){return l}));var i=r("./repo/src/polyfills/number.ts"),n=r("./repo/src/types/level.ts"),a=r("./repo/src/controller/level-helper.ts"),o=r("./repo/src/utils/logger.ts"),s=r("./repo/src/errors.ts"),l=function(){function e(e,t){this.hls=void 0,this.timer=-1,this.canLoad=!1,this.retryCount=0,this.log=void 0,this.warn=void 0,this.log=o.logger.log.bind(o.logger,t+":"),this.warn=o.logger.warn.bind(o.logger,t+":"),this.hls=e}var t=e.prototype;return t.destroy=function(){this.clearTimer(),this.hls=this.log=this.warn=null},t.onError=function(e,t){t.fatal&&t.type===s.ErrorTypes.NETWORK_ERROR&&this.clearTimer()},t.clearTimer=function(){clearTimeout(this.timer),this.timer=-1},t.startLoad=function(){this.canLoad=!0,this.retryCount=0,this.loadPlaylist()},t.stopLoad=function(){this.canLoad=!1,this.clearTimer()},t.switchParams=function(e,t){var r=null==t?void 0:t.renditionReports;if(r)for(var a=0;a<r.length;a++){var o=r[a],s=""+o.URI;if(s===e.substr(-s.length)){var l=parseInt(o["LAST-MSN"]),u=parseInt(o["LAST-PART"]);if(t&&this.hls.config.lowLatencyMode){var c=Math.min(t.age-t.partTarget,t.targetduration);void 0!==u&&c>t.partTarget&&(u+=1)}if(Object(i.isFiniteNumber)(l))return new n.HlsUrlParameters(l,Object(i.isFiniteNumber)(u)?u:void 0,n.HlsSkip.No)}}},t.loadPlaylist=function(e){},t.shouldLoadTrack=function(e){return this.canLoad&&e&&!!e.url&&(!e.details||e.details.live)},t.playlistLoaded=function(e,t,r){var i=this,n=t.details,o=t.stats,s=o.loading.end?Math.max(0,self.performance.now()-o.loading.end):0;if(n.advancedDateTime=Date.now()-s,n.live||null!=r&&r.live){if(n.reloaded(r),r&&this.log("live playlist "+e+" "+(n.advanced?"REFRESHED "+n.lastPartSn+"-"+n.lastPartIndex:"MISSED")),r&&n.fragments.length>0&&Object(a.mergeDetails)(r,n),!this.canLoad||!n.live)return;var l,u=void 0,c=void 0;if(n.canBlockReload&&n.endSN&&n.advanced){var f=this.hls.config.lowLatencyMode,d=n.lastPartSn,h=n.endSN,p=n.lastPartIndex,v=d===h;-1!==p?(u=v?h+1:d,c=v?f?0:p:p+1):u=h+1;var m=n.age,g=m+n.ageHeader,y=Math.min(g-n.partTarget,1.5*n.targetduration);if(y>0){if(r&&y>r.tuneInGoal)this.warn("CDN Tune-in goal increased from: "+r.tuneInGoal+" to: "+y+" with playlist age: "+n.age),y=0;else{var b=Math.floor(y/n.targetduration);u+=b,void 0!==c&&(c+=Math.round(y%n.targetduration/n.partTarget)),this.log("CDN Tune-in age: "+n.ageHeader+"s last advanced "+m.toFixed(2)+"s goal: "+y+" skip sn "+b+" to part "+c)}n.tuneInGoal=y}if(l=this.getDeliveryDirectives(n,t.deliveryDirectives,u,c),f||!v)return void this.loadPlaylist(l)}else l=this.getDeliveryDirectives(n,t.deliveryDirectives,u,c);var E=Object(a.computeReloadInterval)(n,o);void 0!==u&&n.canBlockReload&&(E-=n.partTarget||1),this.log("reload live playlist "+e+" in "+Math.round(E)+" ms"),this.timer=self.setTimeout((function(){return i.loadPlaylist(l)}),E)}else this.clearTimer()},t.getDeliveryDirectives=function(e,t,r,i){var a=Object(n.getSkipValue)(e,r);return null!=t&&t.skip&&e.deltaUpdateFailed&&(r=t.msn,i=t.part,a=n.HlsSkip.No),new n.HlsUrlParameters(r,i,a)},t.retryLoadingOrFail=function(e){var t,r=this,i=this.hls.config,n=this.retryCount<i.levelLoadingMaxRetry;if(n)if(this.retryCount++,e.details.indexOf("LoadTimeOut")>-1&&null!==(t=e.context)&&void 0!==t&&t.deliveryDirectives)this.warn("retry playlist loading #"+this.retryCount+' after "'+e.details+'"'),this.loadPlaylist();else{var a=Math.min(Math.pow(2,this.retryCount)*i.levelLoadingRetryDelay,i.levelLoadingMaxRetryTimeout);this.timer=self.setTimeout((function(){return r.loadPlaylist()}),a),this.warn("retry playlist loading #"+this.retryCount+" in "+a+' ms after "'+e.details+'"')}else this.warn('cannot recover from error "'+e.details+'"'),this.clearTimer(),e.fatal=!0;return n},e}()},"./repo/src/controller/base-stream-controller.ts":function(e,t,r){"use strict";r.r(t),r.d(t,"State",(function(){return S})),r.d(t,"default",(function(){return w}));var i=r("./repo/src/polyfills/number.ts"),n=r("./repo/src/task-loop.ts"),a=r("./repo/src/controller/fragment-tracker.ts"),o=r("./repo/src/utils/buffer-helper.ts"),s=r("./repo/src/utils/logger.ts"),l=r("./repo/src/events.ts"),u=r("./repo/src/errors.ts"),c=r("./repo/src/types/transmuxer.ts"),f=r("./repo/src/utils/mp4-tools.ts"),d=r("./repo/src/utils/discontinuities.ts"),h=r("./repo/src/controller/fragment-finders.ts"),p=r("./repo/src/controller/level-helper.ts"),v=r("./repo/src/loader/fragment-loader.ts"),m=r("../crypt/dist/jsvmp.js"),g=r.n(m),y=r("./repo/src/utils/time-ranges.ts"),b=r("./repo/src/types/loader.ts");function E(e,t){for(var r=0;r<t.length;r++){var i=t[r];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}function C(e,t){return(C=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}var S={STOPPED:"STOPPED",IDLE:"IDLE",KEY_LOADING:"KEY_LOADING",FRAG_LOADING:"FRAG_LOADING",FRAG_LOADING_WAITING_RETRY:"FRAG_LOADING_WAITING_RETRY",WAITING_TRACK:"WAITING_TRACK",PARSING:"PARSING",PARSED:"PARSED",BACKTRACKING:"BACKTRACKING",ENDED:"ENDED",ERROR:"ERROR",WAITING_INIT_PTS:"WAITING_INIT_PTS",WAITING_LEVEL:"WAITING_LEVEL"},w=function(e){var t,r;function n(t,r,i){var n;return(n=e.call(this)||this).hls=void 0,n.fragPrevious=null,n.fragCurrent=null,n.fragmentTracker=void 0,n.transmuxer=null,n._state=S.STOPPED,n.media=void 0,n.mediaBuffer=void 0,n.config=void 0,n.bitrateTest=!1,n.lastCurrentTime=0,n.nextLoadPosition=0,n.startPosition=0,n.loadedmetadata=!1,n.fragLoadError=0,n.retryDate=0,n.levels=null,n.fragmentLoader=void 0,n.levelLastLoaded=null,n.startFragRequested=!1,n.decrypter=void 0,n.initPTS=[],n.onvseeking=null,n.onvended=null,n.logPrefix="",n.log=void 0,n.warn=void 0,n.logPrefix=i,n.log=s.logger.log.bind(s.logger,i+":"),n.warn=s.logger.warn.bind(s.logger,i+":"),n.hls=t,n.fragmentLoader=new v.default(t.config),n.fragmentTracker=r,n.config=t.config,n.decrypter=new g.a(t,t.config),t.on(l.Events.KEY_LOADED,n.onKeyLoaded,function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(n)),n}r=e,(t=n).prototype=Object.create(r.prototype),t.prototype.constructor=t,C(t,r);var m,w,T=n.prototype;return T.doTick=function(){this.onTickEnd()},T.onTickEnd=function(){},T.startLoad=function(e){},T.stopLoad=function(){this.fragmentLoader.abort();var e=this.fragCurrent;e&&this.fragmentTracker.removeFragment(e),this.resetTransmuxer(),this.fragCurrent=null,this.fragPrevious=null,this.clearInterval(),this.clearNextTick(),this.state=S.STOPPED},T._streamEnded=function(e,t){var r=this.fragCurrent,i=this.fragmentTracker;if(!t.live&&r&&r.sn>=t.endSN&&!e.nextStart){var n=t.partList;if(null!=n&&n.length){var s=n[n.length-1];return o.BufferHelper.isBuffered(this.media,s.start+s.duration/2)}var l=i.getState(r);return l===a.FragmentState.PARTIAL||l===a.FragmentState.OK}return!1},T.onMediaAttached=function(e,t){var r=this.media=this.mediaBuffer=t.media;this.onvseeking=this.onMediaSeeking.bind(this),this.onvended=this.onMediaEnded.bind(this),r.addEventListener("seeking",this.onvseeking),r.addEventListener("ended",this.onvended);var i=this.config;this.levels&&i.autoStartLoad&&this.state===S.STOPPED&&this.startLoad(i.startPosition)},T.onMediaDetaching=function(){var e=this.media;null!=e&&e.ended&&(this.log("MSE detaching and video ended, reset startPosition"),this.startPosition=this.lastCurrentTime=0),e&&(e.removeEventListener("seeking",this.onvseeking),e.removeEventListener("ended",this.onvended),this.onvseeking=this.onvended=null),this.media=this.mediaBuffer=null,this.loadedmetadata=!1,this.fragmentTracker.removeAllFragments(),this.stopLoad()},T.onMediaSeeking=function(){var e=this.config,t=this.fragCurrent,r=this.media,n=this.mediaBuffer,a=this.state,s=r?r.currentTime:0,l=o.BufferHelper.bufferInfo(n||r,s,e.maxBufferHole);if(this.log("media seeking to "+(Object(i.isFiniteNumber)(s)?s.toFixed(3):s)+", state: "+a),a===S.ENDED)this.resetLoadingState();else if(t&&!l.len){var u=e.maxFragLookUpTolerance,c=t.start-u,f=s>t.start+t.duration+u;(s<c||f)&&(f&&t.loader&&(this.log("seeking outside of buffer while fragment load in progress, cancel fragment load"),t.loader.abort()),this.resetLoadingState())}r&&(this.lastCurrentTime=s),this.loadedmetadata||l.len||(this.nextLoadPosition=this.startPosition=s),this.tickImmediate()},T.onMediaEnded=function(){this.startPosition=this.lastCurrentTime=0},T.onKeyLoaded=function(e,t){if(this.state===S.KEY_LOADING&&t.frag===this.fragCurrent&&this.levels){this.state=S.IDLE;var r=this.levels[t.frag.level].details;r&&this.loadFragment(t.frag,r,t.frag.start)}},T.onHandlerDestroying=function(){this.stopLoad(),e.prototype.onHandlerDestroying.call(this)},T.onHandlerDestroyed=function(){this.state=S.STOPPED,this.hls.off(l.Events.KEY_LOADED,this.onKeyLoaded,this),this.fragmentLoader&&this.fragmentLoader.destroy(),this.decrypter&&this.decrypter.destroy(),this.hls=this.log=this.warn=this.decrypter=this.fragmentLoader=this.fragmentTracker=null,e.prototype.onHandlerDestroyed.call(this)},T.loadKey=function(e,t){this.log("Loading key for "+e.sn+" of ["+t.startSN+"-"+t.endSN+"], "+("[stream-controller]"===this.logPrefix?"level":"track")+" "+e.level),this.state=S.KEY_LOADING,this.fragCurrent=e,this.hls.trigger(l.Events.KEY_LOADING,{frag:e})},T.loadFragment=function(e,t,r){this._loadFragForPlayback(e,t,r)},T._loadFragForPlayback=function(e,t,r){var i=this;this._doFragLoad(e,t,r,(function(t){if(i.fragContextChanged(e))return i.warn("Fragment "+e.sn+(t.part?" p: "+t.part.index:"")+" of level "+e.level+" was dropped during download."),void i.fragmentTracker.removeFragment(e);e.stats.chunkCount++,i._handleFragmentLoadProgress(t)})).then((function(t){if(t){i.fragLoadError=0;var r=i.state;if(!i.fragContextChanged(e))return"payload"in t&&(i.log("Loaded fragment "+e.sn+" of level "+e.level),i.hls.trigger(l.Events.FRAG_LOADED,t),i.state===S.BACKTRACKING)?(i.fragmentTracker.backtrack(e,t),void i.resetFragmentLoading(e)):void i._handleFragmentLoadComplete(t);(r===S.FRAG_LOADING||r===S.BACKTRACKING||!i.fragCurrent&&r===S.PARSING)&&(i.fragmentTracker.removeFragment(e),i.state=S.IDLE)}})).catch((function(t){i.warn(t),i.resetFragmentLoading(e)}))},T.flushMainBuffer=function(e,t,r){if(void 0===r&&(r=null),e-t){var i={startOffset:e,endOffset:t,type:r};this.fragLoadError=0,this.hls.trigger(l.Events.BUFFER_FLUSHING,i)}},T._loadInitSegment=function(e){var t=this;this._doFragLoad(e).then((function(r){if(!r||t.fragContextChanged(e)||!t.levels)throw new Error("init load aborted");return r})).then((function(r){var i=t.hls,n=r.payload,a=e.decryptdata;if(n&&n.byteLength>0&&a&&a.key&&a.iv&&"AES-128"===a.method){var o=self.performance.now();return t.decrypter.webCryptoDecrypt(new Uint8Array(n),a.key.buffer,a.iv.buffer).then((function(t){var n=self.performance.now();return i.trigger(l.Events.FRAG_DECRYPTED,{frag:e,payload:t,stats:{tstart:o,tdecrypt:n}}),r.payload=t,r}))}return r})).then((function(r){var i=t.fragCurrent,n=t.hls,a=t.levels;if(!a)throw new Error("init load aborted, missing levels");var o=a[e.level].details;console.assert(o,"Level details are defined when init segment is loaded");var s=e.stats;t.state=S.IDLE,t.fragLoadError=0,e.data=new Uint8Array(r.payload),s.parsing.start=s.buffering.start=self.performance.now(),s.parsing.end=s.buffering.end=self.performance.now(),r.frag===i&&n.trigger(l.Events.FRAG_BUFFERED,{stats:s,frag:i,part:null,id:e.type}),t.tick()})).catch((function(r){t.warn(r),t.resetFragmentLoading(e)}))},T.fragContextChanged=function(e){var t=this.fragCurrent;return!e||!t||e.level!==t.level||e.sn!==t.sn||e.urlId!==t.urlId},T.fragBufferedComplete=function(e,t){var r=this.mediaBuffer?this.mediaBuffer:this.media;this.log("Buffered "+e.type+" sn: "+e.sn+(t?" part: "+t.index:"")+" of "+("[stream-controller]"===this.logPrefix?"level":"track")+" "+e.level+" "+y.default.toString(o.BufferHelper.getBuffered(r))),this.state=S.IDLE,this.tick()},T._handleFragmentLoadComplete=function(e){var t=this.transmuxer;if(t){var r=e.frag,i=e.part,n=e.partsLoaded,a=!n||0===n.length||n.some((function(e){return!e})),o=new c.ChunkMetadata(r.level,r.sn,r.stats.chunkCount+1,0,i?i.index:-1,!a);t.flush(o)}},T._handleFragmentLoadProgress=function(e){},T._doFragLoad=function(e,t,r,n){var a=this;if(void 0===r&&(r=null),!this.levels)throw new Error("frag load aborted, missing levels");if(r=Math.max(e.start,r||0),this.config.lowLatencyMode&&t){var o=t.partList;if(o&&n){r>e.end&&t.fragmentHint&&(e=t.fragmentHint);var s=this.getNextPart(o,e,r);if(s>-1){var u=o[s];return this.log("Loading part sn: "+e.sn+" p: "+u.index+" cc: "+e.cc+" of playlist ["+t.startSN+"-"+t.endSN+"] parts [0-"+s+"-"+(o.length-1)+"] "+("[stream-controller]"===this.logPrefix?"level":"track")+": "+e.level+", target: "+parseFloat(r.toFixed(3))),this.nextLoadPosition=u.start+u.duration,this.state=S.FRAG_LOADING,this.hls.trigger(l.Events.FRAG_LOADING,{frag:e,part:o[s],targetBufferTime:r}),this.doFragPartsLoad(e,o,s,n).catch((function(e){return a.handleFragLoadError(e)}))}if(!e.url||this.loadedEndOfParts(o,r))return Promise.resolve(null)}}return this.log("Loading fragment "+e.sn+" cc: "+e.cc+" "+(t?"of ["+t.startSN+"-"+t.endSN+"] ":"")+("[stream-controller]"===this.logPrefix?"level":"track")+": "+e.level+", target: "+parseFloat(r.toFixed(3))),Object(i.isFiniteNumber)(e.sn)&&!this.bitrateTest&&(this.nextLoadPosition=e.start+e.duration),this.state=S.FRAG_LOADING,this.hls.trigger(l.Events.FRAG_LOADING,{frag:e,targetBufferTime:r}),this.fragmentLoader.load(e,n).catch((function(e){return a.handleFragLoadError(e)}))},T.doFragPartsLoad=function(e,t,r,i){var n=this;return new Promise((function(a,o){var s=[];!function r(u){var c=t[u];n.fragmentLoader.loadPart(e,c,i).then((function(i){s[c.index]=i;var o=i.part;n.hls.trigger(l.Events.FRAG_LOADED,i);var f=t[u+1];if(!f||f.fragment!==e)return a({frag:e,part:o,partsLoaded:s});r(u+1)})).catch(o)}(r)}))},T.handleFragLoadError=function(e){var t=e.data;return t&&t.details===u.ErrorDetails.INTERNAL_ABORTED?this.handleFragLoadAborted(t.frag,t.part):this.hls.trigger(l.Events.ERROR,t),null},T._handleTransmuxerFlush=function(e){var t=this.getCurrentContext(e);if(t&&this.state===S.PARSING){var r=t.frag,i=t.part,n=t.level,a=self.performance.now();r.stats.parsing.end=a,i&&(i.stats.parsing.end=a),this.updateLevelTiming(r,i,n,e.partial)}else this.fragCurrent||(this.state=S.IDLE)},T.getCurrentContext=function(e){var t=this.levels,r=e.level,i=e.sn,n=e.part;if(!t||!t[r])return this.warn("Levels object was unset while buffering fragment "+i+" of level "+r+". The current chunk will not be buffered."),null;var a=t[r],o=n>-1?Object(p.getPartWith)(a,i,n):null,s=o?o.fragment:Object(p.getFragmentWithSN)(a,i,this.fragCurrent);return s?{frag:s,part:o,level:a}:null},T.bufferFragmentData=function(e,t,r,i){if(e&&this.state===S.PARSING){var n=e.data1,a=e.data2,o=n;if(n&&a&&(o=Object(f.appendUint8Array)(n,a)),o&&o.length){var s={type:e.type,frag:t,part:r,chunkMeta:i,parent:t.type,data:o};this.hls.trigger(l.Events.BUFFER_APPENDING,s),e.dropped&&e.independent&&!r&&this.flushBufferGap(t)}}},T.flushBufferGap=function(e){var t=this.media;if(t)if(o.BufferHelper.isBuffered(t,t.currentTime)){var r=t.currentTime,i=o.BufferHelper.bufferInfo(t,r,0),n=e.duration,a=Math.min(2*this.config.maxFragLookUpTolerance,.25*n),s=Math.max(Math.min(e.start-a,i.end-a),r+a);e.start-s>a&&this.flushMainBuffer(s,e.start)}else this.flushMainBuffer(0,e.start)},T.getFwdBufferInfo=function(e,t){var r=this.config,n=this.getLoadPosition();if(!Object(i.isFiniteNumber)(n))return null;var a=o.BufferHelper.bufferInfo(e,n,r.maxBufferHole);if(0===a.len&&void 0!==a.nextStart){var s=this.fragmentTracker.getBufferedFrag(n,t);if(s&&a.nextStart<s.end)return o.BufferHelper.bufferInfo(e,n,Math.max(a.nextStart,r.maxBufferHole))}return a},T.getMaxBufferLength=function(e){var t,r=this.config;return t=e?Math.max(8*r.maxBufferSize/e,r.maxBufferLength):r.maxBufferLength,Math.min(t,r.maxMaxBufferLength)},T.reduceMaxBufferLength=function(e){var t=this.config,r=e||t.maxBufferLength;return t.maxMaxBufferLength>=r&&(t.maxMaxBufferLength/=2,this.warn("Reduce max buffer length to "+t.maxMaxBufferLength+"s"),!0)},T.getNextFragment=function(e,t){var r,i,n=t.fragments,a=n.length;if(!a)return null;var o,s=this.config,l=n[0].start;if(t.live){var u=s.initialLiveManifestSize;if(a<u)return this.warn("Not enough fragments to start playback (have: "+a+", need: "+u+")"),null;t.PTSKnown||this.startFragRequested||-1!==this.startPosition||(o=this.getInitialLiveFragment(t,n),this.startPosition=o?this.hls.liveSyncPosition||o.start:e)}else e<=l&&(o=n[0]);if(!o){var c=s.lowLatencyMode?t.partEnd:t.fragmentEnd;o=this.getFragmentAtPosition(e,c,t)}return null===(r=o)||void 0===r||!r.initSegment||null!==(i=o)&&void 0!==i&&i.initSegment.data||this.bitrateTest||(o=o.initSegment),o},T.getNextPart=function(e,t,r){for(var i=-1,n=!1,a=!0,o=0,s=e.length;o<s;o++){var l=e[o];if(a=a&&!l.independent,i>-1&&r<l.start)break;var u=l.loaded;!u&&(n||l.independent||a)&&l.fragment===t&&(i=o),n=u}return i},T.loadedEndOfParts=function(e,t){var r=e[e.length-1];return r&&t>r.start&&r.loaded},T.getInitialLiveFragment=function(e,t){var r=this.fragPrevious,i=null;if(r){if(e.hasProgramDateTime&&(this.log("Live playlist, switching playlist, load frag with same PDT: "+r.programDateTime),i=Object(h.findFragmentByPDT)(t,r.endProgramDateTime,this.config.maxFragLookUpTolerance)),!i){var n=r.sn+1;if(n>=e.startSN&&n<=e.endSN){var a=t[n-e.startSN];r.cc===a.cc&&(i=a,this.log("Live playlist, switching playlist, load frag with next SN: "+i.sn))}i||(i=Object(h.findFragWithCC)(t,r.cc))&&this.log("Live playlist, switching playlist, load frag with same CC: "+i.sn)}}else{var o=this.hls.liveSyncPosition;null!==o&&(i=this.getFragmentAtPosition(o,this.bitrateTest?e.fragmentEnd:e.edge,e))}return i},T.getFragmentAtPosition=function(e,t,r){var i,n=this.config,o=this.fragPrevious,s=r.fragments,l=r.endSN,u=r.fragmentHint,c=n.maxFragLookUpTolerance,f=!!(n.lowLatencyMode&&r.partList&&u);if(f&&u&&!this.bitrateTest&&(s=s.concat(u),l=u.sn),e<t){var d=e>t-c?0:c;i=Object(h.findFragmentByPTS)(o,s,e,d)}else i=s[s.length-1];if(i){var p=i.sn-r.startSN,v=o&&i.level===o.level,m=s[p+1];if(this.fragmentTracker.getState(i)===a.FragmentState.BACKTRACKED){i=null;for(var g=p;s[g]&&this.fragmentTracker.getState(s[g])===a.FragmentState.BACKTRACKED;)i=o?s[g--]:s[--g];i||(i=m)}else o&&i.sn===o.sn&&!f&&v&&(i.sn<l&&this.fragmentTracker.getState(m)!==a.FragmentState.OK?(this.log("SN "+i.sn+" just loaded, load next one: "+m.sn),i=m):i=null)}return i},T.synchronizeToLiveEdge=function(e){var t=this.config,r=this.media;if(r){var i=this.hls.liveSyncPosition,n=r.currentTime,a=e.fragments[0].start,o=e.edge,s=n>=a-t.maxFragLookUpTolerance&&n<=o;if(null!==i&&r.duration>i&&(n<i||!s)){var l=void 0!==t.liveMaxLatencyDuration?t.liveMaxLatencyDuration:t.liveMaxLatencyDurationCount*e.targetduration;(!s&&r.readyState<4||n<o-l)&&(this.loadedmetadata||(this.nextLoadPosition=i),r.readyState&&(this.warn("Playback: "+n.toFixed(3)+" is located too far from the end of live sliding playlist: "+o+", reset currentTime to : "+i.toFixed(3)),r.currentTime=i))}}},T.alignPlaylists=function(e,t){var r=this.levels,n=this.levelLastLoaded,a=this.fragPrevious,o=null!==n?r[n]:null,s=e.fragments.length;if(!s)return this.warn("No fragments in live playlist"),0;var l=e.fragments[0].start,u=!t,c=e.alignedSliding&&Object(i.isFiniteNumber)(l);if(u||!c&&!l){Object(d.alignStream)(a,o,e);var f=e.fragments[0].start;return this.log("Live playlist sliding: "+f.toFixed(2)+" start-sn: "+(t?t.startSN:"na")+"->"+e.startSN+" prev-sn: "+(a?a.sn:"na")+" fragments: "+s),f}return l},T.waitForCdnTuneIn=function(e){return e.live&&e.canBlockReload&&e.tuneInGoal>Math.max(e.partHoldBack,3*e.partTarget)},T.setStartPosition=function(e,t){var r=this.startPosition;if(r<t&&(r=-1),-1===r||-1===this.lastCurrentTime){var n=e.startTimeOffset;Object(i.isFiniteNumber)(n)?(r=t+n,n<0&&(r+=e.totalduration),r=Math.min(Math.max(t,r),t+e.totalduration),this.log("Start time offset "+n+" found in playlist, adjust startPosition to "+r),this.startPosition=r):e.live?r=this.hls.liveSyncPosition||t:this.startPosition=r=0,this.lastCurrentTime=r}this.nextLoadPosition=r},T.getLoadPosition=function(){var e=this.media,t=0;return this.loadedmetadata&&e?t=e.currentTime:this.nextLoadPosition&&(t=this.nextLoadPosition),t},T.handleFragLoadAborted=function(e,t){this.transmuxer&&"initSegment"!==e.sn&&e.stats.aborted&&(this.warn("Fragment "+e.sn+(t?" part"+t.index:"")+" of level "+e.level+" was aborted"),this.resetFragmentLoading(e))},T.resetFragmentLoading=function(e){this.fragCurrent&&this.fragContextChanged(e)||(this.state=S.IDLE)},T.onFragmentOrKeyLoadError=function(e,t){if(!t.fatal){var r=t.frag;if(r&&r.type===e){var i=this.fragCurrent;console.assert(i&&r.sn===i.sn&&r.level===i.level&&r.urlId===i.urlId,"Frag load error must match current frag to retry");var n=this.config;if(this.fragLoadError+1<=n.fragLoadingMaxRetry){if(this.resetLiveStartWhenNotLoaded(r.level))return;var a=Math.min(Math.pow(2,this.fragLoadError)*n.fragLoadingRetryDelay,n.fragLoadingMaxRetryTimeout);this.warn("Fragment "+r.sn+" of "+e+" "+r.level+" failed to load, retrying in "+a+"ms"),this.retryDate=self.performance.now()+a,this.fragLoadError++,this.state=S.FRAG_LOADING_WAITING_RETRY}else t.levelRetry?(e===b.PlaylistLevelType.AUDIO&&(this.fragCurrent=null),this.fragLoadError=0,this.state=S.IDLE):(s.logger.error(t.details+" reaches max retry, redispatch as fatal ..."),t.fatal=!0,this.hls.stopLoad(),this.state=S.ERROR)}}},T.afterBufferFlushed=function(e,t,r){if(e){var i=o.BufferHelper.getBuffered(e);this.fragmentTracker.detectEvictedFragments(t,i,r),this.state===S.ENDED&&this.resetLoadingState()}},T.resetLoadingState=function(){this.fragCurrent=null,this.fragPrevious=null,this.state=S.IDLE},T.resetLiveStartWhenNotLoaded=function(e){if(!this.loadedmetadata){this.startFragRequested=!1;var t=this.levels?this.levels[e].details:null;if(null!=t&&t.live)return this.startPosition=-1,this.setStartPosition(t,0),this.resetLoadingState(),!0;this.nextLoadPosition=this.startPosition}return!1},T.updateLevelTiming=function(e,t,r,i){var n=this,a=r.details;console.assert(!!a,"level.details must be defined"),Object.keys(e.elementaryStreams).reduce((function(t,o){var s=e.elementaryStreams[o];if(s){var u=s.endPTS-s.startPTS;if(u<=0)return n.warn("Could not parse fragment "+e.sn+" "+o+" duration reliably ("+u+") resetting transmuxer to fallback to playlist timing"),n.resetTransmuxer(),t||!1;var c=i?0:Object(p.updateFragPTSDTS)(a,e,s.startPTS,s.endPTS,s.startDTS,s.endDTS);return n.hls.trigger(l.Events.LEVEL_PTS_UPDATED,{details:a,level:r,drift:c,type:o,frag:e,start:s.startPTS,end:s.endPTS}),!0}return t}),!1)?(this.state=S.PARSED,this.hls.trigger(l.Events.FRAG_PARSED,{frag:e,part:t})):this.resetLoadingState()},T.resetTransmuxer=function(){this.transmuxer&&(this.transmuxer.destroy(),this.transmuxer=null)},m=n,(w=[{key:"state",get:function(){return this._state},set:function(e){var t=this._state;t!==e&&(this._state=e,this.log(t+"->"+e))}}])&&E(m.prototype,w),Object.defineProperty(m,"prototype",{writable:!1}),n}(n.default)},"./repo/src/controller/buffer-controller.ts":function(e,t,r){"use strict";r.r(t),r.d(t,"default",(function(){return h}));var i=r("./repo/src/polyfills/number.ts"),n=r("./repo/src/events.ts"),a=r("./repo/src/utils/logger.ts"),o=r("./repo/src/errors.ts"),s=r("./repo/src/utils/buffer-helper.ts"),l=r("./repo/src/utils/mediasource-helper.ts"),u=r("./repo/src/loader/fragment.ts"),c=r("./repo/src/controller/buffer-operation-queue.ts"),f=Object(l.getMediaSource)(),d=/([ha]vc.)(?:\.[^.,]+)+/,h=function(){function e(e){var t=this;this.details=null,this._objectUrl=null,this.operationQueue=void 0,this.listeners=void 0,this.hls=void 0,this.bufferCodecEventsExpected=0,this._bufferCodecEventsTotal=0,this.media=null,this.mediaSource=null,this.appendError=0,this.tracks={},this.pendingTracks={},this.sourceBuffer=void 0,this._onMediaSourceOpen=function(){var e=t.hls,r=t.media,i=t.mediaSource;a.logger.log("[buffer-controller]: Media source opened"),r&&(t.updateMediaElementDuration(),e.trigger(n.Events.MEDIA_ATTACHED,{media:r})),i&&i.removeEventListener("sourceopen",t._onMediaSourceOpen),t.checkPendingTracks()},this._onMediaSourceClose=function(){a.logger.log("[buffer-controller]: Media source closed")},this._onMediaSourceEnded=function(){a.logger.log("[buffer-controller]: Media source ended")},this.hls=e,this._initSourceBuffer(),this.registerListeners()}var t=e.prototype;return t.hasSourceTypes=function(){return this.getSourceBufferTypes().length>0||Object.keys(this.pendingTracks).length>0},t.destroy=function(){this.unregisterListeners(),this.details=null},t.registerListeners=function(){var e=this.hls;e.on(n.Events.MEDIA_ATTACHING,this.onMediaAttaching,this),e.on(n.Events.MEDIA_DETACHING,this.onMediaDetaching,this),e.on(n.Events.MANIFEST_PARSED,this.onManifestParsed,this),e.on(n.Events.BUFFER_RESET,this.onBufferReset,this),e.on(n.Events.BUFFER_APPENDING,this.onBufferAppending,this),e.on(n.Events.BUFFER_CODECS,this.onBufferCodecs,this),e.on(n.Events.BUFFER_EOS,this.onBufferEos,this),e.on(n.Events.BUFFER_FLUSHING,this.onBufferFlushing,this),e.on(n.Events.LEVEL_UPDATED,this.onLevelUpdated,this),e.on(n.Events.FRAG_PARSED,this.onFragParsed,this),e.on(n.Events.FRAG_CHANGED,this.onFragChanged,this)},t.unregisterListeners=function(){var e=this.hls;e.off(n.Events.MEDIA_ATTACHING,this.onMediaAttaching,this),e.off(n.Events.MEDIA_DETACHING,this.onMediaDetaching,this),e.off(n.Events.MANIFEST_PARSED,this.onManifestParsed,this),e.off(n.Events.BUFFER_RESET,this.onBufferReset,this),e.off(n.Events.BUFFER_APPENDING,this.onBufferAppending,this),e.off(n.Events.BUFFER_CODECS,this.onBufferCodecs,this),e.off(n.Events.BUFFER_EOS,this.onBufferEos,this),e.off(n.Events.BUFFER_FLUSHING,this.onBufferFlushing,this),e.off(n.Events.LEVEL_UPDATED,this.onLevelUpdated,this),e.off(n.Events.FRAG_PARSED,this.onFragParsed,this),e.off(n.Events.FRAG_CHANGED,this.onFragChanged,this)},t._initSourceBuffer=function(){this.sourceBuffer={},this.operationQueue=new c.default(this.sourceBuffer),this.listeners={audio:[],video:[],audiovideo:[]}},t.onManifestParsed=function(e,t){var r=2;(t.audio&&!t.video||!t.altAudio)&&(r=1),this.bufferCodecEventsExpected=this._bufferCodecEventsTotal=r,this.details=null,a.logger.log(this.bufferCodecEventsExpected+" bufferCodec event(s) expected")},t.onMediaAttaching=function(e,t){var r=this.media=t.media;if(r&&f){var i=this.mediaSource=new f;i.addEventListener("sourceopen",this._onMediaSourceOpen),i.addEventListener("sourceended",this._onMediaSourceEnded),i.addEventListener("sourceclose",this._onMediaSourceClose),r.src=self.URL.createObjectURL(i),this._objectUrl=r.src}},t.onMediaDetaching=function(){var e=this.media,t=this.mediaSource,r=this._objectUrl;if(t){if(a.logger.log("[buffer-controller]: media source detaching"),"open"===t.readyState)try{t.endOfStream()}catch(e){a.logger.warn("[buffer-controller]: onMediaDetaching: "+e.message+" while calling endOfStream")}this.onBufferReset(),t.removeEventListener("sourceopen",this._onMediaSourceOpen),t.removeEventListener("sourceended",this._onMediaSourceEnded),t.removeEventListener("sourceclose",this._onMediaSourceClose),e&&(r&&self.URL.revokeObjectURL(r),e.src===r?(e.removeAttribute("src"),e.load()):a.logger.warn("[buffer-controller]: media.src was changed by a third party - skip cleanup")),this.mediaSource=null,this.media=null,this._objectUrl=null,this.bufferCodecEventsExpected=this._bufferCodecEventsTotal,this.pendingTracks={},this.tracks={}}this.hls.trigger(n.Events.MEDIA_DETACHED,void 0)},t.onBufferReset=function(){var e=this;this.getSourceBufferTypes().forEach((function(t){var r=e.sourceBuffer[t];try{r&&(e.removeBufferListeners(t),e.mediaSource&&e.mediaSource.removeSourceBuffer(r),e.sourceBuffer[t]=void 0)}catch(e){a.logger.warn("[buffer-controller]: Failed to reset the "+t+" buffer",e)}})),this._initSourceBuffer()},t.onBufferCodecs=function(e,t){var r=this,i=this.getSourceBufferTypes().length;Object.keys(t).forEach((function(e){if(i){var n=r.tracks[e];if(n&&"function"==typeof n.buffer.changeType){var o=t[e],s=o.id,l=o.codec,u=o.levelCodec,c=o.container,f=o.metadata,h=(n.levelCodec||n.codec).replace(d,"$1"),p=(u||l).replace(d,"$1");if(h!==p){var v=c+";codecs="+(u||l);r.appendChangeType(e,v),a.logger.log("[buffer-controller]: switching codec "+h+" to "+p),r.tracks[e]={buffer:n.buffer,codec:l,container:c,levelCodec:u,metadata:f,id:s}}}}else r.pendingTracks[e]=t[e]})),i||(this.bufferCodecEventsExpected=Math.max(this.bufferCodecEventsExpected-1,0),this.mediaSource&&"open"===this.mediaSource.readyState&&this.checkPendingTracks())},t.appendChangeType=function(e,t){var r=this,i=this.operationQueue,n={execute:function(){var n=r.sourceBuffer[e];n&&(a.logger.log("[buffer-controller]: changing "+e+" sourceBuffer type to "+t),n.changeType(t)),i.shiftAndExecuteNext(e)},onStart:function(){},onComplete:function(){},onError:function(t){a.logger.warn("[buffer-controller]: Failed to change "+e+" SourceBuffer type",t)}};i.append(n,e)},t.onBufferAppending=function(e,t){var r=this,i=this.hls,l=this.operationQueue,u=this.tracks,c=t.data,f=t.type,d=t.frag,h=t.part,p=t.chunkMeta,v=p.buffering[f],m=self.performance.now();v.start=m;var g=d.stats.buffering,y=h?h.stats.buffering:null;0===g.start&&(g.start=m),y&&0===y.start&&(y.start=m);var b=u.audio,E="audio"===f&&1===p.id&&"audio/mpeg"===(null==b?void 0:b.container),C={execute:function(){if(v.executeStart=self.performance.now(),E){var e=r.sourceBuffer[f];if(e){var t=d.start-e.timestampOffset;Math.abs(t)>=.1&&(a.logger.log("[buffer-controller]: Updating audio SourceBuffer timestampOffset to "+d.start+" (delta: "+t+") sn: "+d.sn+")"),e.timestampOffset=d.start)}}r.appendExecutor(c,f)},onStart:function(){},onComplete:function(){var e=self.performance.now();v.executeEnd=v.end=e,0===g.first&&(g.first=e),y&&0===y.first&&(y.first=e);var t=r.sourceBuffer,i={};for(var a in t)i[a]=s.BufferHelper.getBuffered(t[a]);r.appendError=0,r.hls.trigger(n.Events.BUFFER_APPENDED,{type:f,frag:d,part:h,chunkMeta:p,parent:d.type,timeRanges:i})},onError:function(e){a.logger.error("[buffer-controller]: Error encountered while trying to append to the "+f+" SourceBuffer",e);var t={type:o.ErrorTypes.MEDIA_ERROR,parent:d.type,details:o.ErrorDetails.BUFFER_APPEND_ERROR,err:e,fatal:!1};e.code===DOMException.QUOTA_EXCEEDED_ERR?t.details=o.ErrorDetails.BUFFER_FULL_ERROR:(r.appendError++,t.details=o.ErrorDetails.BUFFER_APPEND_ERROR,r.appendError>i.config.appendErrorMaxRetry&&(a.logger.error("[buffer-controller]: Failed "+i.config.appendErrorMaxRetry+" times to append segment in sourceBuffer"),t.fatal=!0)),i.trigger(n.Events.ERROR,t)}};l.append(C,f)},t.onBufferFlushing=function(e,t){var r=this,i=this.operationQueue,o=function(e){return{execute:r.removeExecutor.bind(r,e,t.startOffset,t.endOffset),onStart:function(){},onComplete:function(){r.hls.trigger(n.Events.BUFFER_FLUSHED,{type:e})},onError:function(t){a.logger.warn("[buffer-controller]: Failed to remove from "+e+" SourceBuffer",t)}}};t.type?i.append(o(t.type),t.type):this.getSourceBufferTypes().forEach((function(e){i.append(o(e),e)}))},t.onFragParsed=function(e,t){var r=this,i=t.frag,o=t.part,s=[],l=o?o.elementaryStreams:i.elementaryStreams;l[u.ElementaryStreamTypes.AUDIOVIDEO]?s.push("audiovideo"):(l[u.ElementaryStreamTypes.AUDIO]&&s.push("audio"),l[u.ElementaryStreamTypes.VIDEO]&&s.push("video")),0===s.length&&a.logger.warn("Fragments must have at least one ElementaryStreamType set. type: "+i.type+" level: "+i.level+" sn: "+i.sn),this.blockBuffers((function(){var e=self.performance.now();i.stats.buffering.end=e,o&&(o.stats.buffering.end=e);var t=o?o.stats:i.stats;r.hls.trigger(n.Events.FRAG_BUFFERED,{frag:i,part:o,stats:t,id:i.type})}),s)},t.onFragChanged=function(e,t){this.flushBackBuffer()},t.onBufferEos=function(e,t){var r=this;this.getSourceBufferTypes().reduce((function(e,i){var n=r.sourceBuffer[i];return t.type&&t.type!==i||n&&!n.ended&&(n.ended=!0,a.logger.log("[buffer-controller]: "+i+" sourceBuffer now EOS")),e&&!(n&&!n.ended)}),!0)&&this.blockBuffers((function(){var e=r.mediaSource;e&&"open"===e.readyState&&e.endOfStream()}))},t.onLevelUpdated=function(e,t){var r=t.details;r.fragments.length&&(this.details=r,this.getSourceBufferTypes().length?this.blockBuffers(this.updateMediaElementDuration.bind(this)):this.updateMediaElementDuration())},t.flushBackBuffer=function(){var e=this.hls,t=this.details,r=this.media,a=this.sourceBuffer;if(r&&null!==t){var o=this.getSourceBufferTypes();if(o.length){var l=t.live&&null!==e.config.liveBackBufferLength?e.config.liveBackBufferLength:e.config.backBufferLength;if(Object(i.isFiniteNumber)(l)&&!(l<0)){var u=r.currentTime,c=t.levelTargetDuration,f=Math.max(l,c),d=Math.floor(u/c)*c-f;o.forEach((function(r){var i=a[r];if(i){var o=s.BufferHelper.getBuffered(i);o.length>0&&d>o.start(0)&&(e.trigger(n.Events.BACK_BUFFER_REACHED,{bufferEnd:d}),t.live&&e.trigger(n.Events.LIVE_BACK_BUFFER_REACHED,{bufferEnd:d}),e.trigger(n.Events.BUFFER_FLUSHING,{startOffset:0,endOffset:d,type:r}))}}))}}}},t.updateMediaElementDuration=function(){if(this.details&&this.media&&this.mediaSource&&"open"===this.mediaSource.readyState){var e=this.details,t=this.hls,r=this.media,n=this.mediaSource,o=e.fragments[0].start+e.totalduration,s=r.duration,l=Object(i.isFiniteNumber)(n.duration)?n.duration:0;e.live&&t.config.liveDurationInfinity?(a.logger.log("[buffer-controller]: Media Source duration is set to Infinity"),n.duration=1/0,this.updateSeekableRange(e)):(o>l&&o>s||!Object(i.isFiniteNumber)(s))&&(a.logger.log("[buffer-controller]: Updating Media Source duration to "+o.toFixed(3)),n.duration=o)}},t.updateSeekableRange=function(e){var t=this.mediaSource,r=e.fragments;if(r.length&&e.live&&null!=t&&t.setLiveSeekableRange){var i=Math.max(0,r[0].start),n=Math.max(i,i+e.totalduration);t.setLiveSeekableRange(i,n)}},t.checkPendingTracks=function(){var e=this.bufferCodecEventsExpected,t=this.operationQueue,r=this.pendingTracks,i=Object.keys(r).length;if(i&&!e||2===i){this.createSourceBuffers(r),this.pendingTracks={};var a=this.getSourceBufferTypes();if(0===a.length)return void this.hls.trigger(n.Events.ERROR,{type:o.ErrorTypes.MEDIA_ERROR,details:o.ErrorDetails.BUFFER_INCOMPATIBLE_CODECS_ERROR,fatal:!0,reason:"could not create source buffer for media codec(s)"});a.forEach((function(e){t.executeNext(e)}))}},t.createSourceBuffers=function(e){var t=this.sourceBuffer,r=this.mediaSource;if(!r)throw Error("createSourceBuffers called when mediaSource was null");var i=0;for(var s in e)if(!t[s]){var l=e[s];if(!l)throw Error("source buffer exists for track "+s+", however track does not");var u=l.levelCodec||l.codec,c=l.container+";codecs="+u;a.logger.log("[buffer-controller]: creating sourceBuffer("+c+")");try{var f=t[s]=r.addSourceBuffer(c),d=s;this.addBufferListener(d,"updatestart",this._onSBUpdateStart),this.addBufferListener(d,"updateend",this._onSBUpdateEnd),this.addBufferListener(d,"error",this._onSBUpdateError),this.tracks[s]={buffer:f,codec:u,container:l.container,levelCodec:l.levelCodec,metadata:l.metadata,id:l.id},i++}catch(e){a.logger.error("[buffer-controller]: error while trying to add sourceBuffer: "+e.message),this.hls.trigger(n.Events.ERROR,{type:o.ErrorTypes.MEDIA_ERROR,details:o.ErrorDetails.BUFFER_ADD_CODEC_ERROR,fatal:!1,error:e,mimeType:c})}}i&&this.hls.trigger(n.Events.BUFFER_CREATED,{tracks:this.tracks})},t._onSBUpdateStart=function(e){this.operationQueue.current(e).onStart()},t._onSBUpdateEnd=function(e){var t=this.operationQueue;t.current(e).onComplete(),t.shiftAndExecuteNext(e)},t._onSBUpdateError=function(e,t){a.logger.error("[buffer-controller]: "+e+" SourceBuffer error",t),this.hls.trigger(n.Events.ERROR,{type:o.ErrorTypes.MEDIA_ERROR,details:o.ErrorDetails.BUFFER_APPENDING_ERROR,fatal:!1});var r=this.operationQueue.current(e);r&&r.onError(t)},t.removeExecutor=function(e,t,r){var n=this.media,o=this.mediaSource,s=this.operationQueue,l=this.sourceBuffer[e];if(!n||!o||!l)return a.logger.warn("[buffer-controller]: Attempting to remove from the "+e+" SourceBuffer, but it does not exist"),void s.shiftAndExecuteNext(e);var u=Object(i.isFiniteNumber)(n.duration)?n.duration:1/0,c=Object(i.isFiniteNumber)(o.duration)?o.duration:1/0,f=Math.max(0,t),d=Math.min(r,u,c);d>f?(a.logger.log("[buffer-controller]: Removing ["+f+","+d+"] from the "+e+" SourceBuffer"),console.assert(!l.updating,e+" sourceBuffer must not be updating"),l.remove(f,d)):s.shiftAndExecuteNext(e)},t.appendExecutor=function(e,t){var r=this.operationQueue,i=this.sourceBuffer[t];if(!i)return a.logger.warn("[buffer-controller]: Attempting to append to the "+t+" SourceBuffer, but it does not exist"),void r.shiftAndExecuteNext(t);i.ended=!1,console.assert(!i.updating,t+" sourceBuffer must not be updating"),i.appendBuffer(e)},t.blockBuffers=function(e,t){var r=this;if(void 0===t&&(t=this.getSourceBufferTypes()),!t.length)return a.logger.log("[buffer-controller]: Blocking operation requested, but no SourceBuffers exist"),void Promise.resolve(e);var i=this.operationQueue,n=t.map((function(e){return i.appendBlocker(e)}));Promise.all(n).then((function(){e(),t.forEach((function(e){var t=r.sourceBuffer[e];t&&t.updating||i.shiftAndExecuteNext(e)}))}))},t.getSourceBufferTypes=function(){return Object.keys(this.sourceBuffer)},t.addBufferListener=function(e,t,r){var i=this.sourceBuffer[e];if(i){var n=r.bind(this,e);this.listeners[e].push({event:t,listener:n}),i.addEventListener(t,n)}},t.removeBufferListeners=function(e){var t=this.sourceBuffer[e];t&&this.listeners[e].forEach((function(e){t.removeEventListener(e.event,e.listener)}))},e}()},"./repo/src/controller/buffer-operation-queue.ts":function(e,t,r){"use strict";r.r(t),r.d(t,"default",(function(){return n}));var i=r("./repo/src/utils/logger.ts"),n=function(){function e(e){this.buffers=void 0,this.queues={video:[],audio:[],audiovideo:[]},this.buffers=e}var t=e.prototype;return t.append=function(e,t){var r=this.queues[t];r.push(e),1===r.length&&this.buffers[t]&&this.executeNext(t)},t.insertAbort=function(e,t){this.queues[t].unshift(e),this.executeNext(t)},t.appendBlocker=function(e){var t,r=new Promise((function(e){t=e})),i={execute:t,onStart:function(){},onComplete:function(){},onError:function(){}};return this.append(i,e),r},t.executeNext=function(e){var t=this.buffers,r=this.queues,n=t[e],a=r[e];if(a.length){var o=a[0];try{o.execute()}catch(t){i.logger.warn("[buffer-operation-queue]: Unhandled exception executing the current operation"),o.onError(t),n&&n.updating||(a.shift(),this.executeNext(e))}}},t.shiftAndExecuteNext=function(e){this.queues[e].shift(),this.executeNext(e)},t.current=function(e){return this.queues[e][0]},e}()},"./repo/src/controller/cap-level-controller.ts":function(e,t,r){"use strict";r.r(t);var i=r("./repo/src/events.ts");function n(e,t){for(var r=0;r<t.length;r++){var i=t[r];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}var a=function(){function e(e){this.autoLevelCapping=void 0,this.firstLevel=void 0,this.media=void 0,this.restrictedLevels=void 0,this.timer=void 0,this.hls=void 0,this.streamController=void 0,this.clientRect=void 0,this.hls=e,this.autoLevelCapping=Number.POSITIVE_INFINITY,this.firstLevel=-1,this.media=null,this.restrictedLevels=[],this.timer=void 0,this.clientRect=null,this.registerListeners()}var t,r,a=e.prototype;return a.setStreamController=function(e){this.streamController=e},a.destroy=function(){this.unregisterListener(),this.hls.config.capLevelToPlayerSize&&this.stopCapping(),this.media=null,this.clientRect=null,this.hls=this.streamController=null},a.registerListeners=function(){var e=this.hls;e.on(i.Events.FPS_DROP_LEVEL_CAPPING,this.onFpsDropLevelCapping,this),e.on(i.Events.MEDIA_ATTACHING,this.onMediaAttaching,this),e.on(i.Events.MANIFEST_PARSED,this.onManifestParsed,this),e.on(i.Events.BUFFER_CODECS,this.onBufferCodecs,this),e.on(i.Events.MEDIA_DETACHING,this.onMediaDetaching,this)},a.unregisterListener=function(){var e=this.hls;e.off(i.Events.FPS_DROP_LEVEL_CAPPING,this.onFpsDropLevelCapping,this),e.off(i.Events.MEDIA_ATTACHING,this.onMediaAttaching,this),e.off(i.Events.MANIFEST_PARSED,this.onManifestParsed,this),e.off(i.Events.BUFFER_CODECS,this.onBufferCodecs,this),e.off(i.Events.MEDIA_DETACHING,this.onMediaDetaching,this)},a.onFpsDropLevelCapping=function(t,r){e.isLevelAllowed(r.droppedLevel,this.restrictedLevels)&&this.restrictedLevels.push(r.droppedLevel)},a.onMediaAttaching=function(e,t){this.media=t.media instanceof HTMLVideoElement?t.media:null},a.onManifestParsed=function(e,t){var r=this.hls;this.restrictedLevels=[],this.firstLevel=t.firstLevel,r.config.capLevelToPlayerSize&&t.video&&this.startCapping()},a.onBufferCodecs=function(e,t){this.hls.config.capLevelToPlayerSize&&t.video&&this.startCapping()},a.onMediaDetaching=function(){this.stopCapping()},a.detectPlayerSize=function(){if(this.media&&this.mediaHeight>0&&this.mediaWidth>0){var e=this.hls.levels;if(e.length){var t=this.hls;t.autoLevelCapping=this.getMaxLevel(e.length-1),t.autoLevelCapping>this.autoLevelCapping&&this.streamController&&this.streamController.nextLevelSwitch(),this.autoLevelCapping=t.autoLevelCapping}}},a.getMaxLevel=function(t){var r=this,i=this.hls.levels;if(!i.length)return-1;var n=i.filter((function(i,n){return e.isLevelAllowed(n,r.restrictedLevels)&&n<=t}));return this.clientRect=null,e.getMaxLevelByMediaSize(n,this.mediaWidth,this.mediaHeight)},a.startCapping=function(){this.timer||(this.autoLevelCapping=Number.POSITIVE_INFINITY,this.hls.firstLevel=this.getMaxLevel(this.firstLevel),self.clearInterval(this.timer),this.timer=self.setInterval(this.detectPlayerSize.bind(this),1e3),this.detectPlayerSize())},a.stopCapping=function(){this.restrictedLevels=[],this.firstLevel=-1,this.autoLevelCapping=Number.POSITIVE_INFINITY,this.timer&&(self.clearInterval(this.timer),this.timer=void 0)},a.getDimensions=function(){if(this.clientRect)return this.clientRect;var e=this.media,t={width:0,height:0};if(e){var r=e.getBoundingClientRect();t.width=r.width,t.height=r.height,t.width||t.height||(t.width=r.right-r.left||e.width||0,t.height=r.bottom-r.top||e.height||0)}return this.clientRect=t,t},e.isLevelAllowed=function(e,t){return void 0===t&&(t=[]),-1===t.indexOf(e)},e.getMaxLevelByMediaSize=function(e,t,r){if(!e||!e.length)return-1;for(var i,n,a=e.length-1,o=0;o<e.length;o+=1){var s=e[o];if((s.width>=t||s.height>=r)&&(i=s,!(n=e[o+1])||i.width!==n.width||i.height!==n.height)){a=o;break}}return a},t=e,(r=[{key:"mediaWidth",get:function(){return this.getDimensions().width*this.contentScaleFactor}},{key:"mediaHeight",get:function(){return this.getDimensions().height*this.contentScaleFactor}},{key:"contentScaleFactor",get:function(){var e=1;if(!this.hls.config.ignoreDevicePixelRatio)try{e=self.devicePixelRatio}catch(e){}return e}}])&&n(t.prototype,r),Object.defineProperty(t,"prototype",{writable:!1}),e}();t.default=a},"./repo/src/controller/fps-controller.ts":function(e,t,r){"use strict";r.r(t);var i=r("./repo/src/events.ts"),n=r("./repo/src/utils/logger.ts"),a=function(){function e(e){this.hls=void 0,this.isVideoPlaybackQualityAvailable=!1,this.timer=void 0,this.media=null,this.lastTime=void 0,this.lastDroppedFrames=0,this.lastDecodedFrames=0,this.streamController=void 0,this.hls=e,this.registerListeners()}var t=e.prototype;return t.setStreamController=function(e){this.streamController=e},t.registerListeners=function(){this.hls.on(i.Events.MEDIA_ATTACHING,this.onMediaAttaching,this)},t.unregisterListeners=function(){this.hls.off(i.Events.MEDIA_ATTACHING,this.onMediaAttaching)},t.destroy=function(){this.timer&&clearInterval(this.timer),this.unregisterListeners(),this.isVideoPlaybackQualityAvailable=!1,this.media=null},t.onMediaAttaching=function(e,t){var r=this.hls.config;if(r.capLevelOnFPSDrop){var i=t.media instanceof self.HTMLVideoElement?t.media:null;this.media=i,i&&"function"==typeof i.getVideoPlaybackQuality&&(this.isVideoPlaybackQualityAvailable=!0),self.clearInterval(this.timer),this.timer=self.setInterval(this.checkFPSInterval.bind(this),r.fpsDroppedMonitoringPeriod)}},t.checkFPS=function(e,t,r){var a=performance.now();if(t){if(this.lastTime){var o=a-this.lastTime,s=r-this.lastDroppedFrames,l=t-this.lastDecodedFrames,u=1e3*s/o,c=this.hls;if(c.trigger(i.Events.FPS_DROP,{currentDropped:s,currentDecoded:l,totalDroppedFrames:r}),u>0&&s>c.config.fpsDroppedMonitoringThreshold*l){var f=c.currentLevel;n.logger.warn("drop FPS ratio greater than max allowed value for currentLevel: "+f),f>0&&(-1===c.autoLevelCapping||c.autoLevelCapping>=f)&&(f-=1,c.trigger(i.Events.FPS_DROP_LEVEL_CAPPING,{level:f,droppedLevel:c.currentLevel}),c.autoLevelCapping=f,this.streamController.nextLevelSwitch())}}this.lastTime=a,this.lastDroppedFrames=r,this.lastDecodedFrames=t}},t.checkFPSInterval=function(){var e=this.media;if(e)if(this.isVideoPlaybackQualityAvailable){var t=e.getVideoPlaybackQuality();this.checkFPS(e,t.totalVideoFrames,t.droppedVideoFrames)}else this.checkFPS(e,e.webkitDecodedFrameCount,e.webkitDroppedFrameCount)},e}();t.default=a},"./repo/src/controller/fragment-finders.ts":function(e,t,r){"use strict";r.r(t),r.d(t,"findFragmentByPDT",(function(){return a})),r.d(t,"findFragmentByPTS",(function(){return o})),r.d(t,"fragmentWithinToleranceTest",(function(){return s})),r.d(t,"pdtWithinToleranceTest",(function(){return l})),r.d(t,"findFragWithCC",(function(){return u}));var i=r("./repo/src/polyfills/number.ts"),n=r("./repo/src/utils/binary-search.ts");function a(e,t,r){if(null===t||!Array.isArray(e)||!e.length||!Object(i.isFiniteNumber)(t))return null;if(t<(e[0].programDateTime||0))return null;if(t>=(e[e.length-1].endProgramDateTime||0))return null;r=r||0;for(var n=0;n<e.length;++n){var a=e[n];if(l(t,r,a))return a}return null}function o(e,t,r,i){void 0===r&&(r=0),void 0===i&&(i=0);var a=null;return e?a=t[e.sn-t[0].sn+1]||null:0===r&&0===t[0].start&&(a=t[0]),a&&0===s(r,i,a)?a:n.default.search(t,s.bind(null,r,i))||a}function s(e,t,r){void 0===e&&(e=0),void 0===t&&(t=0);var i=Math.min(t,r.duration+(r.deltaPTS?r.deltaPTS:0));return r.start+r.duration-i<=e?1:r.start-i>e&&r.start?-1:0}function l(e,t,r){var i=1e3*Math.min(t,r.duration+(r.deltaPTS?r.deltaPTS:0));return(r.endProgramDateTime||0)-i>e}function u(e,t){return n.default.search(e,(function(e){return e.cc<t?1:e.cc>t?-1:0}))}},"./repo/src/controller/fragment-tracker.ts":function(e,t,r){"use strict";r.r(t),r.d(t,"FragmentState",(function(){return i})),r.d(t,"FragmentTracker",(function(){return o}));var i,n=r("./repo/src/events.ts"),a=r("./repo/src/types/loader.ts");!function(e){e.NOT_LOADED="NOT_LOADED",e.BACKTRACKED="BACKTRACKED",e.APPENDING="APPENDING",e.PARTIAL="PARTIAL",e.OK="OK"}(i||(i={}));var o=function(){function e(e){this.activeFragment=null,this.activeParts=null,this.fragments=Object.create(null),this.timeRanges=Object.create(null),this.bufferPadding=.2,this.hls=void 0,this.hls=e,this._registerListeners()}var t=e.prototype;return t._registerListeners=function(){var e=this.hls;e.on(n.Events.BUFFER_APPENDED,this.onBufferAppended,this),e.on(n.Events.FRAG_BUFFERED,this.onFragBuffered,this),e.on(n.Events.FRAG_LOADED,this.onFragLoaded,this)},t._unregisterListeners=function(){var e=this.hls;e.off(n.Events.BUFFER_APPENDED,this.onBufferAppended,this),e.off(n.Events.FRAG_BUFFERED,this.onFragBuffered,this),e.off(n.Events.FRAG_LOADED,this.onFragLoaded,this)},t.destroy=function(){this._unregisterListeners(),this.fragments=this.timeRanges=null},t.getAppendedFrag=function(e,t){if(t===a.PlaylistLevelType.MAIN){var r=this.activeFragment,i=this.activeParts;if(!r)return null;if(i)for(var n=i.length;n--;){var o=i[n],s=o?o.end:r.appendedPTS;if(o.start<=e&&void 0!==s&&e<=s)return n>9&&(this.activeParts=i.slice(n-9)),o}else if(r.start<=e&&void 0!==r.appendedPTS&&e<=r.appendedPTS)return r}return this.getBufferedFrag(e,t)},t.getBufferedFrag=function(e,t){for(var r=this.fragments,i=Object.keys(r),n=i.length;n--;){var a=r[i[n]];if((null==a?void 0:a.body.type)===t&&a.buffered){var o=a.body;if(o.start<=e&&e<=o.end)return o}}return null},t.detectEvictedFragments=function(e,t,r){var i=this;Object.keys(this.fragments).forEach((function(n){var a=i.fragments[n];if(a)if(a.buffered){var o=a.range[e];o&&o.time.some((function(e){var r=!i.isTimeBuffered(e.startPTS,e.endPTS,t);return r&&i.removeFragment(a.body),r}))}else a.body.type===r&&i.removeFragment(a.body)}))},t.detectPartialFragments=function(e){var t=this,r=this.timeRanges,i=e.frag,n=e.part;if(r&&"initSegment"!==i.sn){var a=l(i),o=this.fragments[a];o&&(Object.keys(r).forEach((function(e){var a=i.elementaryStreams[e];if(a){var s=r[e],l=null!==n||!0===a.partial;o.range[e]=t.getBufferedTimes(i,n,l,s)}})),o.backtrack=o.loaded=null,Object.keys(o.range).length?o.buffered=!0:this.removeFragment(o.body))}},t.fragBuffered=function(e){var t=l(e),r=this.fragments[t];r&&(r.backtrack=r.loaded=null,r.buffered=!0)},t.getBufferedTimes=function(e,t,r,i){for(var n={time:[],partial:r},a=t?t.start:e.start,o=t?t.end:e.end,s=e.minEndPTS||o,l=e.maxStartPTS||a,u=0;u<i.length;u++){var c=i.start(u)-this.bufferPadding,f=i.end(u)+this.bufferPadding;if(l>=c&&s<=f){n.time.push({startPTS:Math.max(a,i.start(u)),endPTS:Math.min(o,i.end(u))});break}if(a<f&&o>c)n.partial=!0,n.time.push({startPTS:Math.max(a,i.start(u)),endPTS:Math.min(o,i.end(u))});else if(o<=c)break}return n},t.getPartialFragment=function(e){var t,r,i,n=null,a=0,o=this.bufferPadding,l=this.fragments;return Object.keys(l).forEach((function(u){var c=l[u];c&&s(c)&&(r=c.body.start-o,i=c.body.end+o,e>=r&&e<=i&&(t=Math.min(e-r,i-e),a<=t&&(n=c.body,a=t)))})),n},t.getState=function(e){var t=l(e),r=this.fragments[t];return r?r.buffered?s(r)?i.PARTIAL:i.OK:r.backtrack?i.BACKTRACKED:i.APPENDING:i.NOT_LOADED},t.backtrack=function(e,t){var r=l(e),i=this.fragments[r];if(!i||i.backtrack)return null;var n=i.backtrack=t||i.loaded;return i.loaded=null,n},t.getBacktrackData=function(e){var t=l(e),r=this.fragments[t];if(r){var i,n=r.backtrack;if(null!=n&&null!==(i=n.payload)&&void 0!==i&&i.byteLength)return n;this.removeFragment(e)}return null},t.isTimeBuffered=function(e,t,r){for(var i,n,a=0;a<r.length;a++){if(i=r.start(a)-this.bufferPadding,n=r.end(a)+this.bufferPadding,e>=i&&t<=n)return!0;if(t<=i)return!1}return!1},t.onFragLoaded=function(e,t){var r=t.frag,i=t.part;if("initSegment"!==r.sn&&!r.bitrateTest&&!i){var n=l(r);this.fragments[n]={body:r,loaded:t,backtrack:null,buffered:!1,range:Object.create(null)}}},t.onBufferAppended=function(e,t){var r=this,i=t.frag,n=t.part,o=t.timeRanges;if(i.type===a.PlaylistLevelType.MAIN)if(this.activeFragment=i,n){var s=this.activeParts;s||(this.activeParts=s=[]),s.push(n)}else this.activeParts=null;this.timeRanges=o,Object.keys(o).forEach((function(e){var t=o[e];if(r.detectEvictedFragments(e,t),!n)for(var a=0;a<t.length;a++)i.appendedPTS=Math.max(t.end(a),i.appendedPTS||0)}))},t.onFragBuffered=function(e,t){this.detectPartialFragments(t)},t.hasFragment=function(e){var t=l(e);return!!this.fragments[t]},t.removeFragmentsInRange=function(e,t,r){var i=this;Object.keys(this.fragments).forEach((function(n){var a=i.fragments[n];if(a&&a.buffered){var o=a.body;o.type===r&&o.start<t&&o.end>e&&i.removeFragment(o)}}))},t.removeFragment=function(e){var t=l(e);e.stats.loaded=0,e.clearElementaryStreamInfo(),delete this.fragments[t]},t.removeAllFragments=function(){this.fragments=Object.create(null),this.activeFragment=null,this.activeParts=null},e}();function s(e){var t,r;return e.buffered&&((null===(t=e.range.video)||void 0===t?void 0:t.partial)||(null===(r=e.range.audio)||void 0===r?void 0:r.partial))}function l(e){return e.type+"_"+e.level+"_"+e.urlId+"_"+e.sn}},"./repo/src/controller/gap-controller.ts":function(e,t,r){"use strict";r.r(t),r.d(t,"STALL_MINIMUM_DURATION_MS",(function(){return s})),r.d(t,"MAX_START_GAP_JUMP",(function(){return l})),r.d(t,"SKIP_BUFFER_HOLE_STEP_SECONDS",(function(){return u})),r.d(t,"SKIP_BUFFER_RANGE_START",(function(){return c})),r.d(t,"default",(function(){return f}));var i=r("./repo/src/utils/buffer-helper.ts"),n=r("./repo/src/errors.ts"),a=r("./repo/src/events.ts"),o=r("./repo/src/utils/logger.ts"),s=250,l=2,u=.1,c=.05,f=function(){function e(e,t,r,i){this.config=void 0,this.media=void 0,this.fragmentTracker=void 0,this.hls=void 0,this.nudgeRetry=0,this.stallReported=!1,this.stalled=null,this.moved=!1,this.seeking=!1,this.config=e,this.media=t,this.fragmentTracker=r,this.hls=i}var t=e.prototype;return t.destroy=function(){this.hls=this.fragmentTracker=this.media=null},t.poll=function(e){var t=this.config,r=this.media,n=this.stalled,a=r.currentTime,u=r.seeking,c=this.seeking&&!u,f=!this.seeking&&u;if(this.seeking=u,a===e){if((f||c)&&(this.stalled=null),!r.paused&&!r.ended&&0!==r.playbackRate&&i.BufferHelper.getBuffered(r).length){var d=i.BufferHelper.bufferInfo(r,a,0),h=d.len>0,p=d.nextStart||0;if(h||p){if(u){var v=d.len>l,m=!p||p-a>l&&!this.fragmentTracker.getPartialFragment(a);if(v||m)return;this.moved=!1}if(!this.moved&&null!==this.stalled){var g,y=Math.max(p,d.start||0)-a,b=this.hls.levels?this.hls.levels[this.hls.currentLevel]:null,E=(null==b||null===(g=b.details)||void 0===g?void 0:g.live)?2*b.details.targetduration:l;if(y>0&&y<=E)return void this._trySkipBufferHole(null)}var C=self.performance.now();if(null!==n){var S=C-n;!u&&S>=s&&this._reportStall(d.len);var w=i.BufferHelper.bufferInfo(r,a,t.maxBufferHole);this._tryFixBufferStall(w,S)}else this.stalled=C}}}else if(this.moved=!0,null!==n){if(this.stallReported){var T=self.performance.now()-n;o.logger.warn("playback not stuck anymore @"+a+", after "+Math.round(T)+"ms"),this.stallReported=!1}this.stalled=null,this.nudgeRetry=0}},t._tryFixBufferStall=function(e,t){var r=this.config,i=this.fragmentTracker,n=this.media.currentTime,a=i.getPartialFragment(n);a&&this._trySkipBufferHole(a)||e.len>r.maxBufferHole&&t>1e3*r.highBufferWatchdogPeriod&&(o.logger.warn("Trying to nudge playhead over buffer-hole"),this.stalled=null,this._tryNudgeBuffer())},t._reportStall=function(e){var t=this.hls,r=this.media;this.stallReported||(this.stallReported=!0,o.logger.warn("Playback stalling at @"+r.currentTime+" due to low buffer (buffer="+e+")"),t.trigger(a.Events.ERROR,{type:n.ErrorTypes.MEDIA_ERROR,details:n.ErrorDetails.BUFFER_STALLED_ERROR,fatal:!1,buffer:e}))},t._trySkipBufferHole=function(e){for(var t=this.config,r=this.hls,s=this.media,l=s.currentTime,f=0,d=i.BufferHelper.getBuffered(s),h=0;h<d.length;h++){var p=d.start(h);if(l+t.maxBufferHole>=f&&l<p){var v=Math.max(p+c,s.currentTime+u);return o.logger.warn("skipping hole, adjusting currentTime from "+l+" to "+v),this.moved=!0,this.stalled=null,s.currentTime=v,e&&r.trigger(a.Events.ERROR,{type:n.ErrorTypes.MEDIA_ERROR,details:n.ErrorDetails.BUFFER_SEEK_OVER_HOLE,fatal:!1,reason:"fragment loaded with buffer holes, seeking from "+l+" to "+v,frag:e}),v}f=d.end(h)}return 0},t._tryNudgeBuffer=function(){var e=this.config,t=this.hls,r=this.media,i=this.nudgeRetry,s=r.currentTime;if(this.nudgeRetry++,i<e.nudgeMaxRetry){var l=s+(i+1)*e.nudgeOffset;o.logger.warn("Nudging 'currentTime' from "+s+" to "+l),r.currentTime=l,t.trigger(a.Events.ERROR,{type:n.ErrorTypes.MEDIA_ERROR,details:n.ErrorDetails.BUFFER_NUDGE_ON_STALL,fatal:!1})}else o.logger.error("Playhead still not moving while enough data buffered @"+s+" after "+e.nudgeMaxRetry+" nudges"),t.trigger(a.Events.ERROR,{type:n.ErrorTypes.MEDIA_ERROR,details:n.ErrorDetails.BUFFER_STALLED_ERROR,fatal:!0})},e}()},"./repo/src/controller/id3-track-controller.ts":function(e,t,r){"use strict";r.r(t);var i=r("./repo/src/events.ts"),n=r("./repo/src/utils/texttrack-utils.ts"),a=r("./repo/src/demux/id3.ts"),o=function(){function e(e){this.hls=void 0,this.id3Track=null,this.media=null,this.hls=e,this._registerListeners()}var t=e.prototype;return t.destroy=function(){this._unregisterListeners()},t._registerListeners=function(){var e=this.hls;e.on(i.Events.MEDIA_ATTACHED,this.onMediaAttached,this),e.on(i.Events.MEDIA_DETACHING,this.onMediaDetaching,this),e.on(i.Events.FRAG_PARSING_METADATA,this.onFragParsingMetadata,this),e.on(i.Events.BUFFER_FLUSHING,this.onBufferFlushing,this)},t._unregisterListeners=function(){var e=this.hls;e.off(i.Events.MEDIA_ATTACHED,this.onMediaAttached,this),e.off(i.Events.MEDIA_DETACHING,this.onMediaDetaching,this),e.off(i.Events.FRAG_PARSING_METADATA,this.onFragParsingMetadata,this),e.off(i.Events.BUFFER_FLUSHING,this.onBufferFlushing,this)},t.onMediaAttached=function(e,t){this.media=t.media},t.onMediaDetaching=function(){this.id3Track&&(Object(n.clearCurrentCues)(this.id3Track),this.id3Track=null,this.media=null)},t.getID3Track=function(e){if(this.media){for(var t=0;t<e.length;t++){var r=e[t];if("metadata"===r.kind&&"id3"===r.label)return Object(n.sendAddTrackEvent)(r,this.media),r}return this.media.addTextTrack("metadata","id3")}},t.onFragParsingMetadata=function(e,t){if(this.media){var r=t.frag,i=t.samples;this.id3Track||(this.id3Track=this.getID3Track(this.media.textTracks),this.id3Track.mode="hidden");for(var n=self.WebKitDataCue||self.VTTCue||self.TextTrackCue,o=0;o<i.length;o++){var s=a.getID3Frames(i[o].data);if(s){var l=i[o].pts,u=o<i.length-1?i[o+1].pts:r.end;u-l<=0&&(u=l+.25);for(var c=0;c<s.length;c++){var f=s[c];if(!a.isTimeStampFrame(f)){var d=new n(l,u,"");d.value=f,this.id3Track.addCue(d)}}}}}},t.onBufferFlushing=function(e,t){var r=t.startOffset,i=t.endOffset,a=t.type;if(!a||"audio"===a){var o=this.id3Track;o&&Object(n.removeCuesInRange)(o,r,i)}},e}();t.default=o},"./repo/src/controller/latency-controller.ts":function(e,t,r){"use strict";r.r(t),r.d(t,"default",(function(){return s}));var i=r("./repo/src/errors.ts"),n=r("./repo/src/events.ts"),a=r("./repo/src/utils/logger.ts");function o(e,t){for(var r=0;r<t.length;r++){var i=t[r];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}var s=function(){function e(e){var t=this;this.hls=void 0,this.config=void 0,this.media=null,this.levelDetails=null,this.currentTime=0,this.stallCount=0,this._latency=null,this.timeupdateHandler=function(){return t.timeupdate()},this.hls=e,this.config=e.config,this.registerListeners()}var t,r,s=e.prototype;return s.destroy=function(){this.unregisterListeners(),this.onMediaDetaching(),this.levelDetails=null,this.hls=this.timeupdateHandler=null},s.registerListeners=function(){this.hls.on(n.Events.MEDIA_ATTACHED,this.onMediaAttached,this),this.hls.on(n.Events.MEDIA_DETACHING,this.onMediaDetaching,this),this.hls.on(n.Events.MANIFEST_LOADING,this.onManifestLoading,this),this.hls.on(n.Events.LEVEL_UPDATED,this.onLevelUpdated,this),this.hls.on(n.Events.ERROR,this.onError,this)},s.unregisterListeners=function(){this.hls.off(n.Events.MEDIA_ATTACHED,this.onMediaAttached),this.hls.off(n.Events.MEDIA_DETACHING,this.onMediaDetaching),this.hls.off(n.Events.MANIFEST_LOADING,this.onManifestLoading),this.hls.off(n.Events.LEVEL_UPDATED,this.onLevelUpdated),this.hls.off(n.Events.ERROR,this.onError)},s.onMediaAttached=function(e,t){this.media=t.media,this.media.addEventListener("timeupdate",this.timeupdateHandler)},s.onMediaDetaching=function(){this.media&&(this.media.removeEventListener("timeupdate",this.timeupdateHandler),this.media=null)},s.onManifestLoading=function(){this.levelDetails=null,this._latency=null,this.stallCount=0},s.onLevelUpdated=function(e,t){var r=t.details;this.levelDetails=r,r.advanced&&this.timeupdate(),!r.live&&this.media&&this.media.removeEventListener("timeupdate",this.timeupdateHandler)},s.onError=function(e,t){t.details===i.ErrorDetails.BUFFER_STALLED_ERROR&&(this.stallCount++,a.logger.warn("[playback-rate-controller]: Stall detected, adjusting target latency"))},s.timeupdate=function(){var e=this.media,t=this.levelDetails;if(e&&t){this.currentTime=e.currentTime;var r=this.computeLatency();if(null!==r){this._latency=r;var i=this.config,n=i.lowLatencyMode,a=i.maxLiveSyncPlaybackRate;if(n&&1!==a){var o=this.targetLatency;if(null!==o){var s=r-o,l=s<Math.min(this.maxLatency,o+t.targetduration);if(t.live&&l&&s>.05&&this.forwardBufferLength>1){var u=Math.min(2,Math.max(1,a)),c=Math.round(2/(1+Math.exp(-.75*s-this.edgeStalled))*20)/20;e.playbackRate=Math.min(u,Math.max(1,c))}else 1!==e.playbackRate&&0!==e.playbackRate&&(e.playbackRate=1)}}}}},s.estimateLiveEdge=function(){var e=this.levelDetails;return null===e?null:e.edge+e.age},s.computeLatency=function(){var e=this.estimateLiveEdge();return null===e?null:e-this.currentTime},t=e,(r=[{key:"latency",get:function(){return this._latency||0}},{key:"maxLatency",get:function(){var e=this.config,t=this.levelDetails;return void 0!==e.liveMaxLatencyDuration?e.liveMaxLatencyDuration:t?e.liveMaxLatencyDurationCount*t.targetduration:0}},{key:"targetLatency",get:function(){var e=this.levelDetails;if(null===e)return null;var t=e.holdBack,r=e.partHoldBack,i=e.targetduration,n=this.config,a=n.liveSyncDuration,o=n.liveSyncDurationCount,s=n.lowLatencyMode,l=this.hls.userConfig,u=s&&r||t;(l.liveSyncDuration||l.liveSyncDurationCount||0===u)&&(u=void 0!==a?a:o*i);var c=i;return u+Math.min(1*this.stallCount,c)}},{key:"liveSyncPosition",get:function(){var e=this.estimateLiveEdge(),t=this.targetLatency,r=this.levelDetails;if(null===e||null===t||null===r)return null;var i=r.edge,n=e-t-this.edgeStalled,a=i-r.totalduration,o=i-(this.config.lowLatencyMode&&r.partTarget||r.targetduration);return Math.min(Math.max(a,n),o)}},{key:"drift",get:function(){var e=this.levelDetails;return null===e?1:e.drift}},{key:"edgeStalled",get:function(){var e=this.levelDetails;if(null===e)return 0;var t=3*(this.config.lowLatencyMode&&e.partTarget||e.targetduration);return Math.max(e.age-t,0)}},{key:"forwardBufferLength",get:function(){var e=this.media,t=this.levelDetails;if(!e||!t)return 0;var r=e.buffered.length;return(r?e.buffered.end(r-1):t.edge)-this.currentTime}}])&&o(t.prototype,r),Object.defineProperty(t,"prototype",{writable:!1}),e}()},"./repo/src/controller/level-controller.ts":function(e,t,r){"use strict";r.r(t),r.d(t,"default",(function(){return p}));var i=r("./repo/src/types/level.ts"),n=r("./repo/src/events.ts"),a=r("./repo/src/errors.ts"),o=r("./repo/src/utils/codecs.ts"),s=r("./repo/src/controller/level-helper.ts"),l=r("./repo/src/controller/base-playlist-controller.ts"),u=r("./repo/src/types/loader.ts");function c(){return(c=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var i in r)Object.prototype.hasOwnProperty.call(r,i)&&(e[i]=r[i])}return e}).apply(this,arguments)}function f(e,t){for(var r=0;r<t.length;r++){var i=t[r];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}function d(e,t){return(d=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}var h=/chrome|firefox/.test(navigator.userAgent.toLowerCase()),p=function(e){var t,r;function l(t){var r;return(r=e.call(this,t,"[level-controller]")||this)._levels=[],r._firstLevel=-1,r._startLevel=void 0,r.currentLevelIndex=-1,r.manualLevelIndex=-1,r.onParsedComplete=void 0,r._registerListeners(),r}r=e,(t=l).prototype=Object.create(r.prototype),t.prototype.constructor=t,d(t,r);var p,v,m=l.prototype;return m._registerListeners=function(){var e=this.hls;e.on(n.Events.MANIFEST_LOADED,this.onManifestLoaded,this),e.on(n.Events.LEVEL_LOADED,this.onLevelLoaded,this),e.on(n.Events.AUDIO_TRACK_SWITCHED,this.onAudioTrackSwitched,this),e.on(n.Events.FRAG_LOADED,this.onFragLoaded,this),e.on(n.Events.ERROR,this.onError,this)},m._unregisterListeners=function(){var e=this.hls;e.off(n.Events.MANIFEST_LOADED,this.onManifestLoaded,this),e.off(n.Events.LEVEL_LOADED,this.onLevelLoaded,this),e.off(n.Events.AUDIO_TRACK_SWITCHED,this.onAudioTrackSwitched,this),e.off(n.Events.FRAG_LOADED,this.onFragLoaded,this),e.off(n.Events.ERROR,this.onError,this)},m.destroy=function(){this._unregisterListeners(),this.manualLevelIndex=-1,this._levels.length=0,e.prototype.destroy.call(this)},m.startLoad=function(){this._levels.forEach((function(e){e.loadError=0})),e.prototype.startLoad.call(this)},m.onManifestLoaded=function(e,t){var r,l,u=[],c=[],f=[],d={},p=!1,v=!1,m=!1;if(t.levels.forEach((function(e){var t=e.attrs;p=p||!(!e.width||!e.height),v=v||!!e.videoCodec,m=m||!!e.audioCodec,h&&e.audioCodec&&-1!==e.audioCodec.indexOf("mp4a.40.34")&&(e.audioCodec=void 0);var r=e.bitrate+"-"+e.attrs.RESOLUTION+"-"+e.attrs.CODECS;(l=d[r])?l.url.push(e.url):(l=new i.Level(e),d[r]=l,u.push(l)),t&&(t.AUDIO&&Object(s.addGroupId)(l,"audio",t.AUDIO),t.SUBTITLES&&Object(s.addGroupId)(l,"text",t.SUBTITLES))})),(p||v)&&m&&(u=u.filter((function(e){var t=e.videoCodec,r=e.width,i=e.height;return!!t||!(!r||!i)}))),u=u.filter((function(e){var t=e.audioCodec,r=e.videoCodec;return(!t||Object(o.isCodecSupportedInMp4)(t,"audio"))&&(!r||Object(o.isCodecSupportedInMp4)(r,"video"))})),t.audioTracks&&(c=t.audioTracks.filter((function(e){return!e.audioCodec||Object(o.isCodecSupportedInMp4)(e.audioCodec,"audio")})),Object(s.assignTrackIdsByGroup)(c)),t.subtitles&&(f=t.subtitles,Object(s.assignTrackIdsByGroup)(f)),u.length>0){r=u[0].bitrate,u.sort((function(e,t){return e.bitrate-t.bitrate})),this._levels=u;for(var g=0;g<u.length;g++)if(u[g].bitrate===r){this._firstLevel=g,this.log("manifest loaded, "+u.length+" level(s) found, first bitrate: "+r);break}var y=m&&!v,b={levels:u,audioTracks:c,subtitleTracks:f,firstLevel:this._firstLevel,stats:t.stats,audio:m,video:v,altAudio:!y&&c.some((function(e){return!!e.url}))};this.hls.trigger(n.Events.MANIFEST_PARSED,b),(this.hls.config.autoStartLoad||this.hls.forceStartLoad)&&this.hls.startLoad(this.hls.config.startPosition)}else this.hls.trigger(n.Events.ERROR,{type:a.ErrorTypes.MEDIA_ERROR,details:a.ErrorDetails.MANIFEST_INCOMPATIBLE_CODECS_ERROR,fatal:!0,url:t.url,reason:"no level with compatible codecs found in manifest"})},m.onError=function(t,r){if(e.prototype.onError.call(this,t,r),!r.fatal){var i=r.context,n=this._levels[this.currentLevelIndex];if(i&&(i.type===u.PlaylistContextType.AUDIO_TRACK&&n.audioGroupIds&&i.groupId===n.audioGroupIds[n.urlId]||i.type===u.PlaylistContextType.SUBTITLE_TRACK&&n.textGroupIds&&i.groupId===n.textGroupIds[n.urlId]))this.redundantFailover(this.currentLevelIndex);else{var o,s=!1,l=!0;switch(r.details){case a.ErrorDetails.FRAG_LOAD_ERROR:case a.ErrorDetails.FRAG_LOAD_TIMEOUT:case a.ErrorDetails.KEY_LOAD_ERROR:case a.ErrorDetails.KEY_LOAD_TIMEOUT:if(r.frag){var c=this._levels[r.frag.level];c?(c.fragmentError++,c.fragmentError>this.hls.config.fragLoadingMaxRetry&&(o=r.frag.level)):o=r.frag.level}break;case a.ErrorDetails.LEVEL_LOAD_ERROR:case a.ErrorDetails.LEVEL_LOAD_TIMEOUT:i&&(i.deliveryDirectives&&(l=!1),o=i.level),s=!0;break;case a.ErrorDetails.REMUX_ALLOC_ERROR:o=r.level,s=!0}void 0!==o&&this.recoverLevel(r,o,s,l)}}},m.recoverLevel=function(e,t,r,i){var n=e.details,a=this._levels[t];if(a.loadError++,r){if(!this.retryLoadingOrFail(e))return void(this.currentLevelIndex=-1);e.levelRetry=!0}if(i){var o=a.url.length;if(o>1&&a.loadError<o)e.levelRetry=!0,this.redundantFailover(t);else if(-1===this.manualLevelIndex){var s=0===t?this._levels.length-1:t-1;this.currentLevelIndex!==s&&0===this._levels[s].loadError&&(this.warn(n+": switch to "+s),e.levelRetry=!0,this.hls.nextAutoLevel=s)}}},m.redundantFailover=function(e){var t=this._levels[e],r=t.url.length;if(r>1){var i=(t.urlId+1)%r;this.warn("Switching to redundant URL-id "+i),this._levels.forEach((function(e){e.urlId=i})),this.level=e}},m.onFragLoaded=function(e,t){var r=t.frag;if(void 0!==r&&r.type===u.PlaylistLevelType.MAIN){var i=this._levels[r.level];void 0!==i&&(i.fragmentError=0,i.loadError=0)}},m.onLevelLoaded=function(e,t){var r,i,n=t.level,a=t.details,o=this._levels[n];if(!o)return this.warn("Invalid level index "+n),void(null!==(i=t.deliveryDirectives)&&void 0!==i&&i.skip&&(a.deltaUpdateFailed=!0));n===this.currentLevelIndex?(0===o.fragmentError&&(o.loadError=0,this.retryCount=0),this.playlistLoaded(n,t,o.details)):null!==(r=t.deliveryDirectives)&&void 0!==r&&r.skip&&(a.deltaUpdateFailed=!0)},m.onAudioTrackSwitched=function(e,t){var r=this.hls.levels[this.currentLevelIndex];if(r&&r.audioGroupIds){for(var i=-1,n=this.hls.audioTracks[t.id].groupId,a=0;a<r.audioGroupIds.length;a++)if(r.audioGroupIds[a]===n){i=a;break}i!==r.urlId&&(r.urlId=i,this.startLoad())}},m.loadPlaylist=function(e){var t=this.currentLevelIndex,r=this._levels[t];if(this.canLoad&&r&&r.url.length>0){var i=r.urlId,a=r.url[i];if(e)try{a=e.addDirectives(a)}catch(e){this.warn("Could not construct new URL with HLS Delivery Directives: "+e)}this.log("Attempt loading level index "+t+(e?" at sn "+e.msn+" part "+e.part:"")+" with URL-id "+i+" "+a),this.clearTimer(),this.hls.trigger(n.Events.LEVEL_LOADING,{url:a,level:t,id:i,deliveryDirectives:e||null})}},m.removeLevel=function(e,t){var r=function(e,r){return r!==t},i=this._levels.filter((function(i,n){return n!==e||i.url.length>1&&void 0!==t&&(i.url=i.url.filter(r),i.audioGroupIds&&(i.audioGroupIds=i.audioGroupIds.filter(r)),i.textGroupIds&&(i.textGroupIds=i.textGroupIds.filter(r)),i.urlId=0,!0)})).map((function(e,t){var r=e.details;return null!=r&&r.fragments&&r.fragments.forEach((function(e){e.level=t})),e}));this._levels=i,this.hls.trigger(n.Events.LEVELS_UPDATED,{levels:i})},p=l,(v=[{key:"levels",get:function(){return 0===this._levels.length?null:this._levels}},{key:"level",get:function(){return this.currentLevelIndex},set:function(e){var t,r=this._levels;if(0!==r.length&&(this.currentLevelIndex!==e||null===(t=r[e])||void 0===t||!t.details)){if(e<0||e>=r.length){var i=e<0;if(this.hls.trigger(n.Events.ERROR,{type:a.ErrorTypes.OTHER_ERROR,details:a.ErrorDetails.LEVEL_SWITCH_ERROR,level:e,fatal:i,reason:"invalid level idx"}),i)return;e=Math.min(e,r.length-1)}this.clearTimer();var o=this.currentLevelIndex,s=r[o],l=r[e];this.log("switching to level "+e+" from "+o),this.currentLevelIndex=e;var u=c({},l,{level:e,maxBitrate:l.maxBitrate,uri:l.uri,urlId:l.urlId});delete u._urlId,this.hls.trigger(n.Events.LEVEL_SWITCHING,u);var f=l.details;if(!f||f.live){var d=this.switchParams(l.uri,null==s?void 0:s.details);this.loadPlaylist(d)}}}},{key:"manualLevel",get:function(){return this.manualLevelIndex},set:function(e){this.manualLevelIndex=e,void 0===this._startLevel&&(this._startLevel=e),-1!==e&&(this.level=e)}},{key:"firstLevel",get:function(){return this._firstLevel},set:function(e){this._firstLevel=e}},{key:"startLevel",get:function(){if(void 0===this._startLevel){var e=this.hls.config.startLevel;return void 0!==e?e:this._firstLevel}return this._startLevel},set:function(e){this._startLevel=e}},{key:"nextLoadLevel",get:function(){return-1!==this.manualLevelIndex?this.manualLevelIndex:this.hls.nextAutoLevel},set:function(e){this.level=e,-1===this.manualLevelIndex&&(this.hls.nextAutoLevel=e)}}])&&f(p.prototype,v),Object.defineProperty(p,"prototype",{writable:!1}),l}(l.default)},"./repo/src/controller/level-helper.ts":function(e,t,r){"use strict";r.r(t),r.d(t,"addGroupId",(function(){return a})),r.d(t,"assignTrackIdsByGroup",(function(){return o})),r.d(t,"updatePTS",(function(){return s})),r.d(t,"updateFragPTSDTS",(function(){return u})),r.d(t,"mergeDetails",(function(){return c})),r.d(t,"mapPartIntersection",(function(){return f})),r.d(t,"mapFragmentIntersection",(function(){return d})),r.d(t,"adjustSliding",(function(){return h})),r.d(t,"addSliding",(function(){return p})),r.d(t,"computeReloadInterval",(function(){return v})),r.d(t,"getFragmentWithSN",(function(){return m})),r.d(t,"getPartWith",(function(){return g}));var i=r("./repo/src/polyfills/number.ts"),n=r("./repo/src/utils/logger.ts");function a(e,t,r){switch(t){case"audio":e.audioGroupIds||(e.audioGroupIds=[]),e.audioGroupIds.push(r);break;case"text":e.textGroupIds||(e.textGroupIds=[]),e.textGroupIds.push(r)}}function o(e){var t={};e.forEach((function(e){var r=e.groupId||"";e.id=t[r]=t[r]||0,t[r]++}))}function s(e,t,r){l(e[t],e[r])}function l(e,t){var r=t.startPTS;if(Object(i.isFiniteNumber)(r)){var n,a=0;t.sn>e.sn?(a=r-e.start,n=e):(a=e.start-r,n=t),n.duration!==a&&(n.duration=a)}else t.sn>e.sn?e.cc===t.cc&&e.minEndPTS?t.start=e.start+(e.minEndPTS-e.start):t.start=e.start+e.duration:t.start=Math.max(e.start-t.duration,0)}function u(e,t,r,a,o,s){a-r<=0&&(n.logger.warn("Fragment should have a positive duration",t),a=r+t.duration,s=o+t.duration);var u=r,c=a,f=t.startPTS,d=t.endPTS;if(Object(i.isFiniteNumber)(f)){var h=Math.abs(f-r);Object(i.isFiniteNumber)(t.deltaPTS)?t.deltaPTS=Math.max(h,t.deltaPTS):t.deltaPTS=h,u=Math.max(r,f),r=Math.min(r,f),o=Math.min(o,t.startDTS),c=Math.min(a,d),a=Math.max(a,d),s=Math.max(s,t.endDTS)}t.duration=a-r;var p=r-t.start;t.appendedPTS=a,t.start=t.startPTS=r,t.maxStartPTS=u,t.startDTS=o,t.endPTS=a,t.minEndPTS=c,t.endDTS=s;var v,m=t.sn;if(!e||m<e.startSN||m>e.endSN)return 0;var g=m-e.startSN,y=e.fragments;for(y[g]=t,v=g;v>0;v--)l(y[v],y[v-1]);for(v=g;v<y.length-1;v++)l(y[v],y[v+1]);return e.fragmentHint&&l(y[y.length-1],e.fragmentHint),e.PTSKnown=e.alignedSliding=!0,p}function c(e,t){for(var r=null,a=e.fragments,o=a.length-1;o>=0;o--){var s=a[o].initSegment;if(s){r=s;break}}e.fragmentHint&&delete e.fragmentHint.endPTS;var l,c=0;if(d(e,t,(function(e,n){e.relurl&&(c=e.cc-n.cc),Object(i.isFiniteNumber)(e.startPTS)&&Object(i.isFiniteNumber)(e.endPTS)&&(n.start=n.startPTS=e.startPTS,n.startDTS=e.startDTS,n.appendedPTS=e.appendedPTS,n.maxStartPTS=e.maxStartPTS,n.endPTS=e.endPTS,n.endDTS=e.endDTS,n.minEndPTS=e.minEndPTS,n.duration=e.endPTS-e.startPTS,n.duration&&(l=n),t.PTSKnown=t.alignedSliding=!0),n.elementaryStreams=e.elementaryStreams,n.loader=e.loader,n.stats=e.stats,n.urlId=e.urlId,e.initSegment&&(n.initSegment=e.initSegment,r=e.initSegment)})),r&&(t.fragmentHint?t.fragments.concat(t.fragmentHint):t.fragments).forEach((function(e){var t;e.initSegment&&e.initSegment.relurl!==(null===(t=r)||void 0===t?void 0:t.relurl)||(e.initSegment=r)})),t.skippedSegments&&(t.deltaUpdateFailed=t.fragments.some((function(e){return!e})),t.deltaUpdateFailed)){n.logger.warn("[level-helper] Previous playlist missing segments skipped in delta playlist");for(var p=t.skippedSegments;p--;)t.fragments.shift();t.startSN=t.fragments[0].sn,t.startCC=t.fragments[0].cc}var v=t.fragments;if(c){n.logger.warn("discontinuity sliding from playlist, take drift into account");for(var m=0;m<v.length;m++)v[m].cc+=c}t.skippedSegments&&(t.startCC=t.fragments[0].cc),f(e.partList,t.partList,(function(e,t){t.elementaryStreams=e.elementaryStreams,t.stats=e.stats})),l?u(t,l,l.startPTS,l.endPTS,l.startDTS,l.endDTS):h(e,t),v.length&&(t.totalduration=t.edge-v[0].start),t.driftStartTime=e.driftStartTime,t.driftStart=e.driftStart;var g=t.advancedDateTime;if(t.advanced&&g){var y=t.edge;t.driftStart||(t.driftStartTime=g,t.driftStart=y),t.driftEndTime=g,t.driftEnd=y}else t.driftEndTime=e.driftEndTime,t.driftEnd=e.driftEnd,t.advancedDateTime=e.advancedDateTime}function f(e,t,r){if(e&&t)for(var i=0,n=0,a=e.length;n<=a;n++){var o=e[n],s=t[n+i];o&&s&&o.index===s.index&&o.fragment.sn===s.fragment.sn?r(o,s):i--}}function d(e,t,r){for(var i=t.skippedSegments,n=Math.max(e.startSN,t.startSN)-t.startSN,a=(e.fragmentHint?1:0)+(i?t.endSN:Math.min(e.endSN,t.endSN))-t.startSN,o=t.startSN-e.startSN,s=t.fragmentHint?t.fragments.concat(t.fragmentHint):t.fragments,l=e.fragmentHint?e.fragments.concat(e.fragmentHint):e.fragments,u=n;u<=a;u++){var c=l[o+u],f=s[u];i&&!f&&u<i&&(f=t.fragments[u]=c),c&&f&&r(c,f)}}function h(e,t){var r=t.startSN+t.skippedSegments-e.startSN,i=e.fragments;r<0||r>=i.length||p(t,i[r].start)}function p(e,t){if(t){for(var r=e.fragments,i=e.skippedSegments;i<r.length;i++)r[i].start+=t;e.fragmentHint&&(e.fragmentHint.start+=t)}}function v(e,t){var r,i=1e3*e.levelTargetDuration,n=i/2,a=e.age,o=a>0&&a<3*i,s=t.loading.end-t.loading.start,l=e.availabilityDelay;if(!1===e.updated)if(o){var u=333*e.misses;r=Math.max(Math.min(n,2*s),u),e.availabilityDelay=(e.availabilityDelay||0)+r}else r=n;else o?(l=Math.min(l||i/2,a),e.availabilityDelay=l,r=l+i-a):r=i-s;return Math.round(r)}function m(e,t,r){if(!e||!e.details)return null;var i=e.details,n=i.fragments[t-i.startSN];return n||((n=i.fragmentHint)&&n.sn===t?n:t<i.startSN&&r&&r.sn===t?r:null)}function g(e,t,r){if(!e||!e.details)return null;var i=e.details.partList;if(i)for(var n=i.length;n--;){var a=i[n];if(a.index===r&&a.fragment.sn===t)return a}return null}},"./repo/src/controller/stream-controller.ts":function(e,t,r){"use strict";r.r(t),r.d(t,"default",(function(){return y}));var i=r("./repo/src/polyfills/number.ts"),n=r("./repo/src/controller/base-stream-controller.ts"),a=r("./repo/src/is-supported.ts"),o=r("./repo/src/events.ts"),s=r("./repo/src/utils/buffer-helper.ts"),l=r("./repo/src/controller/fragment-tracker.ts"),u=r("./repo/src/types/loader.ts"),c=r("./repo/src/loader/fragment.ts"),f=r("./repo/src/demux/transmuxer-interface.ts"),d=r("./repo/src/types/transmuxer.ts"),h=r("./repo/src/controller/gap-controller.ts"),p=r("./repo/src/errors.ts"),v=r("./repo/src/utils/logger.ts");function m(e,t){for(var r=0;r<t.length;r++){var i=t[r];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}function g(e,t){return(g=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}var y=function(e){var t,r;function y(t,r){var i;return(i=e.call(this,t,r,"[stream-controller]")||this).audioCodecSwap=!1,i.gapController=null,i.level=-1,i._forceStartLoad=!1,i.altAudio=!1,i.audioOnly=!1,i.fragPlaying=null,i.onvplaying=null,i.onvseeked=null,i.fragLastKbps=0,i.stalled=!1,i.couldBacktrack=!1,i.audioCodecSwitch=!1,i.videoBuffer=null,i._registerListeners(),i}r=e,(t=y).prototype=Object.create(r.prototype),t.prototype.constructor=t,g(t,r);var b,E,C=y.prototype;return C._registerListeners=function(){var e=this.hls;e.on(o.Events.MEDIA_ATTACHED,this.onMediaAttached,this),e.on(o.Events.MEDIA_DETACHING,this.onMediaDetaching,this),e.on(o.Events.MANIFEST_LOADING,this.onManifestLoading,this),e.on(o.Events.MANIFEST_PARSED,this.onManifestParsed,this),e.on(o.Events.LEVEL_LOADING,this.onLevelLoading,this),e.on(o.Events.LEVEL_LOADED,this.onLevelLoaded,this),e.on(o.Events.FRAG_LOAD_EMERGENCY_ABORTED,this.onFragLoadEmergencyAborted,this),e.on(o.Events.ERROR,this.onError,this),e.on(o.Events.AUDIO_TRACK_SWITCHING,this.onAudioTrackSwitching,this),e.on(o.Events.AUDIO_TRACK_SWITCHED,this.onAudioTrackSwitched,this),e.on(o.Events.BUFFER_CREATED,this.onBufferCreated,this),e.on(o.Events.BUFFER_FLUSHED,this.onBufferFlushed,this),e.on(o.Events.LEVELS_UPDATED,this.onLevelsUpdated,this),e.on(o.Events.FRAG_BUFFERED,this.onFragBuffered,this)},C._unregisterListeners=function(){var e=this.hls;e.off(o.Events.MEDIA_ATTACHED,this.onMediaAttached,this),e.off(o.Events.MEDIA_DETACHING,this.onMediaDetaching,this),e.off(o.Events.MANIFEST_LOADING,this.onManifestLoading,this),e.off(o.Events.MANIFEST_PARSED,this.onManifestParsed,this),e.off(o.Events.LEVEL_LOADED,this.onLevelLoaded,this),e.off(o.Events.FRAG_LOAD_EMERGENCY_ABORTED,this.onFragLoadEmergencyAborted,this),e.off(o.Events.ERROR,this.onError,this),e.off(o.Events.AUDIO_TRACK_SWITCHING,this.onAudioTrackSwitching,this),e.off(o.Events.AUDIO_TRACK_SWITCHED,this.onAudioTrackSwitched,this),e.off(o.Events.BUFFER_CREATED,this.onBufferCreated,this),e.off(o.Events.BUFFER_FLUSHED,this.onBufferFlushed,this),e.off(o.Events.LEVELS_UPDATED,this.onLevelsUpdated,this),e.off(o.Events.FRAG_BUFFERED,this.onFragBuffered,this)},C.onHandlerDestroying=function(){this._unregisterListeners(),this.onMediaDetaching()},C.startLoad=function(e){if(this.levels){var t=this.lastCurrentTime,r=this.hls;if(this.stopLoad(),this.setInterval(100),this.level=-1,this.fragLoadError=0,!this.startFragRequested){var i=r.startLevel;-1===i&&(r.config.testBandwidth?(i=0,this.bitrateTest=!0):i=r.nextAutoLevel),this.level=r.nextLoadLevel=i,this.loadedmetadata=!1}t>0&&-1===e&&(this.log("Override startPosition with lastCurrentTime @"+t.toFixed(3)),e=t),this.state=n.State.IDLE,this.nextLoadPosition=this.startPosition=this.lastCurrentTime=e,this.tick()}else this._forceStartLoad=!0,this.state=n.State.STOPPED},C.stopLoad=function(){this._forceStartLoad=!1,e.prototype.stopLoad.call(this)},C.doTick=function(){switch(this.state){case n.State.IDLE:this.doTickIdle();break;case n.State.WAITING_LEVEL:var e,t=this.levels,r=this.level,i=null==t||null===(e=t[r])||void 0===e?void 0:e.details;if(i&&(!i.live||this.levelLastLoaded===this.level)){if(this.waitForCdnTuneIn(i))break;this.state=n.State.IDLE;break}break;case n.State.FRAG_LOADING_WAITING_RETRY:var a,o=self.performance.now(),s=this.retryDate;(!s||o>=s||null!==(a=this.media)&&void 0!==a&&a.seeking)&&(this.log("retryDate reached, switch back to IDLE state"),this.state=n.State.IDLE)}this.onTickEnd()},C.onTickEnd=function(){e.prototype.onTickEnd.call(this),this.checkBuffer(),this.checkFragmentChanged()},C.doTickIdle=function(){var e,t,r=this.hls,i=this.levelLastLoaded,a=this.levels,s=this.media,f=r.config,d=r.nextLoadLevel;if(null!==i&&(s||!this.startFragRequested&&f.startFragPrefetch)&&(!this.altAudio||!this.audioOnly)&&a&&a[d]){var h=a[d];this.level=r.nextLoadLevel=d;var p=h.details;if(!p||this.state===n.State.WAITING_LEVEL||p.live&&this.levelLastLoaded!==d)this.state=n.State.WAITING_LEVEL;else{var v=this.getFwdBufferInfo(this.mediaBuffer?this.mediaBuffer:s,u.PlaylistLevelType.MAIN);if(null!==v&&!(v.len>=this.getMaxBufferLength(h.maxBitrate))){if(this._streamEnded(v,p)){var m={};return this.altAudio&&(m.type="video"),this.hls.trigger(o.Events.BUFFER_EOS,m),void(this.state=n.State.ENDED)}var g=v.end,y=this.getNextFragment(g,p);if(this.couldBacktrack&&!this.fragPrevious&&y&&"initSegment"!==y.sn){var b=y.sn-p.startSN;b>1&&(y=p.fragments[b-1],this.fragmentTracker.removeFragment(y))}if(y&&this.fragmentTracker.getState(y)===l.FragmentState.OK&&this.nextLoadPosition>g){var E=this.audioOnly&&!this.altAudio?c.ElementaryStreamTypes.AUDIO:c.ElementaryStreamTypes.VIDEO;this.afterBufferFlushed(s,E,u.PlaylistLevelType.MAIN),y=this.getNextFragment(this.nextLoadPosition,p)}y&&(!y.initSegment||y.initSegment.data||this.bitrateTest||(y=y.initSegment),"identity"!==(null===(e=y.decryptdata)||void 0===e?void 0:e.keyFormat)||null!==(t=y.decryptdata)&&void 0!==t&&t.key?this.loadFragment(y,p,g):this.loadKey(y,p))}}}},C.loadFragment=function(t,r,i){var n,a=this.fragmentTracker.getState(t);if(this.fragCurrent=t,a===l.FragmentState.BACKTRACKED){var o=this.fragmentTracker.getBacktrackData(t);if(o)return this._handleFragmentLoadProgress(o),void this._handleFragmentLoadComplete(o);a=l.FragmentState.NOT_LOADED}a===l.FragmentState.NOT_LOADED||a===l.FragmentState.PARTIAL?"initSegment"===t.sn?this._loadInitSegment(t):this.bitrateTest?(t.bitrateTest=!0,this.log("Fragment "+t.sn+" of level "+t.level+" is being downloaded to test bitrate and will not be buffered"),this._loadBitrateTestFrag(t)):(this.startFragRequested=!0,e.prototype.loadFragment.call(this,t,r,i)):a===l.FragmentState.APPENDING?this.reduceMaxBufferLength(t.duration)&&this.fragmentTracker.removeFragment(t):0===(null===(n=this.media)||void 0===n?void 0:n.buffered.length)&&this.fragmentTracker.removeAllFragments()},C.getAppendedFrag=function(e){var t=this.fragmentTracker.getAppendedFrag(e,u.PlaylistLevelType.MAIN);return t&&"fragment"in t?t.fragment:t},C.getBufferedFrag=function(e){return this.fragmentTracker.getBufferedFrag(e,u.PlaylistLevelType.MAIN)},C.followingBufferedFrag=function(e){return e?this.getBufferedFrag(e.end+.5):null},C.immediateLevelSwitch=function(){this.abortCurrentFrag(),this.flushMainBuffer(0,Number.POSITIVE_INFINITY)},C.nextLevelSwitch=function(){var e=this.levels,t=this.media;if(null!=t&&t.readyState){var r,i=this.getAppendedFrag(t.currentTime);if(i&&i.start>1&&this.flushMainBuffer(0,i.start-1),!t.paused&&e){var n=e[this.hls.nextLoadLevel],a=this.fragLastKbps;r=a&&this.fragCurrent?this.fragCurrent.duration*n.maxBitrate/(1e3*a)+1:0}else r=0;var o=this.getBufferedFrag(t.currentTime+r);if(o){var s=this.followingBufferedFrag(o);if(s){this.abortCurrentFrag();var l=s.maxStartPTS?s.maxStartPTS:s.start,u=s.duration,c=Math.max(o.end,l+Math.min(Math.max(u-this.config.maxFragLookUpTolerance,.5*u),.75*u));this.flushMainBuffer(c,Number.POSITIVE_INFINITY)}}}},C.abortCurrentFrag=function(){var e=this.fragCurrent;this.fragCurrent=null,null!=e&&e.loader&&e.loader.abort(),this.state===n.State.KEY_LOADING&&(this.state=n.State.IDLE),this.nextLoadPosition=this.getLoadPosition()},C.flushMainBuffer=function(t,r){e.prototype.flushMainBuffer.call(this,t,r,this.altAudio?"video":null)},C.onMediaAttached=function(t,r){e.prototype.onMediaAttached.call(this,t,r);var i=r.media;this.onvplaying=this.onMediaPlaying.bind(this),this.onvseeked=this.onMediaSeeked.bind(this),i.addEventListener("playing",this.onvplaying),i.addEventListener("seeked",this.onvseeked),this.gapController=new h.default(this.config,i,this.fragmentTracker,this.hls)},C.onMediaDetaching=function(){var t=this.media;t&&(t.removeEventListener("playing",this.onvplaying),t.removeEventListener("seeked",this.onvseeked),this.onvplaying=this.onvseeked=null,this.videoBuffer=null),this.fragPlaying=null,this.gapController&&(this.gapController.destroy(),this.gapController=null),e.prototype.onMediaDetaching.call(this)},C.onMediaPlaying=function(){this.tick()},C.onMediaSeeked=function(){var e=this.media,t=e?e.currentTime:null;Object(i.isFiniteNumber)(t)&&this.log("Media seeked to "+t.toFixed(3)),this.tick()},C.onManifestLoading=function(){this.log("Trigger BUFFER_RESET"),this.hls.trigger(o.Events.BUFFER_RESET,void 0),this.fragmentTracker.removeAllFragments(),this.couldBacktrack=this.stalled=!1,this.startPosition=this.lastCurrentTime=0,this.fragPlaying=null},C.onManifestParsed=function(e,t){var r,i=!1,n=!1;t.levels.forEach((function(e){(r=e.audioCodec)&&(-1!==r.indexOf("mp4a.40.2")&&(i=!0),-1!==r.indexOf("mp4a.40.5")&&(n=!0))})),this.audioCodecSwitch=i&&n&&!Object(a.changeTypeSupported)(),this.audioCodecSwitch&&this.log("Both AAC/HE-AAC audio found in levels; declaring level codec as HE-AAC"),this.levels=t.levels,this.startFragRequested=!1},C.onLevelLoading=function(e,t){var r=this.levels;if(r&&this.state===n.State.IDLE){var i=r[t.level];(!i.details||i.details.live&&this.levelLastLoaded!==t.level||this.waitForCdnTuneIn(i.details))&&(this.state=n.State.WAITING_LEVEL)}},C.onLevelLoaded=function(e,t){var r,i=this.levels,a=t.level,s=t.details,l=s.totalduration;if(i){this.log("Level "+a+" loaded ["+s.startSN+","+s.endSN+"], cc ["+s.startCC+", "+s.endCC+"] duration:"+l);var u=this.fragCurrent;!u||this.state!==n.State.FRAG_LOADING&&this.state!==n.State.FRAG_LOADING_WAITING_RETRY||u.level!==t.level&&u.loader&&(this.state=n.State.IDLE,u.loader.abort());var c=i[a],f=0;if(s.live||null!==(r=c.details)&&void 0!==r&&r.live){if(s.fragments[0]||(s.deltaUpdateFailed=!0),s.deltaUpdateFailed)return;f=this.alignPlaylists(s,c.details)}if(c.details=s,this.levelLastLoaded=a,this.hls.trigger(o.Events.LEVEL_UPDATED,{details:s,level:a}),this.state===n.State.WAITING_LEVEL){if(this.waitForCdnTuneIn(s))return;this.state=n.State.IDLE}this.startFragRequested?s.live&&this.synchronizeToLiveEdge(s):this.setStartPosition(s,f),this.tick()}else this.warn("Levels were reset while loading level "+a)},C._handleFragmentLoadProgress=function(e){var t,r=e.frag,i=e.part,n=e.payload,a=this.levels;if(a){var o=a[r.level],s=o.details;if(s){var l=o.videoCodec,c=s.PTSKnown||!s.live,h=null===(t=r.initSegment)||void 0===t?void 0:t.data,p=this._getAudioCodec(o),v=this.transmuxer=this.transmuxer||new f.default(this.hls,u.PlaylistLevelType.MAIN,this._handleTransmuxComplete.bind(this),this._handleTransmuxerFlush.bind(this)),m=i?i.index:-1,g=-1!==m,y=new d.ChunkMetadata(r.level,r.sn,r.stats.chunkCount,n.byteLength,m,g),b=this.initPTS[r.cc];v.push(n,h,p,l,r,i,s.totalduration,c,y,b)}else this.warn("Dropping fragment "+r.sn+" of level "+r.level+" after level details were reset")}else this.warn("Levels were reset while fragment load was in progress. Fragment "+r.sn+" of level "+r.level+" will not be buffered")},C.onAudioTrackSwitching=function(e,t){var r=this.altAudio,i=!!t.url,n=t.id;if(!i){if(this.mediaBuffer!==this.media){this.log("Switching on main audio, use media.buffered to schedule main fragment loading"),this.mediaBuffer=this.media;var a=this.fragCurrent;null!=a&&a.loader&&(this.log("Switching to main audio track, cancel main fragment load"),a.loader.abort()),this.resetTransmuxer(),this.resetLoadingState()}else this.audioOnly&&this.resetTransmuxer();var s=this.hls;r&&s.trigger(o.Events.BUFFER_FLUSHING,{startOffset:0,endOffset:Number.POSITIVE_INFINITY,type:"audio"}),s.trigger(o.Events.AUDIO_TRACK_SWITCHED,{id:n})}},C.onAudioTrackSwitched=function(e,t){var r=t.id,i=!!this.hls.audioTracks[r].url;if(i){var n=this.videoBuffer;n&&this.mediaBuffer!==n&&(this.log("Switching on alternate audio, use video.buffered to schedule main fragment loading"),this.mediaBuffer=n)}this.altAudio=i,this.tick()},C.onBufferCreated=function(e,t){var r,i,n=t.tracks,a=!1;for(var o in n){var s=n[o];if("main"===s.id){if(i=o,r=s,"video"===o){var l=n[o];l&&(this.videoBuffer=l.buffer)}}else a=!0}a&&r?(this.log("Alternate track found, use "+i+".buffered to schedule main fragment loading"),this.mediaBuffer=r.buffer):this.mediaBuffer=this.media},C.onFragBuffered=function(e,t){var r=t.frag,i=t.part;if(!r||r.type===u.PlaylistLevelType.MAIN){if(this.fragContextChanged(r))return this.warn("Fragment "+r.sn+(i?" p: "+i.index:"")+" of level "+r.level+" finished buffering, but was aborted. state: "+this.state),void(this.state===n.State.PARSED&&(this.state=n.State.IDLE));var a=i?i.stats:r.stats;this.fragLastKbps=Math.round(8*a.total/(a.buffering.end-a.loading.first)),"initSegment"!==r.sn&&(this.fragPrevious=r),this.fragBufferedComplete(r,i)}},C.onError=function(e,t){switch(t.details){case p.ErrorDetails.FRAG_LOAD_ERROR:case p.ErrorDetails.FRAG_LOAD_TIMEOUT:case p.ErrorDetails.KEY_LOAD_ERROR:case p.ErrorDetails.KEY_LOAD_TIMEOUT:this.onFragmentOrKeyLoadError(u.PlaylistLevelType.MAIN,t);break;case p.ErrorDetails.LEVEL_LOAD_ERROR:case p.ErrorDetails.LEVEL_LOAD_TIMEOUT:this.state!==n.State.ERROR&&(t.fatal?(this.warn(""+t.details),this.state=n.State.ERROR):t.levelRetry||this.state!==n.State.WAITING_LEVEL||(this.state=n.State.IDLE));break;case p.ErrorDetails.BUFFER_FULL_ERROR:if("main"===t.parent&&(this.state===n.State.PARSING||this.state===n.State.PARSED)){var r=!0,i=this.getFwdBufferInfo(this.media,u.PlaylistLevelType.MAIN);i&&i.len>.5&&(r=!this.reduceMaxBufferLength(i.len)),r&&(this.warn("buffer full error also media.currentTime is not buffered, flush main"),this.immediateLevelSwitch()),this.resetLoadingState()}}},C.checkBuffer=function(){var e=this.media,t=this.gapController;if(e&&t&&e.readyState){var r=s.BufferHelper.getBuffered(e);!this.loadedmetadata&&r.length?(this.loadedmetadata=!0,this.seekToStartPos()):t.poll(this.lastCurrentTime),this.lastCurrentTime=e.currentTime}},C.onFragLoadEmergencyAborted=function(){this.state=n.State.IDLE,this.loadedmetadata||(this.startFragRequested=!1,this.nextLoadPosition=this.startPosition),this.tickImmediate()},C.onBufferFlushed=function(e,t){var r=t.type;if(r!==c.ElementaryStreamTypes.AUDIO||this.audioOnly&&!this.altAudio){var i=(r===c.ElementaryStreamTypes.VIDEO?this.videoBuffer:this.mediaBuffer)||this.media;this.afterBufferFlushed(i,r,u.PlaylistLevelType.MAIN)}},C.onLevelsUpdated=function(e,t){this.levels=t.levels},C.swapAudioCodec=function(){this.audioCodecSwap=!this.audioCodecSwap},C.seekToStartPos=function(){var e=this.media,t=e.currentTime,r=this.startPosition;if(r>=0&&t<r){if(e.seeking)return void v.logger.log("could not seek to "+r+", already seeking at "+t);var i=s.BufferHelper.getBuffered(e),n=(i.length?i.start(0):0)-r;n>0&&(n<this.config.maxBufferHole||n<this.config.maxFragLookUpTolerance)&&(v.logger.log("adjusting start position by "+n+" to match buffer start"),r+=n,this.startPosition=r),this.log("seek to target start position "+r+" from current time "+t),e.currentTime=r}},C._getAudioCodec=function(e){var t=this.config.defaultAudioCodec||e.audioCodec;return this.audioCodecSwap&&t&&(this.log("Swapping audio codec"),t=-1!==t.indexOf("mp4a.40.5")?"mp4a.40.2":"mp4a.40.5"),t},C._loadBitrateTestFrag=function(e){var t=this;this._doFragLoad(e).then((function(r){var i=t.hls;if(r&&!i.nextLoadLevel&&!t.fragContextChanged(e)){t.fragLoadError=0,t.state=n.State.IDLE,t.startFragRequested=!1,t.bitrateTest=!1;var a=e.stats;a.parsing.start=a.parsing.end=a.buffering.start=a.buffering.end=self.performance.now(),i.trigger(o.Events.FRAG_LOADED,r)}}))},C._handleTransmuxComplete=function(e){var t,r="main",a=this.hls,s=e.remuxResult,l=e.chunkMeta,u=this.getCurrentContext(l);if(!u)return this.warn("The loading context changed while buffering fragment "+l.sn+" of level "+l.level+". This chunk will not be buffered."),void this.resetLiveStartWhenNotLoaded(l.level);var f=u.frag,d=u.part,h=u.level,p=s.video,v=s.text,m=s.id3,g=s.initSegment,y=this.altAudio?void 0:s.audio;if(!this.fragContextChanged(f)){if(this.state=n.State.PARSING,g){g.tracks&&(this._bufferInitSegment(h,g.tracks,f,l),a.trigger(o.Events.FRAG_PARSING_INIT_SEGMENT,{frag:f,id:r,tracks:g.tracks}));var b=g.initPTS,E=g.timescale;Object(i.isFiniteNumber)(b)&&(this.initPTS[f.cc]=b,a.trigger(o.Events.INIT_PTS_FOUND,{frag:f,id:r,initPTS:b,timescale:E}))}if(p&&!1!==s.independent){if(h.details){var C=p.startPTS,S=p.endPTS,w=p.startDTS,T=p.endDTS;if(d)d.elementaryStreams[p.type]={startPTS:C,endPTS:S,startDTS:w,endDTS:T};else if(p.firstKeyFrame&&p.independent&&(this.couldBacktrack=!0),p.dropped&&p.independent){if(this.getLoadPosition()+this.config.maxBufferHole<C)return void this.backtrack(f);f.setElementaryStreamInfo(p.type,f.start,S,f.start,T,!0)}f.setElementaryStreamInfo(p.type,C,S,w,T),this.bufferFragmentData(p,f,d,l)}}else if(!1===s.independent)return void this.backtrack(f);if(y){var x=y.startPTS,R=y.endPTS,L=y.startDTS,k=y.endDTS;d&&(d.elementaryStreams[c.ElementaryStreamTypes.AUDIO]={startPTS:x,endPTS:R,startDTS:L,endDTS:k}),f.setElementaryStreamInfo(c.ElementaryStreamTypes.AUDIO,x,R,L,k),this.bufferFragmentData(y,f,d,l)}if(null!=m&&null!==(t=m.samples)&&void 0!==t&&t.length){var _={frag:f,id:r,samples:m.samples};a.trigger(o.Events.FRAG_PARSING_METADATA,_)}if(v){var A={frag:f,id:r,samples:v.samples};a.trigger(o.Events.FRAG_PARSING_USERDATA,A)}}},C._bufferInitSegment=function(e,t,r,i){var a=this;if(this.state===n.State.PARSING){this.audioOnly=!!t.audio&&!t.video,this.altAudio&&!this.audioOnly&&delete t.audio;var s=t.audio,l=t.video,u=t.audiovideo;if(s){var c=e.audioCodec,f=navigator.userAgent.toLowerCase();this.audioCodecSwitch&&(c&&(c=-1!==c.indexOf("mp4a.40.5")?"mp4a.40.2":"mp4a.40.5"),1!==s.metadata.channelCount&&-1===f.indexOf("firefox")&&(c="mp4a.40.5")),-1!==f.indexOf("android")&&"audio/mpeg"!==s.container&&(c="mp4a.40.2",this.log("Android: force audio codec to "+c)),e.audioCodec&&e.audioCodec!==c&&this.log('Swapping manifest audio codec "'+e.audioCodec+'" for "'+c+'"'),s.levelCodec=c,s.id="main",this.log("Init audio buffer, container:"+s.container+", codecs[selected/level/parsed]=["+(c||"")+"/"+(e.audioCodec||"")+"/"+s.codec+"]")}l&&(l.levelCodec=e.videoCodec,l.id="main",this.log("Init video buffer, container:"+l.container+", codecs[level/parsed]=["+(e.videoCodec||"")+"/"+l.codec+"]")),u&&this.log("Init audiovideo buffer, container:"+u.container+", codecs[level/parsed]=["+(e.attrs.CODECS||"")+"/"+u.codec+"]"),this.hls.trigger(o.Events.BUFFER_CODECS,t),Object.keys(t).forEach((function(e){var n=t[e].initSegment;null!=n&&n.byteLength&&a.hls.trigger(o.Events.BUFFER_APPENDING,{type:e,data:n,frag:r,part:null,chunkMeta:i,parent:r.type})})),this.tick()}},C.backtrack=function(e){this.couldBacktrack=!0,this.resetTransmuxer(),this.flushBufferGap(e);var t=this.fragmentTracker.backtrack(e);this.fragPrevious=null,this.nextLoadPosition=e.start,t?this.resetFragmentLoading(e):this.state=n.State.BACKTRACKING},C.checkFragmentChanged=function(){var e=this.media,t=null;if(e&&e.readyState>1&&!1===e.seeking){var r=e.currentTime;if(s.BufferHelper.isBuffered(e,r)?t=this.getAppendedFrag(r):s.BufferHelper.isBuffered(e,r+.1)&&(t=this.getAppendedFrag(r+.1)),t){var i=this.fragPlaying,n=t.level;i&&t.sn===i.sn&&i.level===n&&t.urlId===i.urlId||(this.hls.trigger(o.Events.FRAG_CHANGED,{frag:t}),i&&i.level===n||this.hls.trigger(o.Events.LEVEL_SWITCHED,{level:n}),this.fragPlaying=t)}}},b=y,(E=[{key:"nextLevel",get:function(){var e=this.nextBufferedFrag;return e?e.level:-1}},{key:"currentLevel",get:function(){var e=this.media;if(e){var t=this.getAppendedFrag(e.currentTime);if(t)return t.level}return-1}},{key:"nextBufferedFrag",get:function(){var e=this.media;if(e){var t=this.getAppendedFrag(e.currentTime);return this.followingBufferedFrag(t)}return null}},{key:"forceStartLoad",get:function(){return this._forceStartLoad}}])&&m(b.prototype,E),Object.defineProperty(b,"prototype",{writable:!1}),y}(n.default)},"./repo/src/demux/aacdemuxer.ts":function(e,t,r){"use strict";r.r(t);var i=r("./repo/src/demux/base-audio-demuxer.ts"),n=r("./repo/src/demux/adts.ts"),a=r("./repo/src/utils/logger.ts"),o=r("./repo/src/demux/id3.ts");function s(e,t){return(s=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}var l=function(e){var t,r;function i(t,r){var i;return(i=e.call(this)||this).observer=void 0,i.config=void 0,i.observer=t,i.config=r,i}r=e,(t=i).prototype=Object.create(r.prototype),t.prototype.constructor=t,s(t,r);var l=i.prototype;return l.resetInitSegment=function(t,r,i,n){e.prototype.resetInitSegment.call(this,t,r,i,n),this._audioTrack={container:"audio/adts",type:"audio",id:2,pid:-1,sequenceNumber:0,isAAC:!0,samples:[],manifestCodec:r,duration:n,inputTimeScale:9e4,dropped:0}},i.probe=function(e){if(!e)return!1;for(var t=(o.getID3Data(e,0)||[]).length,r=e.length;t<r;t++)if(n.probe(e,t))return a.logger.log("ADTS sync word found !"),!0;return!1},l.canParse=function(e,t){return n.canParse(e,t)},l.appendFrame=function(e,t,r){n.initTrackConfig(e,this.observer,t,r,e.manifestCodec);var i=n.appendFrame(e,t,r,this.initPTS,this.frameIndex);if(i&&0===i.missing)return i},i}(i.default);l.minProbeByteLength=9,t.default=l},"./repo/src/demux/adts.ts":function(e,t,r){"use strict";r.r(t),r.d(t,"getAudioConfig",(function(){return o})),r.d(t,"isHeaderPattern",(function(){return s})),r.d(t,"getHeaderLength",(function(){return l})),r.d(t,"getFullFrameLength",(function(){return u})),r.d(t,"canGetFrameLength",(function(){return c})),r.d(t,"isHeader",(function(){return f})),r.d(t,"canParse",(function(){return d})),r.d(t,"probe",(function(){return h})),r.d(t,"initTrackConfig",(function(){return p})),r.d(t,"getFrameDuration",(function(){return v})),r.d(t,"parseFrameHeader",(function(){return m})),r.d(t,"appendFrame",(function(){return g}));var i=r("./repo/src/utils/logger.ts"),n=r("./repo/src/errors.ts"),a=r("./repo/src/events.ts");function o(e,t,r,o){var s,l,u,c,f=navigator.userAgent.toLowerCase(),d=o,h=[96e3,88200,64e3,48e3,44100,32e3,24e3,22050,16e3,12e3,11025,8e3,7350];s=1+((192&t[r+2])>>>6);var p=(60&t[r+2])>>>2;if(!(p>h.length-1))return u=(1&t[r+2])<<2,u|=(192&t[r+3])>>>6,i.logger.log("manifest codec:"+o+", ADTS type:"+s+", samplingIndex:"+p),/firefox/i.test(f)?p>=6?(s=5,c=new Array(4),l=p-3):(s=2,c=new Array(2),l=p):-1!==f.indexOf("android")?(s=2,c=new Array(2),l=p):(s=5,c=new Array(4),o&&(-1!==o.indexOf("mp4a.40.29")||-1!==o.indexOf("mp4a.40.5"))||!o&&p>=6?l=p-3:((o&&-1!==o.indexOf("mp4a.40.2")&&(p>=6&&1===u||/vivaldi/i.test(f))||!o&&1===u)&&(s=2,c=new Array(2)),l=p)),c[0]=s<<3,c[0]|=(14&p)>>1,c[1]|=(1&p)<<7,c[1]|=u<<3,5===s&&(c[1]|=(14&l)>>1,c[2]=(1&l)<<7,c[2]|=8,c[3]=0),{config:c,samplerate:h[p],channelCount:u,codec:"mp4a.40."+s,manifestCodec:d};e.trigger(a.Events.ERROR,{type:n.ErrorTypes.MEDIA_ERROR,details:n.ErrorDetails.FRAG_PARSING_ERROR,fatal:!0,reason:"invalid ADTS sampling index:"+p})}function s(e,t){return 255===e[t]&&240==(246&e[t+1])}function l(e,t){return 1&e[t+1]?7:9}function u(e,t){return(3&e[t+3])<<11|e[t+4]<<3|(224&e[t+5])>>>5}function c(e,t){return t+5<e.length}function f(e,t){return t+1<e.length&&s(e,t)}function d(e,t){return c(e,t)&&s(e,t)&&u(e,t)<=e.length-t}function h(e,t){if(f(e,t)){var r=l(e,t);if(t+r>=e.length)return!1;var i=u(e,t);if(i<=r)return!1;var n=t+i;return n===e.length||f(e,n)}return!1}function p(e,t,r,n,a){if(!e.samplerate){var s=o(t,r,n,a);if(!s)return;e.config=s.config,e.samplerate=s.samplerate,e.channelCount=s.channelCount,e.codec=s.codec,e.manifestCodec=s.manifestCodec,i.logger.log("parsed codec:"+e.codec+", rate:"+s.samplerate+", channels:"+s.channelCount)}}function v(e){return 9216e4/e}function m(e,t,r,i,n){var a=l(e,t),o=u(e,t);if((o-=a)>0)return{headerLength:a,frameLength:o,stamp:r+i*n}}function g(e,t,r,i,n){var a=m(t,r,i,n,v(e.samplerate));if(a){var o,s=a.frameLength,l=a.headerLength,u=a.stamp,c=l+s,f=Math.max(0,r+c-t.length);f?(o=new Uint8Array(c-l)).set(t.subarray(r+l,t.length),0):o=t.subarray(r+l,r+c);var d={unit:o,pts:u};return f||e.samples.push(d),{sample:d,length:c,missing:f}}}},"./repo/src/demux/base-audio-demuxer.ts":function(e,t,r){"use strict";r.r(t),r.d(t,"initPTSFn",(function(){return u}));var i=r("./repo/src/polyfills/number.ts"),n=r("./repo/src/demux/id3.ts"),a=r("./repo/src/demux/dummy-demuxed-track.ts"),o=r("./repo/src/utils/mp4-tools.ts"),s=r("./repo/src/utils/typed-array.ts"),l=function(){function e(){this._audioTrack=void 0,this._id3Track=void 0,this.frameIndex=0,this.cachedData=null,this.initPTS=null}var t=e.prototype;return t.resetInitSegment=function(e,t,r,i){this._id3Track={type:"id3",id:3,pid:-1,inputTimeScale:9e4,sequenceNumber:0,samples:[],dropped:0}},t.resetTimeStamp=function(){},t.resetContiguity=function(){},t.canParse=function(e,t){return!1},t.appendFrame=function(e,t,r){},t.demux=function(e,t){this.cachedData&&(e=Object(o.appendUint8Array)(this.cachedData,e),this.cachedData=null);var r,i,l=n.getID3Data(e,0),c=l?l.length:0,f=this._audioTrack,d=this._id3Track,h=l?n.getTimeStamp(l):void 0,p=e.length;for(0!==this.frameIndex&&null!==this.initPTS||(this.initPTS=u(h,t)),l&&l.length>0&&d.samples.push({pts:this.initPTS,dts:this.initPTS,data:l}),i=this.initPTS;c<p;){if(this.canParse(e,c)){var v=this.appendFrame(f,e,c);v?(this.frameIndex++,i=v.sample.pts,r=c+=v.length):c=p}else n.canParse(e,c)?(l=n.getID3Data(e,c),d.samples.push({pts:i,dts:i,data:l}),r=c+=l.length):c++;if(c===p&&r!==p){var m=Object(s.sliceUint8)(e,r);this.cachedData?this.cachedData=Object(o.appendUint8Array)(this.cachedData,m):this.cachedData=m}}return{audioTrack:f,videoTrack:Object(a.dummyTrack)(),id3Track:d,textTrack:Object(a.dummyTrack)()}},t.demuxSampleAes=function(e,t,r){return Promise.reject(new Error("["+this+"] This demuxer does not support Sample-AES decryption"))},t.flush=function(e){var t=this.cachedData;return t&&(this.cachedData=null,this.demux(t,0)),this.frameIndex=0,{audioTrack:this._audioTrack,videoTrack:Object(a.dummyTrack)(),id3Track:this._id3Track,textTrack:Object(a.dummyTrack)()}},t.destroy=function(){},e}(),u=function(e,t){return Object(i.isFiniteNumber)(e)?90*e:9e4*t};t.default=l},"./repo/src/demux/chunk-cache.ts":function(e,t,r){"use strict";r.r(t),r.d(t,"default",(function(){return i}));var i=function(){function e(){this.chunks=[],this.dataLength=0}var t=e.prototype;return t.push=function(e){this.chunks.push(e),this.dataLength+=e.length},t.flush=function(){var e,t=this.chunks,r=this.dataLength;return t.length?(e=1===t.length?t[0]:function(e,t){for(var r=new Uint8Array(t),i=0,n=0;n<e.length;n++){var a=e[n];r.set(a,i),i+=a.length}return r}(t,r),this.reset(),e):new Uint8Array(0)},t.reset=function(){this.chunks.length=0,this.dataLength=0},e}()},"./repo/src/demux/dummy-demuxed-track.ts":function(e,t,r){"use strict";function i(e,t){return void 0===e&&(e=""),void 0===t&&(t=9e4),{type:e,id:-1,pid:-1,inputTimeScale:t,sequenceNumber:-1,samples:[],dropped:0}}r.r(t),r.d(t,"dummyTrack",(function(){return i}))},"./repo/src/demux/exp-golomb.ts":function(e,t,r){"use strict";r.r(t);var i=r("./repo/src/utils/logger.ts"),n=function(){function e(e){this.data=void 0,this.bytesAvailable=void 0,this.word=void 0,this.bitsAvailable=void 0,this.data=e,this.bytesAvailable=e.byteLength,this.word=0,this.bitsAvailable=0}var t=e.prototype;return t.loadWord=function(){var e=this.data,t=this.bytesAvailable,r=e.byteLength-t,i=new Uint8Array(4),n=Math.min(4,t);if(0===n)throw new Error("no bytes available");i.set(e.subarray(r,r+n)),this.word=new DataView(i.buffer).getUint32(0),this.bitsAvailable=8*n,this.bytesAvailable-=n},t.skipBits=function(e){var t;this.bitsAvailable>e?(this.word<<=e,this.bitsAvailable-=e):(e-=this.bitsAvailable,e-=(t=e>>3)>>3,this.bytesAvailable-=t,this.loadWord(),this.word<<=e,this.bitsAvailable-=e)},t.readBits=function(e){var t=Math.min(this.bitsAvailable,e),r=this.word>>>32-t;return e>32&&i.logger.error("Cannot read more than 32 bits at a time"),this.bitsAvailable-=t,this.bitsAvailable>0?this.word<<=t:this.bytesAvailable>0&&this.loadWord(),(t=e-t)>0&&this.bitsAvailable?r<<t|this.readBits(t):r},t.skipLZ=function(){var e;for(e=0;e<this.bitsAvailable;++e)if(0!=(this.word&2147483648>>>e))return this.word<<=e,this.bitsAvailable-=e,e;return this.loadWord(),e+this.skipLZ()},t.skipUEG=function(){this.skipBits(1+this.skipLZ())},t.skipEG=function(){this.skipBits(1+this.skipLZ())},t.readUEG=function(){var e=this.skipLZ();return this.readBits(e+1)-1},t.readEG=function(){var e=this.readUEG();return 1&e?1+e>>>1:-1*(e>>>1)},t.readBoolean=function(){return 1===this.readBits(1)},t.readUByte=function(){return this.readBits(8)},t.readUShort=function(){return this.readBits(16)},t.readUInt=function(){return this.readBits(32)},t.skipScalingList=function(e){for(var t=8,r=8,i=0;i<e;i++)0!==r&&(r=(t+this.readEG()+256)%256),t=0===r?t:r},t.readSPS=function(){var e,t,r,i=0,n=0,a=0,o=0,s=this.readUByte.bind(this),l=this.readBits.bind(this),u=this.readUEG.bind(this),c=this.readBoolean.bind(this),f=this.skipBits.bind(this),d=this.skipEG.bind(this),h=this.skipUEG.bind(this),p=this.skipScalingList.bind(this);s();var v=s();if(l(5),f(3),s(),h(),100===v||110===v||122===v||244===v||44===v||83===v||86===v||118===v||128===v){var m=u();if(3===m&&f(1),h(),h(),f(1),c())for(t=3!==m?8:12,r=0;r<t;r++)c()&&p(r<6?16:64)}h();var g=u();if(0===g)u();else if(1===g)for(f(1),d(),d(),e=u(),r=0;r<e;r++)d();h(),f(1);var y=u(),b=u(),E=l(1);0===E&&f(1),f(1),c()&&(i=u(),n=u(),a=u(),o=u());var C=[1,1];if(c()&&c())switch(s()){case 1:C=[1,1];break;case 2:C=[12,11];break;case 3:C=[10,11];break;case 4:C=[16,11];break;case 5:C=[40,33];break;case 6:C=[24,11];break;case 7:C=[20,11];break;case 8:C=[32,11];break;case 9:C=[80,33];break;case 10:C=[18,11];break;case 11:C=[15,11];break;case 12:C=[64,33];break;case 13:C=[160,99];break;case 14:C=[4,3];break;case 15:C=[3,2];break;case 16:C=[2,1];break;case 255:C=[s()<<8|s(),s()<<8|s()]}return{width:Math.ceil(16*(y+1)-2*i-2*n),height:(2-E)*(b+1)*16-(E?2:4)*(a+o),pixelRatio:C}},t.readSliceType=function(){return this.readUByte(),this.readUEG(),this.readUEG()},e}();t.default=n},"./repo/src/demux/id3.ts":function(e,t,r){"use strict";r.r(t),r.d(t,"isHeader",(function(){return n})),r.d(t,"isFooter",(function(){return a})),r.d(t,"getID3Data",(function(){return o})),r.d(t,"canParse",(function(){return l})),r.d(t,"getTimeStamp",(function(){return u})),r.d(t,"isTimeStampFrame",(function(){return c})),r.d(t,"getID3Frames",(function(){return d})),r.d(t,"decodeFrame",(function(){return h})),r.d(t,"utf8ArrayToStr",(function(){return y})),r.d(t,"testables",(function(){return b}));var i,n=function(e,t){return t+10<=e.length&&73===e[t]&&68===e[t+1]&&51===e[t+2]&&e[t+3]<255&&e[t+4]<255&&e[t+6]<128&&e[t+7]<128&&e[t+8]<128&&e[t+9]<128},a=function(e,t){return t+10<=e.length&&51===e[t]&&68===e[t+1]&&73===e[t+2]&&e[t+3]<255&&e[t+4]<255&&e[t+6]<128&&e[t+7]<128&&e[t+8]<128&&e[t+9]<128},o=function(e,t){for(var r=t,i=0;n(e,t);)i+=10,i+=s(e,t+6),a(e,t+10)&&(i+=10),t+=i;if(i>0)return e.subarray(r,r+i)},s=function(e,t){var r=0;return r=(127&e[t])<<21,r|=(127&e[t+1])<<14,(r|=(127&e[t+2])<<7)|127&e[t+3]},l=function(e,t){return n(e,t)&&s(e,t+6)+10<=e.length-t},u=function(e){for(var t=d(e),r=0;r<t.length;r++){var i=t[r];if(c(i))return g(i)}},c=function(e){return e&&"PRIV"===e.key&&"com.apple.streaming.transportStreamTimestamp"===e.info},f=function(e){var t=String.fromCharCode(e[0],e[1],e[2],e[3]),r=s(e,4);return{type:t,size:r,data:e.subarray(10,10+r)}},d=function(e){for(var t=0,r=[];n(e,t);){for(var i=s(e,t+6),o=(t+=10)+i;t+8<o;){var l=f(e.subarray(t)),u=h(l);u&&r.push(u),t+=l.size+10}a(e,t)&&(t+=10)}return r},h=function(e){return"PRIV"===e.type?p(e):"W"===e.type[0]?m(e):v(e)},p=function(e){if(!(e.size<2)){var t=y(e.data,!0),r=new Uint8Array(e.data.subarray(t.length+1));return{key:e.type,info:t,data:r.buffer}}},v=function(e){if(!(e.size<2)){if("TXXX"===e.type){var t=1,r=y(e.data.subarray(t),!0);t+=r.length+1;var i=y(e.data.subarray(t));return{key:e.type,info:r,data:i}}var n=y(e.data.subarray(1));return{key:e.type,data:n}}},m=function(e){if("WXXX"===e.type){if(e.size<2)return;var t=1,r=y(e.data.subarray(t),!0);t+=r.length+1;var i=y(e.data.subarray(t));return{key:e.type,info:r,data:i}}var n=y(e.data);return{key:e.type,data:n}},g=function(e){if(8===e.data.byteLength){var t=new Uint8Array(e.data),r=1&t[3],i=(t[4]<<23)+(t[5]<<15)+(t[6]<<7)+t[7];return i/=45,r&&(i+=47721858.84),Math.round(i)}},y=function(e,t){void 0===t&&(t=!1);var r=E();if(r){var i=r.decode(e);if(t){var n=i.indexOf("\0");return-1!==n?i.substring(0,n):i}return i.replace(/\0/g,"")}for(var a,o,s,l=e.length,u="",c=0;c<l;){if(0===(a=e[c++])&&t)return u;if(0!==a&&3!==a)switch(a>>4){case 0:case 1:case 2:case 3:case 4:case 5:case 6:case 7:u+=String.fromCharCode(a);break;case 12:case 13:o=e[c++],u+=String.fromCharCode((31&a)<<6|63&o);break;case 14:o=e[c++],s=e[c++],u+=String.fromCharCode((15&a)<<12|(63&o)<<6|(63&s)<<0)}}return u},b={decodeTextFrame:v};function E(){return i||void 0===self.TextDecoder||(i=new self.TextDecoder("utf-8")),i}},"./repo/src/demux/mp3demuxer.ts":function(e,t,r){"use strict";r.r(t);var i=r("./repo/src/demux/base-audio-demuxer.ts"),n=r("./repo/src/demux/id3.ts"),a=r("./repo/src/utils/logger.ts"),o=r("./repo/src/demux/mpegaudio.ts");function s(e,t){return(s=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}var l=function(e){var t,r;function i(){return e.apply(this,arguments)||this}r=e,(t=i).prototype=Object.create(r.prototype),t.prototype.constructor=t,s(t,r);var l=i.prototype;return l.resetInitSegment=function(t,r,i,n){e.prototype.resetInitSegment.call(this,t,r,i,n),this._audioTrack={container:"audio/mpeg",type:"audio",id:2,pid:-1,sequenceNumber:0,isAAC:!1,samples:[],manifestCodec:r,duration:n,inputTimeScale:9e4,dropped:0}},i.probe=function(e){if(!e)return!1;for(var t=(n.getID3Data(e,0)||[]).length,r=e.length;t<r;t++)if(o.probe(e,t))return a.logger.log("MPEG Audio sync word found !"),!0;return!1},l.canParse=function(e,t){return o.canParse(e,t)},l.appendFrame=function(e,t,r){if(null!==this.initPTS)return o.appendFrame(e,t,r,this.initPTS,this.frameIndex)},i}(i.default);l.minProbeByteLength=4,t.default=l},"./repo/src/demux/mp4demuxer.ts":function(e,t,r){"use strict";r.r(t);var i=r("./repo/src/polyfills/number.ts"),n=r("./repo/src/utils/mp4-tools.ts"),a=r("./repo/src/demux/dummy-demuxed-track.ts"),o=/\/emsg[-/]ID3/i,s=function(){function e(e,t){this.remainderData=null,this.timeOffset=0,this.config=void 0,this.videoTrack=void 0,this.audioTrack=void 0,this.id3Track=void 0,this.txtTrack=void 0,this.config=t}var t=e.prototype;return t.resetTimeStamp=function(){},t.resetInitSegment=function(e,t,r,i){var o=Object(n.parseInitSegment)(e),s=this.videoTrack=Object(a.dummyTrack)("video",1),l=this.audioTrack=Object(a.dummyTrack)("audio",1),u=this.txtTrack=Object(a.dummyTrack)("text",1);if(this.id3Track=Object(a.dummyTrack)("id3",1),this.timeOffset=0,o.video){var c=o.video,f=c.id,d=c.timescale,h=c.codec;s.id=f,s.timescale=u.timescale=d,s.codec=h}if(o.audio){var p=o.audio,v=p.id,m=p.timescale,g=p.codec;l.id=v,l.timescale=m,l.codec=g}u.id=n.RemuxerTrackIdConfig.text,s.sampleDuration=0,s.duration=l.duration=i},t.resetContiguity=function(){},e.probe=function(e){return e=e.length>16384?e.subarray(0,16384):e,Object(n.findBox)(e,["moof"]).length>0},t.demux=function(e,t){this.timeOffset=t;var r=e,i=this.videoTrack,a=this.txtTrack;if(this.config.progressive){this.remainderData&&(r=Object(n.appendUint8Array)(this.remainderData,e));var o=Object(n.segmentValidRange)(r);this.remainderData=o.remainder,i.samples=o.valid||new Uint8Array}else i.samples=r;var s=this.extractID3Track(i,t);return a.samples=Object(n.parseSamples)(t,i),{videoTrack:i,audioTrack:this.audioTrack,id3Track:s,textTrack:this.txtTrack}},t.flush=function(){var e=this.timeOffset,t=this.videoTrack,r=this.txtTrack;t.samples=this.remainderData||new Uint8Array,this.remainderData=null;var i=this.extractID3Track(t,this.timeOffset);return r.samples=Object(n.parseSamples)(e,t),{videoTrack:t,audioTrack:Object(a.dummyTrack)(),id3Track:i,textTrack:Object(a.dummyTrack)()}},t.extractID3Track=function(e,t){var r=this.id3Track;if(e.samples.length){var a=Object(n.findBox)(e.samples,["emsg"]);a&&a.forEach((function(e){var a=Object(n.parseEmsg)(e);if(o.test(a.schemeIdUri)){var s=Object(i.isFiniteNumber)(a.presentationTime)?a.presentationTime/a.timeScale:t+a.presentationTimeDelta/a.timeScale,l=a.payload;r.samples.push({data:l,len:l.byteLength,dts:s,pts:s})}}))}return r},t.demuxSampleAes=function(e,t,r){return Promise.reject(new Error("The MP4 demuxer does not support SAMPLE-AES decryption"))},t.destroy=function(){},e}();s.minProbeByteLength=1024,t.default=s},"./repo/src/demux/mpegaudio.ts":function(e,t,r){"use strict";r.r(t),r.d(t,"appendFrame",(function(){return l})),r.d(t,"parseHeader",(function(){return u})),r.d(t,"isHeaderPattern",(function(){return c})),r.d(t,"isHeader",(function(){return f})),r.d(t,"canParse",(function(){return d})),r.d(t,"probe",(function(){return h}));var i=null,n=[32,64,96,128,160,192,224,256,288,320,352,384,416,448,32,48,56,64,80,96,112,128,160,192,224,256,320,384,32,40,48,56,64,80,96,112,128,160,192,224,256,320,32,48,56,64,80,96,112,128,144,160,176,192,224,256,8,16,24,32,40,48,56,64,80,96,112,128,144,160],a=[44100,48e3,32e3,22050,24e3,16e3,11025,12e3,8e3],o=[[0,72,144,12],[0,0,0,0],[0,72,144,12],[0,144,144,12]],s=[0,1,1,4];function l(e,t,r,i,n){if(!(r+24>t.length)){var a=u(t,r);if(a&&r+a.frameLength<=t.length){var o=i+n*(9e4*a.samplesPerFrame/a.sampleRate),s={unit:t.subarray(r,r+a.frameLength),pts:o,dts:o};return e.config=[],e.channelCount=a.channelCount,e.samplerate=a.sampleRate,e.samples.push(s),{sample:s,length:a.frameLength,missing:0}}}}function u(e,t){var r=e[t+1]>>3&3,l=e[t+1]>>1&3,u=e[t+2]>>4&15,c=e[t+2]>>2&3;if(1!==r&&0!==u&&15!==u&&3!==c){var f=e[t+2]>>1&1,d=e[t+3]>>6,h=1e3*n[14*(3===r?3-l:3===l?3:4)+u-1],p=a[3*(3===r?0:2===r?1:2)+c],v=3===d?1:2,m=o[r][l],g=s[l],y=8*m*g,b=Math.floor(m*h/p+f)*g;if(null===i){var E=(navigator.userAgent||"").match(/Chrome\/(\d+)/i);i=E?parseInt(E[1]):0}return!!i&&i<=87&&2===l&&h>=224e3&&0===d&&(e[t+3]=128|e[t+3]),{sampleRate:p,channelCount:v,frameLength:b,samplesPerFrame:y}}}function c(e,t){return 255===e[t]&&224==(224&e[t+1])&&0!=(6&e[t+1])}function f(e,t){return t+1<e.length&&c(e,t)}function d(e,t){return c(e,t)&&4<=e.length-t}function h(e,t){if(t+1<e.length&&c(e,t)){var r=u(e,t),i=4;null!=r&&r.frameLength&&(i=r.frameLength);var n=t+i;return n===e.length||f(e,n)}return!1}},"./repo/src/demux/sample-aes.ts":function(e,t,r){"use strict";r.r(t);var i=r("../crypt/dist/jsvmp.js"),n=r.n(i),a=r("./repo/src/demux/tsdemuxer.ts"),o=function(){function e(e,t,r){this.keyData=void 0,this.decrypter=void 0,this.keyData=r,this.decrypter=new n.a(e,t,{removePKCS7Padding:!1})}var t=e.prototype;return t.decryptBuffer=function(e,t){this.decrypter.decrypt(e,this.keyData.key.buffer,this.keyData.iv.buffer,t)},t.decryptAacSample=function(e,t,r,i){var n=e[t].unit;if(!(n.length<=16)){var a=n.subarray(16,n.length-n.length%16),o=a.buffer.slice(a.byteOffset,a.byteOffset+a.length),s=this;this.decryptBuffer(o,(function(a){var o=new Uint8Array(a);n.set(o,16),i||s.decryptAacSamples(e,t+1,r)}))}},t.decryptAacSamples=function(e,t,r){for(;;t++){if(t>=e.length)return void r();if(!(e[t].unit.length<32)){var i=this.decrypter.isSync();if(this.decryptAacSample(e,t,r,i),!i)return}}},t.getAvcEncryptedData=function(e){for(var t=16*Math.floor((e.length-48)/160)+16,r=new Int8Array(t),i=0,n=32;n<e.length-16;n+=160,i+=16)r.set(e.subarray(n,n+16),i);return r},t.getAvcDecryptedUnit=function(e,t){for(var r=new Uint8Array(t),i=0,n=32;n<e.length-16;n+=160,i+=16)e.set(r.subarray(i,i+16),n);return e},t.decryptAvcSample=function(e,t,r,i,n,o){var s=Object(a.discardEPB)(n.data),l=this.getAvcEncryptedData(s),u=this;this.decryptBuffer(l.buffer,(function(a){n.data=u.getAvcDecryptedUnit(s,a),o||u.decryptAvcSamples(e,t,r+1,i)}))},t.decryptAvcSamples=function(e,t,r,i){if(e instanceof Uint8Array)throw new Error("Cannot decrypt samples of type Uint8Array");for(;;t++,r=0){if(t>=e.length)return void i();for(var n=e[t].units;!(r>=n.length);r++){var a=n[r];if(!(a.data.length<=48||1!==a.type&&5!==a.type)){var o=this.decrypter.isSync();if(this.decryptAvcSample(e,t,r,i,a,o),!o)return}}}},e}();t.default=o},"./repo/src/demux/transmuxer-interface.ts":function(e,t,r){"use strict";r.r(t),r.d(t,"default",(function(){return f}));var i=r("./node_modules/webworkify-webpack/index.js"),n=r("./repo/src/events.ts"),a=r("./repo/src/demux/transmuxer.ts"),o=r("./repo/src/utils/logger.ts"),s=r("./repo/src/errors.ts"),l=r("./repo/src/utils/mediasource-helper.ts"),u=r("./node_modules/eventemitter3/index.js"),c=Object(l.getMediaSource)()||{isTypeSupported:function(){return!1}},f=function(){function e(e,t,r,l){var f=this;this.hls=void 0,this.id=void 0,this.observer=void 0,this.frag=null,this.part=null,this.worker=void 0,this.onwmsg=void 0,this.transmuxer=null,this.onTransmuxComplete=void 0,this.onFlush=void 0,this.hls=e,this.id=t,this.onTransmuxComplete=r,this.onFlush=l;var d=e.config,h=function(t,r){(r=r||{}).frag=f.frag,r.id=f.id,e.trigger(t,r)};this.observer=new u.EventEmitter,this.observer.on(n.Events.FRAG_DECRYPTED,h),this.observer.on(n.Events.ERROR,h);var p={mp4:c.isTypeSupported("video/mp4"),mpeg:c.isTypeSupported("audio/mpeg"),mp3:c.isTypeSupported('audio/mp4; codecs="mp3"')},v=navigator.vendor;if(d.enableWorker&&"undefined"!=typeof Worker){var m;o.logger.log("demuxing in webworker");try{m=this.worker=i("./repo/src/demux/transmuxer-worker.ts"),this.onwmsg=this.onWorkerMessage.bind(this),m.addEventListener("message",this.onwmsg),m.onerror=function(t){e.trigger(n.Events.ERROR,{type:s.ErrorTypes.OTHER_ERROR,details:s.ErrorDetails.INTERNAL_EXCEPTION,fatal:!0,event:"demuxerWorker",error:new Error(t.message+"  ("+t.filename+":"+t.lineno+")")})},m.postMessage({cmd:"init",typeSupported:p,vendor:v,id:t,config:JSON.stringify(d)})}catch(e){o.logger.warn("Error in worker:",e),o.logger.error("Error while initializing DemuxerWorker, fallback to inline"),m&&self.URL.revokeObjectURL(m.objectURL),this.transmuxer=new a.default(this.observer,p,d,v,t),this.worker=null}}else this.transmuxer=new a.default(this.observer,p,d,v,t)}var t=e.prototype;return t.destroy=function(){var e=this.worker;if(e)e.removeEventListener("message",this.onwmsg),e.terminate(),this.worker=null;else{var t=this.transmuxer;t&&(t.destroy(),this.transmuxer=null)}var r=this.observer;r&&r.removeAllListeners(),this.observer=null},t.push=function(e,t,r,i,n,s,l,u,c,f){var d,h,p=this;c.transmuxing.start=self.performance.now();var v=this.transmuxer,m=this.worker,g=s?s.start:n.start,y=n.decryptdata,b=this.frag,E=!(b&&n.cc===b.cc),C=!(b&&c.level===b.level),S=b?c.sn-b.sn:-1,w=this.part?c.part-this.part.index:1,T=!C&&(1===S||0===S&&1===w),x=self.performance.now();(C||S||0===n.stats.parsing.start)&&(n.stats.parsing.start=x),!s||!w&&T||(s.stats.parsing.start=x);var R=!(b&&(null===(d=n.initSegment)||void 0===d?void 0:d.url)===(null===(h=b.initSegment)||void 0===h?void 0:h.url)),L=new a.TransmuxState(E,T,u,C,g,R);if(!T||E||R){o.logger.log("[transmuxer-interface, "+n.type+"]: Starting new transmux session for sn: "+c.sn+" p: "+c.part+" level: "+c.level+" id: "+c.id+"\n        discontinuity: "+E+"\n        trackSwitch: "+C+"\n        contiguous: "+T+"\n        accurateTimeOffset: "+u+"\n        timeOffset: "+g+"\n        initSegmentChange: "+R);var k=new a.TransmuxConfig(r,i,t,l,f);this.configureTransmuxer(k)}if(this.frag=n,this.part=s,m)m.postMessage({cmd:"demux",data:e,decryptdata:y,chunkMeta:c,state:L},e instanceof ArrayBuffer?[e]:[]);else if(v){var _=v.push(e,y,c,L);Object(a.isPromise)(_)?_.then((function(e){p.handleTransmuxComplete(e)})):this.handleTransmuxComplete(_)}},t.flush=function(e){var t=this;e.transmuxing.start=self.performance.now();var r=this.transmuxer,i=this.worker;if(i)i.postMessage({cmd:"flush",chunkMeta:e});else if(r){var n=r.flush(e);Object(a.isPromise)(n)?n.then((function(r){t.handleFlushResult(r,e)})):this.handleFlushResult(n,e)}},t.handleFlushResult=function(e,t){var r=this;e.forEach((function(e){r.handleTransmuxComplete(e)})),this.onFlush(t)},t.onWorkerMessage=function(e){var t=e.data,r=this.hls;switch(t.event){case"init":self.URL.revokeObjectURL(this.worker.objectURL);break;case"transmuxComplete":this.handleTransmuxComplete(t.data);break;case"flush":this.onFlush(t.data);break;default:t.data=t.data||{},t.data.frag=this.frag,t.data.id=this.id,r.trigger(t.event,t.data)}},t.configureTransmuxer=function(e){var t=this.worker,r=this.transmuxer;t?t.postMessage({cmd:"configure",config:e}):r&&r.configure(e)},t.handleTransmuxComplete=function(e){e.chunkMeta.transmuxing.end=self.performance.now(),this.onTransmuxComplete(e)},e}()},"./repo/src/demux/transmuxer-worker.ts":function(e,t,r){"use strict";r.r(t),r.d(t,"default",(function(){return s}));var i=r("./repo/src/demux/transmuxer.ts"),n=r("./repo/src/events.ts"),a=r("./repo/src/utils/logger.ts"),o=r("./node_modules/eventemitter3/index.js");function s(e){var t=new o.EventEmitter,r=function(t,r){e.postMessage({event:t,data:r})};t.on(n.Events.FRAG_DECRYPTED,r),t.on(n.Events.ERROR,r),e.addEventListener("message",(function(n){var o=n.data;switch(o.cmd){case"init":var s=JSON.parse(o.config);e.transmuxer=new i.default(t,o.typeSupported,s,o.vendor,o.id),Object(a.enableLogs)(s.debug),r("init",null);break;case"configure":e.transmuxer.configure(o.config);break;case"demux":var u=e.transmuxer.push(o.data,o.decryptdata,o.chunkMeta,o.state);Object(i.isPromise)(u)?u.then((function(t){l(e,t)})):l(e,u);break;case"flush":var f=o.chunkMeta,d=e.transmuxer.flush(f);Object(i.isPromise)(d)?d.then((function(t){c(e,t,f)})):c(e,d,f)}}))}function l(e,t){if((r=t.remuxResult).audio||r.video||r.text||r.id3||r.initSegment){var r,i=[],n=t.remuxResult,a=n.audio,o=n.video;a&&u(i,a),o&&u(i,o),e.postMessage({event:"transmuxComplete",data:t},i)}}function u(e,t){t.data1&&e.push(t.data1.buffer),t.data2&&e.push(t.data2.buffer)}function c(e,t,r){t.forEach((function(t){l(e,t)})),e.postMessage({event:"flush",data:r})}},"./repo/src/demux/transmuxer.ts":function(e,t,r){"use strict";r.r(t),r.d(t,"default",(function(){return b})),r.d(t,"isPromise",(function(){return C})),r.d(t,"TransmuxConfig",(function(){return S})),r.d(t,"TransmuxState",(function(){return w}));var i,n=r("./repo/src/events.ts"),a=r("./repo/src/errors.ts"),o=r("../crypt/dist/jsvmp.js"),s=r.n(o),l=r("./repo/src/demux/aacdemuxer.ts"),u=r("./repo/src/demux/mp4demuxer.ts"),c=r("./repo/src/demux/tsdemuxer.ts"),f=r("./repo/src/demux/mp3demuxer.ts"),d=r("./repo/src/remux/mp4-remuxer.ts"),h=r("./repo/src/remux/passthrough-remuxer.ts"),p=r("./repo/src/demux/chunk-cache.ts"),v=r("./repo/src/utils/mp4-tools.ts"),m=r("./repo/src/utils/logger.ts");try{i=self.performance.now.bind(self.performance)}catch(e){m.logger.debug("Unable to use Performance API on this environment"),i=self.Date.now}var g=[{demux:c.default,remux:d.default},{demux:u.default,remux:h.default},{demux:l.default,remux:d.default},{demux:f.default,remux:d.default}],y=1024;g.forEach((function(e){var t=e.demux;y=Math.max(y,t.minProbeByteLength)}));var b=function(){function e(e,t,r,i,n){this.observer=void 0,this.typeSupported=void 0,this.config=void 0,this.vendor=void 0,this.id=void 0,this.demuxer=void 0,this.remuxer=void 0,this.decrypter=void 0,this.probe=void 0,this.decryptionPromise=null,this.transmuxConfig=void 0,this.currentTransmuxState=void 0,this.cache=new p.default,this.observer=e,this.typeSupported=t,this.config=r,this.vendor=i,this.id=n}var t=e.prototype;return t.configure=function(e){this.transmuxConfig=e,this.decrypter&&this.decrypter.reset()},t.push=function(e,t,r,n){var a=this,o=r.transmuxing;o.executeStart=i();var s=new Uint8Array(e),l=this.cache,u=this.config,c=this.currentTransmuxState,f=this.transmuxConfig;n&&(this.currentTransmuxState=n);var d=function(e,t){var r=null;return e.byteLength>0&&null!=t&&null!=t.key&&null!==t.iv&&null!=t.method&&(r=t),r}(s,t);if(d&&"AES-128"===d.method){var h=this.getDecrypter();if(!u.enableSoftwareAES)return this.decryptionPromise=h.webCryptoDecrypt(s,d.key.buffer,d.iv.buffer).then((function(e){var t=a.push(e,null,r);return a.decryptionPromise=null,t})),this.decryptionPromise;var p=h.softwareDecrypt(s,d.key.buffer,d.iv.buffer);if(!p)return o.executeEnd=i(),E(r);s=new Uint8Array(p)}var m=n||c,g=m.contiguous,y=m.discontinuity,b=m.trackSwitch,C=m.accurateTimeOffset,S=m.timeOffset,w=m.initSegmentChange,T=f.audioCodec,x=f.videoCodec,R=f.defaultInitPts,L=f.duration,k=f.initSegmentData;if((y||b||w)&&this.resetInitSegment(k,T,x,L),(y||w)&&this.resetInitialTimestamp(R),g||this.resetContiguity(),this.needsProbing(s,y,b)){if(l.dataLength){var _=l.flush();s=Object(v.appendUint8Array)(_,s)}this.configureTransmuxer(s,f)}var A=this.transmux(s,d,S,C,r),D=this.currentTransmuxState;return D.contiguous=!0,D.discontinuity=!1,D.trackSwitch=!1,o.executeEnd=i(),A},t.flush=function(e){var t=this,r=e.transmuxing;r.executeStart=i();var o=this.decrypter,s=this.cache,l=this.currentTransmuxState,u=this.decryptionPromise;if(u)return u.then((function(){return t.flush(e)}));var c=[],f=l.timeOffset;if(o){var d=o.flush();d&&c.push(this.push(d,null,e))}var h=s.dataLength;s.reset();var p=this.demuxer,v=this.remuxer;if(!p||!v)return h>=y&&this.observer.emit(n.Events.ERROR,n.Events.ERROR,{type:a.ErrorTypes.MEDIA_ERROR,details:a.ErrorDetails.FRAG_PARSING_ERROR,fatal:!0,reason:"no demux matching with content found"}),r.executeEnd=i(),[E(e)];var m=p.flush(f);return C(m)?m.then((function(r){return t.flushRemux(c,r,e),c})):(this.flushRemux(c,m,e),c)},t.flushRemux=function(e,t,r){var n=t.audioTrack,a=t.videoTrack,o=t.id3Track,s=t.textTrack,l=this.currentTransmuxState,u=l.accurateTimeOffset,c=l.timeOffset;m.logger.log("[transmuxer.ts]: Flushed fragment "+r.sn+(r.part>-1?" p: "+r.part:"")+" of level "+r.level);var f=this.remuxer.remux(n,a,o,s,c,u,!0,this.id);e.push({remuxResult:f,chunkMeta:r}),r.transmuxing.executeEnd=i()},t.resetInitialTimestamp=function(e){var t=this.demuxer,r=this.remuxer;t&&r&&(t.resetTimeStamp(e),r.resetTimeStamp(e))},t.resetContiguity=function(){var e=this.demuxer,t=this.remuxer;e&&t&&(e.resetContiguity(),t.resetNextTimestamp())},t.resetInitSegment=function(e,t,r,i){var n=this.demuxer,a=this.remuxer;n&&a&&(n.resetInitSegment(e,t,r,i),a.resetInitSegment(e,t,r))},t.destroy=function(){this.demuxer&&(this.demuxer.destroy(),this.demuxer=void 0),this.remuxer&&(this.remuxer.destroy(),this.remuxer=void 0)},t.transmux=function(e,t,r,i,n){return t&&"SAMPLE-AES"===t.method?this.transmuxSampleAes(e,t,r,i,n):this.transmuxUnencrypted(e,r,i,n)},t.transmuxUnencrypted=function(e,t,r,i){var n=this.demuxer.demux(e,t,!1,!this.config.progressive),a=n.audioTrack,o=n.videoTrack,s=n.id3Track,l=n.textTrack;return{remuxResult:this.remuxer.remux(a,o,s,l,t,r,!1,this.id),chunkMeta:i}},t.transmuxSampleAes=function(e,t,r,i,n){var a=this;return this.demuxer.demuxSampleAes(e,t,r).then((function(e){return{remuxResult:a.remuxer.remux(e.audioTrack,e.videoTrack,e.id3Track,e.textTrack,r,i,!1,a.id),chunkMeta:n}}))},t.configureTransmuxer=function(e,t){for(var r,i=this.config,n=this.observer,a=this.typeSupported,o=this.vendor,s=t.audioCodec,l=t.defaultInitPts,c=t.duration,f=t.initSegmentData,d=t.videoCodec,p=0,v=g.length;p<v;p++)if(g[p].demux.probe(e)){r=g[p];break}r||(m.logger.warn("Failed to find demuxer by probing frag, treating as mp4 passthrough"),r={demux:u.default,remux:h.default});var y=this.demuxer,b=this.remuxer,E=r.remux,C=r.demux;b&&b instanceof E||(this.remuxer=new E(n,i,a,o)),y&&y instanceof C||(this.demuxer=new C(n,i,a),this.probe=C.probe),this.resetInitSegment(f,s,d,c),this.resetInitialTimestamp(l)},t.needsProbing=function(e,t,r){return!this.demuxer||!this.remuxer||t||r},t.getDecrypter=function(){var e=this.decrypter;return e||(e=this.decrypter=new s.a(this.observer,this.config)),e},e}(),E=function(e){return{remuxResult:{},chunkMeta:e}};function C(e){return"then"in e&&e.then instanceof Function}var S=function(e,t,r,i,n){this.audioCodec=void 0,this.videoCodec=void 0,this.initSegmentData=void 0,this.duration=void 0,this.defaultInitPts=void 0,this.audioCodec=e,this.videoCodec=t,this.initSegmentData=r,this.duration=i,this.defaultInitPts=n},w=function(e,t,r,i,n,a){this.discontinuity=void 0,this.contiguous=void 0,this.accurateTimeOffset=void 0,this.trackSwitch=void 0,this.timeOffset=void 0,this.initSegmentChange=void 0,this.discontinuity=e,this.contiguous=t,this.accurateTimeOffset=r,this.trackSwitch=i,this.timeOffset=n,this.initSegmentChange=a}},"./repo/src/demux/tsdemuxer.ts":function(e,t,r){"use strict";r.r(t),r.d(t,"discardEPB",(function(){return g}));var i=r("./repo/src/demux/adts.ts"),n=r("./repo/src/demux/mpegaudio.ts"),a=r("./repo/src/demux/exp-golomb.ts"),o=r("./repo/src/demux/sample-aes.ts"),s=r("./repo/src/events.ts"),l=r("./repo/src/utils/mp4-tools.ts"),u=r("./repo/src/utils/logger.ts"),c=r("./repo/src/errors.ts"),f=function(){function e(e,t,r){this.observer=void 0,this.config=void 0,this.typeSupported=void 0,this.sampleAes=null,this.pmtParsed=!1,this.audioCodec=void 0,this.videoCodec=void 0,this._duration=0,this._pmtId=-1,this._avcTrack=void 0,this._audioTrack=void 0,this._id3Track=void 0,this._txtTrack=void 0,this.aacOverFlow=null,this.avcSample=null,this.remainderData=null,this.observer=e,this.config=t,this.typeSupported=r}e.probe=function(t){var r=e.syncOffset(t);return!(r<0||(r&&u.logger.warn("MPEG2-TS detected but first sync word found @ offset "+r+", junk ahead ?"),0))},e.syncOffset=function(e){for(var t=Math.min(1e3,e.length-564),r=0;r<t;){if(71===e[r]&&71===e[r+188]&&71===e[r+376])return r;r++}return-1},e.createTrack=function(e,t){return{container:"video"===e||"audio"===e?"video/mp2t":void 0,type:e,id:l.RemuxerTrackIdConfig[e],pid:-1,inputTimeScale:9e4,sequenceNumber:0,samples:[],dropped:0,duration:"audio"===e?t:void 0}};var t=e.prototype;return t.resetInitSegment=function(t,r,i,n){this.pmtParsed=!1,this._pmtId=-1,this._avcTrack=e.createTrack("video"),this._audioTrack=e.createTrack("audio",n),this._id3Track=e.createTrack("id3"),this._txtTrack=e.createTrack("text"),this._audioTrack.isAAC=!0,this.aacOverFlow=null,this.avcSample=null,this.audioCodec=r,this.videoCodec=i,this._duration=n},t.resetTimeStamp=function(){},t.resetContiguity=function(){var e=this._audioTrack,t=this._avcTrack,r=this._id3Track;e&&(e.pesData=null),t&&(t.pesData=null),r&&(r.pesData=null),this.aacOverFlow=null},t.demux=function(t,r,i,n){var a;void 0===i&&(i=!1),void 0===n&&(n=!1),i||(this.sampleAes=null);var o=this._avcTrack,f=this._audioTrack,d=this._id3Track,m=this._txtTrack,g=o.pid,y=o.pesData,b=f.pid,E=d.pid,C=f.pesData,S=d.pesData,w=!1,T=this.pmtParsed,x=this._pmtId,R=t.length;if(this.remainderData&&(R=(t=Object(l.appendUint8Array)(this.remainderData,t)).length,this.remainderData=null),R<188&&!n)return this.remainderData=t,{audioTrack:f,videoTrack:o,id3Track:d,textTrack:m};var L=Math.max(0,e.syncOffset(t));(R-=(R+L)%188)<t.byteLength&&!n&&(this.remainderData=new Uint8Array(t.buffer,R,t.buffer.byteLength-R));for(var k=0,_=L;_<R;_+=188)if(71===t[_]){var A=!!(64&t[_+1]),D=((31&t[_+1])<<8)+t[_+2],O=void 0;if((48&t[_+3])>>4>1){if((O=_+5+t[_+4])===_+188)continue}else O=_+4;switch(D){case g:A&&(y&&(a=v(y))&&this.parseAVCPES(o,m,a,!1),y={data:[],size:0}),y&&(y.data.push(t.subarray(O,_+188)),y.size+=_+188-O);break;case b:A&&(C&&(a=v(C))&&(f.isAAC?this.parseAACPES(f,a):this.parseMPEGPES(f,a)),C={data:[],size:0}),C&&(C.data.push(t.subarray(O,_+188)),C.size+=_+188-O);break;case E:A&&(S&&(a=v(S))&&this.parseID3PES(d,a),S={data:[],size:0}),S&&(S.data.push(t.subarray(O,_+188)),S.size+=_+188-O);break;case 0:A&&(O+=t[O]+1),x=this._pmtId=h(t,O);break;case x:A&&(O+=t[O]+1);var P=p(t,O,!0===this.typeSupported.mpeg||!0===this.typeSupported.mp3,i);(g=P.avc)>0&&(o.pid=g),(b=P.audio)>0&&(f.pid=b,f.isAAC=P.isAAC),(E=P.id3)>0&&(d.pid=E),w&&!T&&(u.logger.log("reparse from beginning"),w=!1,_=L-188),T=this.pmtParsed=!0;break;case 17:case 8191:break;default:w=!0}}else k++;k>0&&this.observer.emit(s.Events.ERROR,s.Events.ERROR,{type:c.ErrorTypes.MEDIA_ERROR,details:c.ErrorDetails.FRAG_PARSING_ERROR,fatal:!1,reason:"Found "+k+" TS packet/s that do not start with 0x47"}),o.pesData=y,f.pesData=C,d.pesData=S;var I={audioTrack:f,videoTrack:o,id3Track:d,textTrack:m};return n&&this.extractRemainingSamples(I),I},t.flush=function(){var e,t=this.remainderData;return this.remainderData=null,e=t?this.demux(t,-1,!1,!0):{videoTrack:this._avcTrack,audioTrack:this._audioTrack,id3Track:this._id3Track,textTrack:this._txtTrack},this.extractRemainingSamples(e),this.sampleAes?this.decrypt(e,this.sampleAes):e},t.extractRemainingSamples=function(e){var t,r=e.audioTrack,i=e.videoTrack,n=e.id3Track,a=e.textTrack,o=i.pesData,s=r.pesData,l=n.pesData;o&&(t=v(o))?(this.parseAVCPES(i,a,t,!0),i.pesData=null):i.pesData=o,s&&(t=v(s))?(r.isAAC?this.parseAACPES(r,t):this.parseMPEGPES(r,t),r.pesData=null):(null!=s&&s.size&&u.logger.log("last AAC PES packet truncated,might overlap between fragments"),r.pesData=s),l&&(t=v(l))?(this.parseID3PES(n,t),n.pesData=null):n.pesData=l},t.demuxSampleAes=function(e,t,r){var i=this.demux(e,r,!0,!this.config.progressive),n=this.sampleAes=new o.default(this.observer,this.config,t);return this.decrypt(i,n)},t.decrypt=function(e,t){return new Promise((function(r){var i=e.audioTrack,n=e.videoTrack;i.samples&&i.isAAC?t.decryptAacSamples(i.samples,0,(function(){n.samples?t.decryptAvcSamples(n.samples,0,0,(function(){r(e)})):r(e)})):n.samples&&t.decryptAvcSamples(n.samples,0,0,(function(){r(e)}))}))},t.destroy=function(){this._duration=0},t.parseAVCPES=function(e,t,r,i){var n,o=this,s=this.parseAVCNALu(e,r.data),u=this.avcSample,c=!1;r.data=null,u&&s.length&&!e.audFound&&(m(u,e),u=this.avcSample=d(!1,r.pts,r.dts,"")),s.forEach((function(i){switch(i.type){case 1:n=!0,u||(u=o.avcSample=d(!0,r.pts,r.dts,"")),u.frame=!0;var s=i.data;if(c&&s.length>4){var f=new a.default(s).readSliceType();2!==f&&4!==f&&7!==f&&9!==f||(u.key=!0)}break;case 5:n=!0,u||(u=o.avcSample=d(!0,r.pts,r.dts,"")),u.key=!0,u.frame=!0;break;case 6:n=!0,Object(l.parseSEIMessageFromNALu)(g(i.data),r.pts,t.samples);break;case 7:if(n=!0,c=!0,!e.sps){var h=new a.default(i.data).readSPS();e.width=h.width,e.height=h.height,e.pixelRatio=h.pixelRatio,e.sps=[i.data],e.duration=o._duration;for(var p=i.data.subarray(1,4),v="avc1.",y=0;y<3;y++){var b=p[y].toString(16);b.length<2&&(b="0"+b),v+=b}e.codec=v}break;case 8:n=!0,e.pps||(e.pps=[i.data]);break;case 9:n=!1,e.audFound=!0,u&&m(u,e),u=o.avcSample=d(!1,r.pts,r.dts,"");break;case 12:n=!1;break;default:n=!1,u&&(u.debug+="unknown NAL "+i.type+" ")}u&&n&&u.units.push(i)})),i&&u&&(m(u,e),this.avcSample=null)},t.getLastNalUnit=function(e){var t,r,i=this.avcSample;if(i&&0!==i.units.length||(i=e[e.length-1]),null!==(t=i)&&void 0!==t&&t.units){var n=i.units;r=n[n.length-1]}return r},t.parseAVCNALu=function(e,t){var r,i,n=t.byteLength,a=e.naluState||0,o=a,s=[],l=0,u=-1,c=0;for(-1===a&&(u=0,c=31&t[0],a=0,l=1);l<n;)if(r=t[l++],a)if(1!==a)if(r)if(1===r){if(u>=0){var f={data:t.subarray(u,l-a-1),type:c};s.push(f)}else{var d=this.getLastNalUnit(e.samples);if(d&&(o&&l<=4-o&&d.state&&(d.data=d.data.subarray(0,d.data.byteLength-o)),(i=l-a-1)>0)){var h=new Uint8Array(d.data.byteLength+i);h.set(d.data,0),h.set(t.subarray(0,i),d.data.byteLength),d.data=h,d.state=0}}l<n?(u=l,c=31&t[l],a=0):a=-1}else a=0;else a=3;else a=r?0:2;else a=r?0:1;if(u>=0&&a>=0){var p={data:t.subarray(u,n),type:c,state:a};s.push(p)}if(0===s.length){var v=this.getLastNalUnit(e.samples);if(v){var m=new Uint8Array(v.data.byteLength+t.byteLength);m.set(v.data,0),m.set(t,v.data.byteLength),v.data=m}}return e.naluState=a,s},t.parseAACPES=function(e,t){var r,n,a,o,l,f=0,d=this.aacOverFlow,h=t.data;if(d){this.aacOverFlow=null;var p=d.sample.unit.byteLength,v=Math.min(d.missing,p),m=p-v;d.sample.unit.set(h.subarray(0,v),m),e.samples.push(d.sample),f=d.missing}for(r=f,n=h.length;r<n-1&&!i.isHeader(h,r);r++);if(r===f||(r<n-1?(a="AAC PES did not start with ADTS header,offset:"+r,o=!1):(a="no ADTS header found in AAC PES",o=!0),u.logger.warn("parsing error:"+a),this.observer.emit(s.Events.ERROR,s.Events.ERROR,{type:c.ErrorTypes.MEDIA_ERROR,details:c.ErrorDetails.FRAG_PARSING_ERROR,fatal:o,reason:a}),!o)){if(i.initTrackConfig(e,this.observer,h,r,this.audioCodec),void 0!==t.pts)l=t.pts;else{if(!d)return void u.logger.warn("[tsdemuxer]: AAC PES unknown PTS");var g=i.getFrameDuration(e.samplerate);l=d.sample.pts+g}for(var y=0;r<n;){if(i.isHeader(h,r)){if(r+5<n){var b=i.appendFrame(e,h,r,l,y);if(b){if(!b.missing){r+=b.length,y++;continue}this.aacOverFlow=b}}break}r++}}},t.parseMPEGPES=function(e,t){var r=t.data,i=r.length,a=0,o=0,s=t.pts;if(void 0!==s)for(;o<i;)if(n.isHeader(r,o)){var l=n.appendFrame(e,r,o,s,a);if(!l)break;o+=l.length,a++}else o++;else u.logger.warn("[tsdemuxer]: MPEG PES unknown PTS")},t.parseID3PES=function(e,t){void 0!==t.pts?e.samples.push(t):u.logger.warn("[tsdemuxer]: ID3 PES unknown PTS")},e}();function d(e,t,r,i){return{key:e,frame:!1,pts:t,dts:r,units:[],debug:i,length:0}}function h(e,t){return(31&e[t+10])<<8|e[t+11]}function p(e,t,r,i){var n={audio:-1,avc:-1,id3:-1,isAAC:!0},a=t+3+((15&e[t+1])<<8|e[t+2])-4;for(t+=12+((15&e[t+10])<<8|e[t+11]);t<a;){var o=(31&e[t+1])<<8|e[t+2];switch(e[t]){case 207:if(!i){u.logger.log("ADTS AAC with AES-128-CBC frame encryption found in unencrypted stream");break}case 15:-1===n.audio&&(n.audio=o);break;case 21:-1===n.id3&&(n.id3=o);break;case 219:if(!i){u.logger.log("H.264 with AES-128-CBC slice encryption found in unencrypted stream");break}case 27:-1===n.avc&&(n.avc=o);break;case 3:case 4:r?-1===n.audio&&(n.audio=o,n.isAAC=!1):u.logger.log("MPEG audio found, not supported in this browser");break;case 36:u.logger.warn("Unsupported HEVC stream type found")}t+=5+((15&e[t+3])<<8|e[t+4])}return n}function v(e){var t,r,i,n,a,o=0,s=e.data;if(!e||0===e.size)return null;for(;s[0].length<19&&s.length>1;){var l=new Uint8Array(s[0].length+s[1].length);l.set(s[0]),l.set(s[1],s[0].length),s[0]=l,s.splice(1,1)}if(1===((t=s[0])[0]<<16)+(t[1]<<8)+t[2]){if((r=(t[4]<<8)+t[5])&&r>e.size-6)return null;var c=t[7];192&c&&(n=536870912*(14&t[9])+4194304*(255&t[10])+16384*(254&t[11])+128*(255&t[12])+(254&t[13])/2,64&c?n-(a=536870912*(14&t[14])+4194304*(255&t[15])+16384*(254&t[16])+128*(255&t[17])+(254&t[18])/2)>54e5&&(u.logger.warn(Math.round((n-a)/9e4)+"s delta between PTS and DTS, align them"),n=a):a=n);var f=(i=t[8])+9;if(e.size<=f)return null;e.size-=f;for(var d=new Uint8Array(e.size),h=0,p=s.length;h<p;h++){var v=(t=s[h]).byteLength;if(f){if(f>v){f-=v;continue}t=t.subarray(f),v-=f,f=0}d.set(t,o),o+=v}return r&&(r-=i+3),{data:d,pts:n,dts:a,len:r}}return null}function m(e,t){if(e.units.length&&e.frame){if(void 0===e.pts){var r=t.samples,i=r.length;if(!i)return void t.dropped++;var n=r[i-1];e.pts=n.pts,e.dts=n.dts}t.samples.push(e)}e.debug.length&&u.logger.log(e.pts+"/"+e.dts+":"+e.debug)}function g(e){for(var t=e.byteLength,r=[],i=1;i<t-2;)0===e[i]&&0===e[i+1]&&3===e[i+2]?(r.push(i+2),i+=2):i++;if(0===r.length)return e;var n=t-r.length,a=new Uint8Array(n),o=0;for(i=0;i<n;o++,i++)o===r[0]&&(o++,r.shift()),a[i]=e[o];return a}f.minProbeByteLength=188,t.default=f},"./repo/src/empty.js":function(e,t){e.exports=void 0},"./repo/src/errors.ts":function(e,t,r){"use strict";var i,n;r.r(t),r.d(t,"ErrorTypes",(function(){return i})),r.d(t,"ErrorDetails",(function(){return n})),function(e){e.NETWORK_ERROR="networkError",e.MEDIA_ERROR="mediaError",e.KEY_SYSTEM_ERROR="keySystemError",e.MUX_ERROR="muxError",e.OTHER_ERROR="otherError"}(i||(i={})),function(e){e.KEY_SYSTEM_NO_KEYS="keySystemNoKeys",e.KEY_SYSTEM_NO_ACCESS="keySystemNoAccess",e.KEY_SYSTEM_NO_SESSION="keySystemNoSession",e.KEY_SYSTEM_LICENSE_REQUEST_FAILED="keySystemLicenseRequestFailed",e.KEY_SYSTEM_NO_INIT_DATA="keySystemNoInitData",e.MANIFEST_LOAD_ERROR="manifestLoadError",e.MANIFEST_LOAD_TIMEOUT="manifestLoadTimeOut",e.MANIFEST_PARSING_ERROR="manifestParsingError",e.MANIFEST_INCOMPATIBLE_CODECS_ERROR="manifestIncompatibleCodecsError",e.LEVEL_EMPTY_ERROR="levelEmptyError",e.LEVEL_LOAD_ERROR="levelLoadError",e.LEVEL_LOAD_TIMEOUT="levelLoadTimeOut",e.LEVEL_SWITCH_ERROR="levelSwitchError",e.AUDIO_TRACK_LOAD_ERROR="audioTrackLoadError",e.AUDIO_TRACK_LOAD_TIMEOUT="audioTrackLoadTimeOut",e.SUBTITLE_LOAD_ERROR="subtitleTrackLoadError",e.SUBTITLE_TRACK_LOAD_TIMEOUT="subtitleTrackLoadTimeOut",e.FRAG_LOAD_ERROR="fragLoadError",e.FRAG_LOAD_TIMEOUT="fragLoadTimeOut",e.FRAG_DECRYPT_ERROR="fragDecryptError",e.FRAG_PARSING_ERROR="fragParsingError",e.REMUX_ALLOC_ERROR="remuxAllocError",e.KEY_LOAD_ERROR="keyLoadError",e.KEY_LOAD_TIMEOUT="keyLoadTimeOut",e.BUFFER_ADD_CODEC_ERROR="bufferAddCodecError",e.BUFFER_INCOMPATIBLE_CODECS_ERROR="bufferIncompatibleCodecsError",e.BUFFER_APPEND_ERROR="bufferAppendError",e.BUFFER_APPENDING_ERROR="bufferAppendingError",e.BUFFER_STALLED_ERROR="bufferStalledError",e.BUFFER_FULL_ERROR="bufferFullError",e.BUFFER_SEEK_OVER_HOLE="bufferSeekOverHole",e.BUFFER_NUDGE_ON_STALL="bufferNudgeOnStall",e.INTERNAL_EXCEPTION="internalException",e.INTERNAL_ABORTED="aborted",e.UNKNOWN="unknown"}(n||(n={}))},"./repo/src/events.ts":function(e,t,r){"use strict";var i;r.r(t),r.d(t,"Events",(function(){return i})),function(e){e.MEDIA_ATTACHING="hlsMediaAttaching",e.MEDIA_ATTACHED="hlsMediaAttached",e.MEDIA_DETACHING="hlsMediaDetaching",e.MEDIA_DETACHED="hlsMediaDetached",e.BUFFER_RESET="hlsBufferReset",e.BUFFER_CODECS="hlsBufferCodecs",e.BUFFER_CREATED="hlsBufferCreated",e.BUFFER_APPENDING="hlsBufferAppending",e.BUFFER_APPENDED="hlsBufferAppended",e.BUFFER_EOS="hlsBufferEos",e.BUFFER_FLUSHING="hlsBufferFlushing",e.BUFFER_FLUSHED="hlsBufferFlushed",e.MANIFEST_LOADING="hlsManifestLoading",e.MANIFEST_LOADED="hlsManifestLoaded",e.MANIFEST_PARSED="hlsManifestParsed",e.LEVEL_SWITCHING="hlsLevelSwitching",e.LEVEL_SWITCHED="hlsLevelSwitched",e.LEVEL_LOADING="hlsLevelLoading",e.LEVEL_LOADED="hlsLevelLoaded",e.LEVEL_UPDATED="hlsLevelUpdated",e.LEVEL_PTS_UPDATED="hlsLevelPtsUpdated",e.LEVELS_UPDATED="hlsLevelsUpdated",e.AUDIO_TRACKS_UPDATED="hlsAudioTracksUpdated",e.AUDIO_TRACK_SWITCHING="hlsAudioTrackSwitching",e.AUDIO_TRACK_SWITCHED="hlsAudioTrackSwitched",e.AUDIO_TRACK_LOADING="hlsAudioTrackLoading",e.AUDIO_TRACK_LOADED="hlsAudioTrackLoaded",e.SUBTITLE_TRACKS_UPDATED="hlsSubtitleTracksUpdated",e.SUBTITLE_TRACKS_CLEARED="hlsSubtitleTracksCleared",e.SUBTITLE_TRACK_SWITCH="hlsSubtitleTrackSwitch",e.SUBTITLE_TRACK_LOADING="hlsSubtitleTrackLoading",e.SUBTITLE_TRACK_LOADED="hlsSubtitleTrackLoaded",e.SUBTITLE_FRAG_PROCESSED="hlsSubtitleFragProcessed",e.CUES_PARSED="hlsCuesParsed",e.NON_NATIVE_TEXT_TRACKS_FOUND="hlsNonNativeTextTracksFound",e.INIT_PTS_FOUND="hlsInitPtsFound",e.FRAG_LOADING="hlsFragLoading",e.FRAG_LOAD_EMERGENCY_ABORTED="hlsFragLoadEmergencyAborted",e.FRAG_LOADED="hlsFragLoaded",e.FRAG_DECRYPTED="hlsFragDecrypted",e.FRAG_PARSING_INIT_SEGMENT="hlsFragParsingInitSegment",e.FRAG_PARSING_USERDATA="hlsFragParsingUserdata",e.FRAG_PARSING_METADATA="hlsFragParsingMetadata",e.FRAG_PARSED="hlsFragParsed",e.FRAG_BUFFERED="hlsFragBuffered",e.FRAG_CHANGED="hlsFragChanged",e.FPS_DROP="hlsFpsDrop",e.FPS_DROP_LEVEL_CAPPING="hlsFpsDropLevelCapping",e.ERROR="hlsError",e.DESTROYING="hlsDestroying",e.KEY_LOADING="hlsKeyLoading",e.KEY_LOADED="hlsKeyLoaded",e.LIVE_BACK_BUFFER_REACHED="hlsLiveBackBufferReached",e.BACK_BUFFER_REACHED="hlsBackBufferReached"}(i||(i={}))},"./repo/src/hls.ts":function(e,t,r){"use strict";r.r(t),r.d(t,"default",(function(){return y}));var i=r("./node_modules/url-toolkit/src/url-toolkit.js"),n=r("./repo/src/loader/playlist-loader.ts"),a=r("./repo/src/loader/key-loader.ts"),o=r("./repo/src/controller/id3-track-controller.ts"),s=r("./repo/src/controller/latency-controller.ts"),l=r("./repo/src/controller/level-controller.ts"),u=r("./repo/src/controller/fragment-tracker.ts"),c=r("./repo/src/controller/stream-controller.ts"),f=r("./repo/src/is-supported.ts"),d=r("./repo/src/utils/logger.ts"),h=r("./repo/src/config.ts"),p=r("./node_modules/eventemitter3/index.js"),v=r("./repo/src/events.ts"),m=r("./repo/src/errors.ts");function g(e,t){for(var r=0;r<t.length;r++){var i=t[r];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}var y=function(){function e(t){void 0===t&&(t={}),this.config=void 0,this.userConfig=void 0,this.coreComponents=void 0,this.networkControllers=void 0,this._emitter=new p.EventEmitter,this._autoLevelCapping=void 0,this.abrController=void 0,this.bufferController=void 0,this.capLevelController=void 0,this.latencyController=void 0,this.levelController=void 0,this.streamController=void 0,this.audioTrackController=void 0,this.subtitleTrackController=void 0,this.emeController=void 0,this.cmcdController=void 0,this._media=null,this.url=null;var r=this.config=Object(h.mergeConfig)(e.DefaultConfig,t);this.userConfig=t,Object(d.enableLogs)(r.debug),this._autoLevelCapping=-1,r.progressive&&Object(h.enableStreamingMode)(r);var i=r.abrController,f=r.bufferController,v=r.capLevelController,m=r.fpsController,g=this.abrController=new i(this),y=this.bufferController=new f(this),b=this.capLevelController=new v(this),E=new m(this),C=new n.default(this),S=new a.default(this),w=new o.default(this),T=this.levelController=new l.default(this),x=new u.FragmentTracker(this),R=this.streamController=new c.default(this,x);b.setStreamController(R),E.setStreamController(R);var L=[T,R];this.networkControllers=L;var k=[C,S,g,y,b,E,w,x];this.audioTrackController=this.createController(r.audioTrackController,null,L),this.createController(r.audioStreamController,x,L),this.subtitleTrackController=this.createController(r.subtitleTrackController,null,L),this.createController(r.subtitleStreamController,x,L),this.createController(r.timelineController,null,k),this.emeController=this.createController(r.emeController,null,k),this.cmcdController=this.createController(r.cmcdController,null,k),this.latencyController=this.createController(s.default,null,k),this.coreComponents=k}e.isSupported=function(){return Object(f.isSupported)()};var t,r,y,b=e.prototype;return b.createController=function(e,t,r){if(e){var i=t?new e(this,t):new e(this);return r&&r.push(i),i}return null},b.on=function(e,t,r){void 0===r&&(r=this),this._emitter.on(e,t,r)},b.once=function(e,t,r){void 0===r&&(r=this),this._emitter.once(e,t,r)},b.removeAllListeners=function(e){this._emitter.removeAllListeners(e)},b.off=function(e,t,r,i){void 0===r&&(r=this),this._emitter.off(e,t,r,i)},b.listeners=function(e){return this._emitter.listeners(e)},b.emit=function(e,t,r){return this._emitter.emit(e,t,r)},b.trigger=function(e,t){if(this.config.debug)return this.emit(e,e,t);try{return this.emit(e,e,t)}catch(t){d.logger.error("An internal error happened while handling event "+e+'. Error message: "'+t.message+'". Here is a stacktrace:',t),this.trigger(v.Events.ERROR,{type:m.ErrorTypes.OTHER_ERROR,details:m.ErrorDetails.INTERNAL_EXCEPTION,fatal:!1,event:e,error:t})}return!1},b.listenerCount=function(e){return this._emitter.listenerCount(e)},b.destroy=function(){d.logger.log("destroy"),this.trigger(v.Events.DESTROYING,void 0),this.detachMedia(),this.removeAllListeners(),this._autoLevelCapping=-1,this.url=null,this.networkControllers.forEach((function(e){return e.destroy()})),this.networkControllers.length=0,this.coreComponents.forEach((function(e){return e.destroy()})),this.coreComponents.length=0},b.attachMedia=function(e){d.logger.log("attachMedia"),this._media=e,this.trigger(v.Events.MEDIA_ATTACHING,{media:e})},b.detachMedia=function(){d.logger.log("detachMedia"),this.trigger(v.Events.MEDIA_DETACHING,void 0),this._media=null},b.loadSource=function(e){this.stopLoad();var t=this.media,r=this.url,n=this.url=i.buildAbsoluteURL(self.location.href,e,{alwaysNormalize:!0});d.logger.log("loadSource:"+n),t&&r&&r!==n&&this.bufferController.hasSourceTypes()&&(this.detachMedia(),this.attachMedia(t)),this.trigger(v.Events.MANIFEST_LOADING,{url:e})},b.startLoad=function(e){void 0===e&&(e=-1),d.logger.log("startLoad("+e+")"),this.networkControllers.forEach((function(t){t.startLoad(e)}))},b.stopLoad=function(){d.logger.log("stopLoad"),this.networkControllers.forEach((function(e){e.stopLoad()}))},b.swapAudioCodec=function(){d.logger.log("swapAudioCodec"),this.streamController.swapAudioCodec()},b.recoverMediaError=function(){d.logger.log("recoverMediaError");var e=this._media;this.detachMedia(),e&&this.attachMedia(e)},b.removeLevel=function(e,t){void 0===t&&(t=0),this.levelController.removeLevel(e,t)},t=e,y=[{key:"version",get:function(){}},{key:"Events",get:function(){return v.Events}},{key:"ErrorTypes",get:function(){return m.ErrorTypes}},{key:"ErrorDetails",get:function(){return m.ErrorDetails}},{key:"DefaultConfig",get:function(){return e.defaultConfig?e.defaultConfig:h.hlsDefaultConfig},set:function(t){e.defaultConfig=t}}],(r=[{key:"levels",get:function(){return this.levelController.levels||[]}},{key:"currentLevel",get:function(){return this.streamController.currentLevel},set:function(e){d.logger.log("set currentLevel:"+e),this.loadLevel=e,this.abrController.clearTimer(),this.streamController.immediateLevelSwitch()}},{key:"nextLevel",get:function(){return this.streamController.nextLevel},set:function(e){d.logger.log("set nextLevel:"+e),this.levelController.manualLevel=e,this.streamController.nextLevelSwitch()}},{key:"loadLevel",get:function(){return this.levelController.level},set:function(e){d.logger.log("set loadLevel:"+e),this.levelController.manualLevel=e}},{key:"nextLoadLevel",get:function(){return this.levelController.nextLoadLevel},set:function(e){this.levelController.nextLoadLevel=e}},{key:"firstLevel",get:function(){return Math.max(this.levelController.firstLevel,this.minAutoLevel)},set:function(e){d.logger.log("set firstLevel:"+e),this.levelController.firstLevel=e}},{key:"startLevel",get:function(){return this.levelController.startLevel},set:function(e){d.logger.log("set startLevel:"+e),-1!==e&&(e=Math.max(e,this.minAutoLevel)),this.levelController.startLevel=e}},{key:"capLevelToPlayerSize",get:function(){return this.config.capLevelToPlayerSize},set:function(e){var t=!!e;t!==this.config.capLevelToPlayerSize&&(t?this.capLevelController.startCapping():(this.capLevelController.stopCapping(),this.autoLevelCapping=-1,this.streamController.nextLevelSwitch()),this.config.capLevelToPlayerSize=t)}},{key:"autoLevelCapping",get:function(){return this._autoLevelCapping},set:function(e){this._autoLevelCapping!==e&&(d.logger.log("set autoLevelCapping:"+e),this._autoLevelCapping=e)}},{key:"bandwidthEstimate",get:function(){var e=this.abrController.bwEstimator;return e?e.getEstimate():NaN}},{key:"autoLevelEnabled",get:function(){return-1===this.levelController.manualLevel}},{key:"manualLevel",get:function(){return this.levelController.manualLevel}},{key:"minAutoLevel",get:function(){var e=this.levels,t=this.config.minAutoBitrate;if(!e)return 0;for(var r=e.length,i=0;i<r;i++)if(e[i].maxBitrate>=t)return i;return 0}},{key:"maxAutoLevel",get:function(){var e=this.levels,t=this.autoLevelCapping;return-1===t&&e&&e.length?e.length-1:t}},{key:"nextAutoLevel",get:function(){return Math.min(Math.max(this.abrController.nextAutoLevel,this.minAutoLevel),this.maxAutoLevel)},set:function(e){this.abrController.nextAutoLevel=Math.max(this.minAutoLevel,e)}},{key:"audioTracks",get:function(){var e=this.audioTrackController;return e?e.audioTracks:[]}},{key:"audioTrack",get:function(){var e=this.audioTrackController;return e?e.audioTrack:-1},set:function(e){var t=this.audioTrackController;t&&(t.audioTrack=e)}},{key:"subtitleTracks",get:function(){var e=this.subtitleTrackController;return e?e.subtitleTracks:[]}},{key:"subtitleTrack",get:function(){var e=this.subtitleTrackController;return e?e.subtitleTrack:-1},set:function(e){var t=this.subtitleTrackController;t&&(t.subtitleTrack=e)}},{key:"media",get:function(){return this._media}},{key:"subtitleDisplay",get:function(){var e=this.subtitleTrackController;return!!e&&e.subtitleDisplay},set:function(e){var t=this.subtitleTrackController;t&&(t.subtitleDisplay=e)}},{key:"lowLatencyMode",get:function(){return this.config.lowLatencyMode},set:function(e){this.config.lowLatencyMode=e}},{key:"liveSyncPosition",get:function(){return this.latencyController.liveSyncPosition}},{key:"latency",get:function(){return this.latencyController.latency}},{key:"maxLatency",get:function(){return this.latencyController.maxLatency}},{key:"targetLatency",get:function(){return this.latencyController.targetLatency}},{key:"drift",get:function(){return this.latencyController.drift}},{key:"forceStartLoad",get:function(){return this.streamController.forceStartLoad}}])&&g(t.prototype,r),y&&g(t,y),Object.defineProperty(t,"prototype",{writable:!1}),e}();y.defaultConfig=void 0},"./repo/src/is-supported.ts":function(e,t,r){"use strict";r.r(t),r.d(t,"isSupported",(function(){return a})),r.d(t,"changeTypeSupported",(function(){return o}));var i=r("./repo/src/utils/mediasource-helper.ts");function n(){return self.SourceBuffer||self.WebKitSourceBuffer}function a(){var e=Object(i.getMediaSource)();if(!e)return!1;var t=n(),r=e&&"function"==typeof e.isTypeSupported&&e.isTypeSupported('video/mp4; codecs="avc1.42E01E,mp4a.40.2"'),a=!t||t.prototype&&"function"==typeof t.prototype.appendBuffer&&"function"==typeof t.prototype.remove;return!!r&&!!a}function o(){var e,t=n();return"function"==typeof(null==t||null===(e=t.prototype)||void 0===e?void 0:e.changeType)}},"./repo/src/loader/fragment-loader.ts":function(e,t,r){"use strict";r.r(t),r.d(t,"default",(function(){return c})),r.d(t,"LoadError",(function(){return d}));var i=r("./repo/src/polyfills/number.ts"),n=r("./repo/src/errors.ts");function a(e){var t="function"==typeof Map?new Map:void 0;return(a=function(e){if(null===e||(r=e,-1===Function.toString.call(r).indexOf("[native code]")))return e;var r;if("function"!=typeof e)throw new TypeError("Super expression must either be null or a function");if(void 0!==t){if(t.has(e))return t.get(e);t.set(e,i)}function i(){return o(e,arguments,l(this).constructor)}return i.prototype=Object.create(e.prototype,{constructor:{value:i,enumerable:!1,writable:!0,configurable:!0}}),s(i,e)})(e)}function o(e,t,r){return(o=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}()?Reflect.construct:function(e,t,r){var i=[null];i.push.apply(i,t);var n=new(Function.bind.apply(e,i));return r&&s(n,r.prototype),n}).apply(null,arguments)}function s(e,t){return(s=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function l(e){return(l=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var u=Math.pow(2,17),c=function(){function e(e){this.config=void 0,this.loader=null,this.partLoadTimeout=-1,this.config=e}var t=e.prototype;return t.destroy=function(){this.loader&&(this.loader.destroy(),this.loader=null)},t.abort=function(){this.loader&&this.loader.abort()},t.load=function(e,t){var r=this,i=e.url;if(!i)return Promise.reject(new d({type:n.ErrorTypes.NETWORK_ERROR,details:n.ErrorDetails.FRAG_LOAD_ERROR,fatal:!1,frag:e,networkDetails:null},"Fragment does not have a "+(i?"part list":"url")));this.abort();var a=this.config,o=a.fLoader,s=a.loader;return new Promise((function(i,l){r.loader&&r.loader.destroy();var c=r.loader=e.loader=o?new o(a):new s(a),h=f(e),p={timeout:a.fragLoadingTimeOut,maxRetry:0,retryDelay:0,maxRetryDelay:a.fragLoadingMaxRetryTimeout,highWaterMark:"initSegment"===e.sn?1/0:u};e.stats=c.stats,c.load(h,p,{onSuccess:function(t,n,a,o){r.resetLoader(e,c),i({frag:e,part:null,payload:t.data,networkDetails:o})},onError:function(t,i,a){r.resetLoader(e,c),l(new d({type:n.ErrorTypes.NETWORK_ERROR,details:n.ErrorDetails.FRAG_LOAD_ERROR,fatal:!1,frag:e,response:t,networkDetails:a}))},onAbort:function(t,i,a){r.resetLoader(e,c),l(new d({type:n.ErrorTypes.NETWORK_ERROR,details:n.ErrorDetails.INTERNAL_ABORTED,fatal:!1,frag:e,networkDetails:a}))},onTimeout:function(t,i,a){r.resetLoader(e,c),l(new d({type:n.ErrorTypes.NETWORK_ERROR,details:n.ErrorDetails.FRAG_LOAD_TIMEOUT,fatal:!1,frag:e,networkDetails:a}))},onProgress:function(r,i,n,a){t&&t({frag:e,part:null,payload:n,networkDetails:a})}})}))},t.loadPart=function(e,t,r){var i=this;this.abort();var a=this.config,o=a.fLoader,s=a.loader;return new Promise((function(l,c){i.loader&&i.loader.destroy();var h=i.loader=e.loader=o?new o(a):new s(a),p=f(e,t),v={timeout:a.fragLoadingTimeOut,maxRetry:0,retryDelay:0,maxRetryDelay:a.fragLoadingMaxRetryTimeout,highWaterMark:u};t.stats=h.stats,h.load(p,v,{onSuccess:function(n,a,o,s){i.resetLoader(e,h),i.updateStatsFromPart(e,t);var u={frag:e,part:t,payload:n.data,networkDetails:s};r(u),l(u)},onError:function(r,a,o){i.resetLoader(e,h),c(new d({type:n.ErrorTypes.NETWORK_ERROR,details:n.ErrorDetails.FRAG_LOAD_ERROR,fatal:!1,frag:e,part:t,response:r,networkDetails:o}))},onAbort:function(r,a,o){e.stats.aborted=t.stats.aborted,i.resetLoader(e,h),c(new d({type:n.ErrorTypes.NETWORK_ERROR,details:n.ErrorDetails.INTERNAL_ABORTED,fatal:!1,frag:e,part:t,networkDetails:o}))},onTimeout:function(r,a,o){i.resetLoader(e,h),c(new d({type:n.ErrorTypes.NETWORK_ERROR,details:n.ErrorDetails.FRAG_LOAD_TIMEOUT,fatal:!1,frag:e,part:t,networkDetails:o}))}})}))},t.updateStatsFromPart=function(e,t){var r=e.stats,i=t.stats,n=i.total;if(r.loaded+=i.loaded,n){var a=Math.round(e.duration/t.duration),o=Math.min(Math.round(r.loaded/n),a),s=(a-o)*Math.round(r.loaded/o);r.total=r.loaded+s}else r.total=Math.max(r.loaded,r.total);var l=r.loading,u=i.loading;l.start?l.first+=u.first-u.start:(l.start=u.start,l.first=u.first),l.end=u.end},t.resetLoader=function(e,t){e.loader=null,this.loader===t&&(self.clearTimeout(this.partLoadTimeout),this.loader=null),t.destroy()},e}();function f(e,t){void 0===t&&(t=null);var r=t||e,n={frag:e,part:t,responseType:"arraybuffer",url:r.url,headers:{},rangeStart:0,rangeEnd:0},a=r.byteRangeStartOffset,o=r.byteRangeEndOffset;return Object(i.isFiniteNumber)(a)&&Object(i.isFiniteNumber)(o)&&(n.rangeStart=a,n.rangeEnd=o),n}var d=function(e){var t,r;function i(t){for(var r,i=arguments.length,n=new Array(i>1?i-1:0),a=1;a<i;a++)n[a-1]=arguments[a];return(r=e.call.apply(e,[this].concat(n))||this).data=void 0,r.data=t,r}return r=e,(t=i).prototype=Object.create(r.prototype),t.prototype.constructor=t,s(t,r),i}(a(Error))},"./repo/src/loader/fragment.ts":function(e,t,r){"use strict";r.r(t),r.d(t,"ElementaryStreamTypes",(function(){return i})),r.d(t,"BaseSegment",(function(){return h})),r.d(t,"Fragment",(function(){return p})),r.d(t,"Part",(function(){return v}));var i,n=r("./repo/src/polyfills/number.ts"),a=r("./node_modules/url-toolkit/src/url-toolkit.js"),o=r("./repo/src/utils/logger.ts"),s=r("./repo/src/loader/level-key.ts"),l=r("./repo/src/loader/load-stats.ts");function u(e,t){e.prototype=Object.create(t.prototype),e.prototype.constructor=e,c(e,t)}function c(e,t){return(c=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function f(e,t){for(var r=0;r<t.length;r++){var i=t[r];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}function d(e,t,r){return t&&f(e.prototype,t),r&&f(e,r),Object.defineProperty(e,"prototype",{writable:!1}),e}!function(e){e.AUDIO="audio",e.VIDEO="video",e.AUDIOVIDEO="audiovideo"}(i||(i={}));var h=function(){function e(e){var t;this._byteRange=null,this._url=null,this.baseurl=void 0,this.relurl=void 0,this.elementaryStreams=((t={})[i.AUDIO]=null,t[i.VIDEO]=null,t[i.AUDIOVIDEO]=null,t),this.baseurl=e}return e.prototype.setByteRange=function(e,t){var r=e.split("@",2),i=[];1===r.length?i[0]=t?t.byteRangeEndOffset:0:i[0]=parseInt(r[1]),i[1]=parseInt(r[0])+i[0],this._byteRange=i},d(e,[{key:"byteRange",get:function(){return this._byteRange?this._byteRange:[]}},{key:"byteRangeStartOffset",get:function(){return this.byteRange[0]}},{key:"byteRangeEndOffset",get:function(){return this.byteRange[1]}},{key:"url",get:function(){return!this._url&&this.baseurl&&this.relurl&&(this._url=Object(a.buildAbsoluteURL)(this.baseurl,this.relurl,{alwaysNormalize:!0})),this._url||""},set:function(e){this._url=e}}]),e}(),p=function(e){function t(t,r){var i;return(i=e.call(this,r)||this)._decryptdata=null,i.rawProgramDateTime=null,i.programDateTime=null,i.tagList=[],i.duration=0,i.sn=0,i.levelkey=void 0,i.type=void 0,i.loader=null,i.level=-1,i.cc=0,i.startPTS=void 0,i.endPTS=void 0,i.appendedPTS=void 0,i.startDTS=void 0,i.endDTS=void 0,i.start=0,i.deltaPTS=void 0,i.maxStartPTS=void 0,i.minEndPTS=void 0,i.stats=new l.LoadStats,i.urlId=0,i.data=void 0,i.bitrateTest=!1,i.title=null,i.initSegment=null,i.type=t,i}u(t,e);var r=t.prototype;return r.createInitializationVector=function(e){for(var t=new Uint8Array(16),r=12;r<16;r++)t[r]=e>>8*(15-r)&255;return t},r.setDecryptDataFromLevelKey=function(e,t){var r=e;return"AES-128"===(null==e?void 0:e.method)&&e.uri&&!e.iv&&((r=s.LevelKey.fromURI(e.uri)).method=e.method,r.iv=this.createInitializationVector(t),r.keyFormat="identity"),r},r.setElementaryStreamInfo=function(e,t,r,i,n,a){void 0===a&&(a=!1);var o=this.elementaryStreams,s=o[e];s?(s.startPTS=Math.min(s.startPTS,t),s.endPTS=Math.max(s.endPTS,r),s.startDTS=Math.min(s.startDTS,i),s.endDTS=Math.max(s.endDTS,n)):o[e]={startPTS:t,endPTS:r,startDTS:i,endDTS:n,partial:a}},r.clearElementaryStreamInfo=function(){var e=this.elementaryStreams;e[i.AUDIO]=null,e[i.VIDEO]=null,e[i.AUDIOVIDEO]=null},d(t,[{key:"decryptdata",get:function(){if(!this.levelkey&&!this._decryptdata)return null;if(!this._decryptdata&&this.levelkey){var e=this.sn;"number"!=typeof e&&(this.levelkey&&"AES-128"===this.levelkey.method&&!this.levelkey.iv&&o.logger.warn('missing IV for initialization segment with method="'+this.levelkey.method+'" - compliance issue'),e=0),this._decryptdata=this.setDecryptDataFromLevelKey(this.levelkey,e)}return this._decryptdata}},{key:"end",get:function(){return this.start+this.duration}},{key:"endProgramDateTime",get:function(){if(null===this.programDateTime)return null;if(!Object(n.isFiniteNumber)(this.programDateTime))return null;var e=Object(n.isFiniteNumber)(this.duration)?this.duration:0;return this.programDateTime+1e3*e}},{key:"encrypted",get:function(){var e;return!(null===(e=this.decryptdata)||void 0===e||!e.keyFormat||!this.decryptdata.uri)}}]),t}(h),v=function(e){function t(t,r,i,n,a){var o;(o=e.call(this,i)||this).fragOffset=0,o.duration=0,o.gap=!1,o.independent=!1,o.relurl=void 0,o.fragment=void 0,o.index=void 0,o.stats=new l.LoadStats,o.duration=t.decimalFloatingPoint("DURATION"),o.gap=t.bool("GAP"),o.independent=t.bool("INDEPENDENT"),o.relurl=t.enumeratedString("URI"),o.fragment=r,o.index=n;var s=t.enumeratedString("BYTERANGE");return s&&o.setByteRange(s,a),a&&(o.fragOffset=a.fragOffset+a.duration),o}return u(t,e),d(t,[{key:"start",get:function(){return this.fragment.start+this.fragOffset}},{key:"end",get:function(){return this.start+this.duration}},{key:"loaded",get:function(){var e=this.elementaryStreams;return!!(e.audio||e.video||e.audiovideo)}}]),t}(h)},"./repo/src/loader/key-loader.ts":function(e,t,r){"use strict";r.r(t),r.d(t,"default",(function(){return o}));var i=r("./repo/src/events.ts"),n=r("./repo/src/errors.ts"),a=r("./repo/src/utils/logger.ts"),o=function(){function e(e){this.hls=void 0,this.loaders={},this.decryptkey=null,this.decrypturl=null,this.hls=e,this._registerListeners()}var t=e.prototype;return t._registerListeners=function(){this.hls.on(i.Events.KEY_LOADING,this.onKeyLoading,this)},t._unregisterListeners=function(){this.hls.off(i.Events.KEY_LOADING,this.onKeyLoading)},t.destroy=function(){for(var e in this._unregisterListeners(),this.loaders){var t=this.loaders[e];t&&t.destroy()}this.loaders={}},t.onKeyLoading=function(e,t){var r=t.frag,n=r.type,o=this.loaders[n];if(r.decryptdata){var s=r.decryptdata.uri;if(s!==this.decrypturl||null===this.decryptkey){var l=this.hls.config;if(o&&(a.logger.warn("abort previous key loader for type:"+n),o.abort()),!s)return void a.logger.warn("key uri is falsy");var u=l.loader,c=r.loader=this.loaders[n]=new u(l);this.decrypturl=s,this.decryptkey=null;var f={url:s,frag:r,responseType:"arraybuffer"},d={timeout:l.fragLoadingTimeOut,maxRetry:0,retryDelay:l.fragLoadingRetryDelay,maxRetryDelay:l.fragLoadingMaxRetryTimeout,highWaterMark:0},h={onSuccess:this.loadsuccess.bind(this),onError:this.loaderror.bind(this),onTimeout:this.loadtimeout.bind(this)};c.load(f,d,h)}else this.decryptkey&&(r.decryptdata.key=this.decryptkey,this.hls.trigger(i.Events.KEY_LOADED,{frag:r}))}else a.logger.warn("Missing decryption data on fragment in onKeyLoading")},t.loadsuccess=function(e,t,r){var n=r.frag;n.decryptdata?(this.decryptkey=n.decryptdata.key=new Uint8Array(e.data),n.loader=null,delete this.loaders[n.type],this.hls.trigger(i.Events.KEY_LOADED,{frag:n})):a.logger.error("after key load, decryptdata unset")},t.loaderror=function(e,t){var r=t.frag,a=r.loader;a&&a.abort(),delete this.loaders[r.type],this.hls.trigger(i.Events.ERROR,{type:n.ErrorTypes.NETWORK_ERROR,details:n.ErrorDetails.KEY_LOAD_ERROR,fatal:!1,frag:r,response:e})},t.loadtimeout=function(e,t){var r=t.frag,a=r.loader;a&&a.abort(),delete this.loaders[r.type],this.hls.trigger(i.Events.ERROR,{type:n.ErrorTypes.NETWORK_ERROR,details:n.ErrorDetails.KEY_LOAD_TIMEOUT,fatal:!1,frag:r})},e}()},"./repo/src/loader/level-details.ts":function(e,t,r){"use strict";r.r(t),r.d(t,"LevelDetails",(function(){return a}));var i=r("./repo/src/polyfills/number.ts");function n(e,t){for(var r=0;r<t.length;r++){var i=t[r];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}var a=function(){function e(e){this.PTSKnown=!1,this.alignedSliding=!1,this.averagetargetduration=void 0,this.endCC=0,this.endSN=0,this.fragments=void 0,this.fragmentHint=void 0,this.partList=null,this.live=!0,this.ageHeader=0,this.advancedDateTime=void 0,this.updated=!0,this.advanced=!0,this.availabilityDelay=void 0,this.misses=0,this.needSidxRanges=!1,this.startCC=0,this.startSN=0,this.startTimeOffset=null,this.targetduration=0,this.totalduration=0,this.type=null,this.url=void 0,this.m3u8="",this.version=null,this.canBlockReload=!1,this.canSkipUntil=0,this.canSkipDateRanges=!1,this.skippedSegments=0,this.recentlyRemovedDateranges=void 0,this.partHoldBack=0,this.holdBack=0,this.partTarget=0,this.preloadHint=void 0,this.renditionReports=void 0,this.tuneInGoal=0,this.deltaUpdateFailed=void 0,this.driftStartTime=0,this.driftEndTime=0,this.driftStart=0,this.driftEnd=0,this.fragments=[],this.url=e}var t,r;return e.prototype.reloaded=function(e){if(!e)return this.advanced=!0,void(this.updated=!0);var t=this.lastPartSn-e.lastPartSn,r=this.lastPartIndex-e.lastPartIndex;this.updated=this.endSN!==e.endSN||!!r||!!t,this.advanced=this.endSN>e.endSN||t>0||0===t&&r>0,this.updated||this.advanced?this.misses=Math.floor(.6*e.misses):this.misses=e.misses+1,this.availabilityDelay=e.availabilityDelay},t=e,(r=[{key:"hasProgramDateTime",get:function(){return!!this.fragments.length&&Object(i.isFiniteNumber)(this.fragments[this.fragments.length-1].programDateTime)}},{key:"levelTargetDuration",get:function(){return this.averagetargetduration||this.targetduration||10}},{key:"drift",get:function(){var e=this.driftEndTime-this.driftStartTime;return e>0?1e3*(this.driftEnd-this.driftStart)/e:1}},{key:"edge",get:function(){return this.partEnd||this.fragmentEnd}},{key:"partEnd",get:function(){var e;return null!==(e=this.partList)&&void 0!==e&&e.length?this.partList[this.partList.length-1].end:this.fragmentEnd}},{key:"fragmentEnd",get:function(){var e;return null!==(e=this.fragments)&&void 0!==e&&e.length?this.fragments[this.fragments.length-1].end:0}},{key:"age",get:function(){return this.advancedDateTime?Math.max(Date.now()-this.advancedDateTime,0)/1e3:0}},{key:"lastPartIndex",get:function(){var e;return null!==(e=this.partList)&&void 0!==e&&e.length?this.partList[this.partList.length-1].index:-1}},{key:"lastPartSn",get:function(){var e;return null!==(e=this.partList)&&void 0!==e&&e.length?this.partList[this.partList.length-1].fragment.sn:this.endSN}}])&&n(t.prototype,r),Object.defineProperty(t,"prototype",{writable:!1}),e}()},"./repo/src/loader/level-key.ts":function(e,t,r){"use strict";r.r(t),r.d(t,"LevelKey",(function(){return a}));var i=r("./node_modules/url-toolkit/src/url-toolkit.js");function n(e,t){for(var r=0;r<t.length;r++){var i=t[r];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}var a=function(){function e(e,t){this._uri=null,this.method=null,this.keyFormat=null,this.keyFormatVersions=null,this.keyID=null,this.key=null,this.iv=null,this._uri=t?Object(i.buildAbsoluteURL)(e,t,{alwaysNormalize:!0}):e}var t,r;return e.fromURL=function(t,r){return new e(t,r)},e.fromURI=function(t){return new e(t)},t=e,(r=[{key:"uri",get:function(){return this._uri}}])&&n(t.prototype,r),Object.defineProperty(t,"prototype",{writable:!1}),e}()},"./repo/src/loader/load-stats.ts":function(e,t,r){"use strict";r.r(t),r.d(t,"LoadStats",(function(){return i}));var i=function(){this.aborted=!1,this.loaded=0,this.retry=0,this.total=0,this.chunkCount=0,this.bwEstimate=0,this.loading={start:0,first:0,end:0},this.parsing={start:0,end:0},this.buffering={start:0,first:0,end:0}}},"./repo/src/loader/m3u8-parser.ts":function(e,t,r){"use strict";r.r(t),r.d(t,"default",(function(){return m}));var i=r("./repo/src/polyfills/number.ts"),n=r("./node_modules/url-toolkit/src/url-toolkit.js"),a=r("./repo/src/loader/fragment.ts"),o=r("./repo/src/loader/level-details.ts"),s=r("./repo/src/loader/level-key.ts"),l=r("./repo/src/utils/attr-list.ts"),u=r("./repo/src/utils/logger.ts"),c=r("./repo/src/utils/codecs.ts"),f=/#EXT-X-STREAM-INF:([^\r\n]*)(?:[\r\n](?:#[^\r\n]*)?)*([^\r\n]+)|#EXT-X-SESSION-DATA:([^\r\n]*)[\r\n]+/g,d=/#EXT-X-MEDIA:(.*)/g,h=new RegExp([/#EXTINF:\s*(\d*(?:\.\d+)?)(?:,(.*)\s+)?/.source,/(?!#) *(\S[\S ]*)/.source,/#EXT-X-BYTERANGE:*(.+)/.source,/#EXT-X-PROGRAM-DATE-TIME:(.+)/.source,/#.*/.source].join("|"),"g"),p=new RegExp([/#(EXTM3U)/.source,/#EXT-X-(PLAYLIST-TYPE):(.+)/.source,/#EXT-X-(MEDIA-SEQUENCE): *(\d+)/.source,/#EXT-X-(SKIP):(.+)/.source,/#EXT-X-(TARGETDURATION): *(\d+)/.source,/#EXT-X-(KEY):(.+)/.source,/#EXT-X-(START):(.+)/.source,/#EXT-X-(ENDLIST)/.source,/#EXT-X-(DISCONTINUITY-SEQ)UENCE: *(\d+)/.source,/#EXT-X-(DIS)CONTINUITY/.source,/#EXT-X-(VERSION):(\d+)/.source,/#EXT-X-(MAP):(.+)/.source,/#EXT-X-(SERVER-CONTROL):(.+)/.source,/#EXT-X-(PART-INF):(.+)/.source,/#EXT-X-(GAP)/.source,/#EXT-X-(BITRATE):\s*(\d+)/.source,/#EXT-X-(PART):(.+)/.source,/#EXT-X-(PRELOAD-HINT):(.+)/.source,/#EXT-X-(RENDITION-REPORT):(.+)/.source,/(#)([^:]*):(.*)/.source,/(#)(.*)(?:.*)\r?\n?/.source].join("|")),v=/\.(mp4|m4s|m4v|m4a)$/i,m=function(){function e(){}return e.findGroup=function(e,t){for(var r=0;r<e.length;r++){var i=e[r];if(i.id===t)return i}},e.convertAVC1ToAVCOTI=function(e){var t=e.split(".");if(t.length>2){var r=t.shift()+".";return(r+=parseInt(t.shift()).toString(16))+("000"+parseInt(t.shift()).toString(16)).substr(-4)}return e},e.resolve=function(e,t){return n.buildAbsoluteURL(t,e,{alwaysNormalize:!0})},e.parseMasterPlaylist=function(t,r){var i,n=[],a={},o=!1;for(f.lastIndex=0;null!=(i=f.exec(t));)if(i[1]){var s=new l.AttrList(i[1]),u={attrs:s,bitrate:s.decimalInteger("AVERAGE-BANDWIDTH")||s.decimalInteger("BANDWIDTH"),name:s.NAME,url:e.resolve(i[2],r)},c=s.decimalResolution("RESOLUTION");c&&(u.width=c.width,u.height=c.height),g((s.CODECS||"").split(/[ ,]+/).filter((function(e){return e})),u),u.videoCodec&&-1!==u.videoCodec.indexOf("avc1")&&(u.videoCodec=e.convertAVC1ToAVCOTI(u.videoCodec)),n.push(u)}else if(i[3]){var d=new l.AttrList(i[3]);d["DATA-ID"]&&(o=!0,a[d["DATA-ID"]]=d)}return{levels:n,sessionData:o?a:null}},e.parseMasterPlaylistMedia=function(t,r,i,n){var a;void 0===n&&(n=[]);var o=[],s=0;for(d.lastIndex=0;null!==(a=d.exec(t));){var u=new l.AttrList(a[1]);if(u.TYPE===i){var c={attrs:u,bitrate:0,id:s++,groupId:u["GROUP-ID"],instreamId:u["INSTREAM-ID"],name:u.NAME||u.LANGUAGE||"",type:i,default:u.bool("DEFAULT"),autoselect:u.bool("AUTOSELECT"),forced:u.bool("FORCED"),lang:u.LANGUAGE,url:u.URI?e.resolve(u.URI,r):""};if(n.length){var f=e.findGroup(n,c.groupId)||n[0];y(c,f,"audioCodec"),y(c,f,"textCodec")}o.push(c)}}return o},e.parseLevelPlaylist=function(e,t,r,c,f){var d,m,g,y=new o.LevelDetails(t),E=y.fragments,C=null,S=0,w=0,T=0,x=0,R=null,L=new a.Fragment(c,t),k=-1,_=!1;for(h.lastIndex=0,y.m3u8=e;null!==(d=h.exec(e));){_&&(_=!1,(L=new a.Fragment(c,t)).start=T,L.sn=S,L.cc=x,L.level=r,C&&(L.initSegment=C,L.rawProgramDateTime=C.rawProgramDateTime,C.rawProgramDateTime=null));var A=d[1];if(A){L.duration=parseFloat(A);var D=(" "+d[2]).slice(1);L.title=D||null,L.tagList.push(D?["INF",A,D]:["INF",A])}else if(d[3])Object(i.isFiniteNumber)(L.duration)&&(L.start=T,g&&(L.levelkey=g),L.sn=S,L.level=r,L.cc=x,L.urlId=f,E.push(L),L.relurl=(" "+d[3]).slice(1),b(L,R),R=L,T+=L.duration,S++,w=0,_=!0);else if(d[4]){var O=(" "+d[4]).slice(1);R?L.setByteRange(O,R):L.setByteRange(O)}else if(d[5])L.rawProgramDateTime=(" "+d[5]).slice(1),L.tagList.push(["PROGRAM-DATE-TIME",L.rawProgramDateTime]),-1===k&&(k=E.length);else{if(!(d=d[0].match(p))){u.logger.warn("No matches on slow regex match for level playlist!");continue}for(m=1;m<d.length&&void 0===d[m];m++);var P=(" "+d[m]).slice(1),I=(" "+d[m+1]).slice(1),M=d[m+2]?(" "+d[m+2]).slice(1):"";switch(P){case"PLAYLIST-TYPE":y.type=I.toUpperCase();break;case"MEDIA-SEQUENCE":S=y.startSN=parseInt(I);break;case"SKIP":var B=new l.AttrList(I),F=B.decimalInteger("SKIPPED-SEGMENTS");if(Object(i.isFiniteNumber)(F)){y.skippedSegments=F;for(var N=F;N--;)E.unshift(null);S+=F}var U=B.enumeratedString("RECENTLY-REMOVED-DATERANGES");U&&(y.recentlyRemovedDateranges=U.split("\t"));break;case"TARGETDURATION":y.targetduration=parseFloat(I);break;case"VERSION":y.version=parseInt(I);break;case"EXTM3U":break;case"ENDLIST":y.live=!1;break;case"#":(I||M)&&L.tagList.push(M?[I,M]:[I]);break;case"DIS":x++;case"GAP":L.tagList.push([P]);break;case"BITRATE":L.tagList.push([P,I]);break;case"DISCONTINUITY-SEQ":x=parseInt(I);break;case"KEY":var j,H=new l.AttrList(I),V=H.enumeratedString("METHOD"),G=H.URI,z=H.hexadecimalInteger("IV"),Z=H.enumeratedString("KEYFORMATVERSIONS"),K=H.enumeratedString("KEYID"),W=null!=(j=H.enumeratedString("KEYFORMAT"))?j:"identity";if(["com.apple.streamingkeydelivery","com.microsoft.playready","urn:uuid:edef8ba9-79d6-4ace-a3c8-27dcd51d21ed","com.widevine"].indexOf(W)>-1){u.logger.warn("Keyformat "+W+" is not supported from the manifest");continue}if("identity"!==W)continue;V&&(g=s.LevelKey.fromURL(t,G),G&&["AES-128","SAMPLE-AES","SAMPLE-AES-CENC"].indexOf(V)>=0&&(g.method=V,g.keyFormat=W,K&&(g.keyID=K),Z&&(g.keyFormatVersions=Z),g.iv=z));break;case"START":var Y=new l.AttrList(I).decimalFloatingPoint("TIME-OFFSET");Object(i.isFiniteNumber)(Y)&&(y.startTimeOffset=Y);break;case"MAP":var q=new l.AttrList(I);L.relurl=q.URI,q.BYTERANGE&&L.setByteRange(q.BYTERANGE),L.level=r,L.sn="initSegment",g&&(L.levelkey=g),L.initSegment=null,C=L,_=!0;break;case"SERVER-CONTROL":var X=new l.AttrList(I);y.canBlockReload=X.bool("CAN-BLOCK-RELOAD"),y.canSkipUntil=X.optionalFloat("CAN-SKIP-UNTIL",0),y.canSkipDateRanges=y.canSkipUntil>0&&X.bool("CAN-SKIP-DATERANGES"),y.partHoldBack=X.optionalFloat("PART-HOLD-BACK",0),y.holdBack=X.optionalFloat("HOLD-BACK",0);break;case"PART-INF":var J=new l.AttrList(I);y.partTarget=J.decimalFloatingPoint("PART-TARGET");break;case"PART":var Q=y.partList;Q||(Q=y.partList=[]);var $=w>0?Q[Q.length-1]:void 0,ee=w++,te=new a.Part(new l.AttrList(I),L,t,ee,$);Q.push(te),L.duration+=te.duration;break;case"PRELOAD-HINT":var re=new l.AttrList(I);y.preloadHint=re;break;case"RENDITION-REPORT":var ie=new l.AttrList(I);y.renditionReports=y.renditionReports||[],y.renditionReports.push(ie);break;default:u.logger.warn("line parsed but not handled: "+d)}}}R&&!R.relurl?(E.pop(),T-=R.duration,y.partList&&(y.fragmentHint=R)):y.partList&&(b(L,R),L.cc=x,y.fragmentHint=L);var ne=E.length,ae=E[0],oe=E[ne-1];if((T+=y.skippedSegments*y.targetduration)>0&&ne&&oe){y.averagetargetduration=T/ne;var se=oe.sn;y.endSN="initSegment"!==se?se:0,ae&&(y.startCC=ae.cc,ae.initSegment||y.fragments.every((function(e){return e.relurl&&(t=e.relurl,v.test(null!=(r=null===(i=n.parseURL(t))||void 0===i?void 0:i.path)?r:""));var t,r,i}))&&(u.logger.warn("MP4 fragments found but no init segment (probably no MAP, incomplete M3U8), trying to fetch SIDX"),(L=new a.Fragment(c,t)).relurl=oe.relurl,L.level=r,L.sn="initSegment",ae.initSegment=L,y.needSidxRanges=!0))}else y.endSN=0,y.startCC=0;return y.fragmentHint&&(T+=y.fragmentHint.duration),y.totalduration=T,y.endCC=x,k>0&&function(e,t){for(var r=e[t],i=t;i--;){var n=e[i];if(!n)return;n.programDateTime=r.programDateTime-1e3*n.duration,r=n}}(E,k),y},e}();function g(e,t){["video","audio","text"].forEach((function(r){var i=e.filter((function(e){return Object(c.isCodecType)(e,r)}));if(i.length){var n=i.filter((function(e){return 0===e.lastIndexOf("avc1",0)||0===e.lastIndexOf("mp4a",0)}));t[r+"Codec"]=n.length>0?n[0]:i[0],e=e.filter((function(e){return-1===i.indexOf(e)}))}})),t.unknownCodecs=e}function y(e,t,r){var i=t[r];i&&(e[r]=i)}function b(e,t){e.rawProgramDateTime?e.programDateTime=Date.parse(e.rawProgramDateTime):null!=t&&t.programDateTime&&(e.programDateTime=t.endProgramDateTime),Object(i.isFiniteNumber)(e.programDateTime)||(e.programDateTime=null,e.rawProgramDateTime=null)}},"./repo/src/loader/playlist-loader.ts":function(e,t,r){"use strict";r.r(t);var i=r("./repo/src/polyfills/number.ts"),n=r("./repo/src/events.ts"),a=r("./repo/src/errors.ts"),o=r("./repo/src/utils/logger.ts"),s=r("./repo/src/utils/mp4-tools.ts"),l=r("./repo/src/loader/m3u8-parser.ts"),u=r("./repo/src/types/loader.ts"),c=r("./repo/src/utils/attr-list.ts");function f(e,t){var r=e.url;return void 0!==r&&0!==r.indexOf("data:")||(r=t.url),r}var d=function(){function e(e){this.hls=void 0,this.loaders=Object.create(null),this.hls=e,this.registerListeners()}var t=e.prototype;return t.registerListeners=function(){var e=this.hls;e.on(n.Events.MANIFEST_LOADING,this.onManifestLoading,this),e.on(n.Events.LEVEL_LOADING,this.onLevelLoading,this),e.on(n.Events.AUDIO_TRACK_LOADING,this.onAudioTrackLoading,this),e.on(n.Events.SUBTITLE_TRACK_LOADING,this.onSubtitleTrackLoading,this)},t.unregisterListeners=function(){var e=this.hls;e.off(n.Events.MANIFEST_LOADING,this.onManifestLoading,this),e.off(n.Events.LEVEL_LOADING,this.onLevelLoading,this),e.off(n.Events.AUDIO_TRACK_LOADING,this.onAudioTrackLoading,this),e.off(n.Events.SUBTITLE_TRACK_LOADING,this.onSubtitleTrackLoading,this)},t.createInternalLoader=function(e){var t=this.hls.config,r=t.pLoader,i=t.loader,n=new(r||i)(t);return e.loader=n,this.loaders[e.type]=n,n},t.getInternalLoader=function(e){return this.loaders[e.type]},t.resetInternalLoader=function(e){this.loaders[e]&&delete this.loaders[e]},t.destroyInternalLoaders=function(){for(var e in this.loaders){var t=this.loaders[e];t&&t.destroy(),this.resetInternalLoader(e)}},t.destroy=function(){this.unregisterListeners(),this.destroyInternalLoaders()},t.onManifestLoading=function(e,t){var r=t.url;this.load({id:null,groupId:null,level:0,responseType:"text",type:u.PlaylistContextType.MANIFEST,url:r,deliveryDirectives:null})},t.onLevelLoading=function(e,t){var r=t.id,i=t.level,n=t.url,a=t.deliveryDirectives;this.load({id:r,groupId:null,level:i,responseType:"text",type:u.PlaylistContextType.LEVEL,url:n,deliveryDirectives:a})},t.onAudioTrackLoading=function(e,t){var r=t.id,i=t.groupId,n=t.url,a=t.deliveryDirectives;this.load({id:r,groupId:i,level:null,responseType:"text",type:u.PlaylistContextType.AUDIO_TRACK,url:n,deliveryDirectives:a})},t.onSubtitleTrackLoading=function(e,t){var r=t.id,i=t.groupId,n=t.url,a=t.deliveryDirectives;this.load({id:r,groupId:i,level:null,responseType:"text",type:u.PlaylistContextType.SUBTITLE_TRACK,url:n,deliveryDirectives:a})},t.load=function(e){var t,r,i,n,a,s,l=this.hls.config,c=this.getInternalLoader(e);if(c){var f=c.context;if(f&&f.url===e.url)return void o.logger.trace("[playlist-loader]: playlist request ongoing");o.logger.log("[playlist-loader]: aborting previous loader for type: "+e.type),c.abort()}switch(e.type){case u.PlaylistContextType.MANIFEST:r=l.manifestLoadingMaxRetry,i=l.manifestLoadingTimeOut,n=l.manifestLoadingRetryDelay,a=l.manifestLoadingMaxRetryTimeout;break;case u.PlaylistContextType.LEVEL:case u.PlaylistContextType.AUDIO_TRACK:case u.PlaylistContextType.SUBTITLE_TRACK:r=0,i=l.levelLoadingTimeOut;break;default:r=l.levelLoadingMaxRetry,i=l.levelLoadingTimeOut,n=l.levelLoadingRetryDelay,a=l.levelLoadingMaxRetryTimeout}if(c=this.createInternalLoader(e),null!==(t=e.deliveryDirectives)&&void 0!==t&&t.part&&(e.type===u.PlaylistContextType.LEVEL&&null!==e.level?s=this.hls.levels[e.level].details:e.type===u.PlaylistContextType.AUDIO_TRACK&&null!==e.id?s=this.hls.audioTracks[e.id].details:e.type===u.PlaylistContextType.SUBTITLE_TRACK&&null!==e.id&&(s=this.hls.subtitleTracks[e.id].details),s)){var d=s.partTarget,h=s.targetduration;d&&h&&(i=Math.min(1e3*Math.max(3*d,.8*h),i))}var p={timeout:i,maxRetry:r,retryDelay:n,maxRetryDelay:a,highWaterMark:0},v={onSuccess:this.loadsuccess.bind(this),onError:this.loaderror.bind(this),onTimeout:this.loadtimeout.bind(this)};c.load(e,p,v)},t.loadsuccess=function(e,t,r,i){if(void 0===i&&(i=null),r.isSidxRequest)return this.handleSidxRequest(e,r),void this.handlePlaylistLoaded(e,t,r,i);this.resetInternalLoader(r.type);var n=e.data;0===n.indexOf("#EXTM3U")?(t.parsing.start=performance.now(),n.indexOf("#EXTINF:")>0||n.indexOf("#EXT-X-TARGETDURATION:")>0?this.handleTrackOrLevelPlaylist(e,t,r,i):this.handleMasterPlaylist(e,t,r,i)):this.handleManifestParsingError(e,r,"no EXTM3U delimiter",i)},t.loaderror=function(e,t,r){void 0===r&&(r=null),this.handleNetworkError(t,r,!1,e)},t.loadtimeout=function(e,t,r){void 0===r&&(r=null),this.handleNetworkError(t,r,!0)},t.handleMasterPlaylist=function(e,t,r,i){var a=this.hls,s=e.data,u=f(e,r),d=l.default.parseMasterPlaylist(s,u),h=d.levels,p=d.sessionData;if(h.length){var v=h.map((function(e){return{id:e.attrs.AUDIO,audioCodec:e.audioCodec}})),m=h.map((function(e){return{id:e.attrs.SUBTITLES,textCodec:e.textCodec}})),g=l.default.parseMasterPlaylistMedia(s,u,"AUDIO",v),y=l.default.parseMasterPlaylistMedia(s,u,"SUBTITLES",m),b=l.default.parseMasterPlaylistMedia(s,u,"CLOSED-CAPTIONS");g.length&&(g.some((function(e){return!e.url}))||!h[0].audioCodec||h[0].attrs.AUDIO||(o.logger.log("[playlist-loader]: audio codec signaled in quality level, but no embedded audio track signaled, create one"),g.unshift({type:"main",name:"main",default:!1,autoselect:!1,forced:!1,id:-1,attrs:new c.AttrList({}),bitrate:0,url:""}))),a.trigger(n.Events.MANIFEST_LOADED,{levels:h,audioTracks:g,subtitles:y,captions:b,url:u,stats:t,networkDetails:i,sessionData:p})}else this.handleManifestParsingError(e,r,"no level found in manifest",i)},t.handleTrackOrLevelPlaylist=function(e,t,r,o){var s=this.hls,d=r.id,h=r.level,p=r.type,v=f(e,r),m=Object(i.isFiniteNumber)(d)?d:0,g=Object(i.isFiniteNumber)(h)?h:m,y=function(e){switch(e.type){case u.PlaylistContextType.AUDIO_TRACK:return u.PlaylistLevelType.AUDIO;case u.PlaylistContextType.SUBTITLE_TRACK:return u.PlaylistLevelType.SUBTITLE;default:return u.PlaylistLevelType.MAIN}}(r),b=l.default.parseLevelPlaylist(e.data,v,g,y,m);if(b.fragments.length){if(p===u.PlaylistContextType.MANIFEST){var E={attrs:new c.AttrList({}),bitrate:0,details:b,name:"",url:v};s.trigger(n.Events.MANIFEST_LOADED,{levels:[E],audioTracks:[],url:v,stats:t,networkDetails:o,sessionData:null})}if(t.parsing.end=performance.now(),b.needSidxRanges){var C,S=null===(C=b.fragments[0].initSegment)||void 0===C?void 0:C.url;this.load({url:S,isSidxRequest:!0,type:p,level:h,levelDetails:b,id:d,groupId:null,rangeStart:0,rangeEnd:2048,responseType:"arraybuffer",deliveryDirectives:null})}else r.levelDetails=b,this.handlePlaylistLoaded(e,t,r,o)}else s.trigger(n.Events.ERROR,{type:a.ErrorTypes.NETWORK_ERROR,details:a.ErrorDetails.LEVEL_EMPTY_ERROR,fatal:!1,url:v,reason:"no fragments found in level",level:"number"==typeof r.level?r.level:void 0})},t.handleSidxRequest=function(e,t){var r=Object(s.parseSegmentIndex)(new Uint8Array(e.data));if(r){var i=r.references,n=t.levelDetails;i.forEach((function(e,t){var i=e.info,a=n.fragments[t];0===a.byteRange.length&&a.setByteRange(String(1+i.end-i.start)+"@"+String(i.start)),a.initSegment&&a.initSegment.setByteRange(String(r.moovEndOffset)+"@0")}))}},t.handleManifestParsingError=function(e,t,r,i){this.hls.trigger(n.Events.ERROR,{type:a.ErrorTypes.NETWORK_ERROR,details:a.ErrorDetails.MANIFEST_PARSING_ERROR,fatal:t.type===u.PlaylistContextType.MANIFEST,url:e.url,reason:r,response:e,context:t,networkDetails:i})},t.handleNetworkError=function(e,t,r,i){void 0===r&&(r=!1),o.logger.warn("[playlist-loader]: A network "+(r?"timeout":"error")+" occurred while loading "+e.type+" level: "+e.level+" id: "+e.id+' group-id: "'+e.groupId+'"');var s=a.ErrorDetails.UNKNOWN,l=!1,c=this.getInternalLoader(e);switch(e.type){case u.PlaylistContextType.MANIFEST:s=r?a.ErrorDetails.MANIFEST_LOAD_TIMEOUT:a.ErrorDetails.MANIFEST_LOAD_ERROR,l=!0;break;case u.PlaylistContextType.LEVEL:s=r?a.ErrorDetails.LEVEL_LOAD_TIMEOUT:a.ErrorDetails.LEVEL_LOAD_ERROR,l=!1;break;case u.PlaylistContextType.AUDIO_TRACK:s=r?a.ErrorDetails.AUDIO_TRACK_LOAD_TIMEOUT:a.ErrorDetails.AUDIO_TRACK_LOAD_ERROR,l=!1;break;case u.PlaylistContextType.SUBTITLE_TRACK:s=r?a.ErrorDetails.SUBTITLE_TRACK_LOAD_TIMEOUT:a.ErrorDetails.SUBTITLE_LOAD_ERROR,l=!1}c&&this.resetInternalLoader(e.type);var f={type:a.ErrorTypes.NETWORK_ERROR,details:s,fatal:l,url:e.url,loader:c,context:e,networkDetails:t};i&&(f.response=i),this.hls.trigger(n.Events.ERROR,f)},t.handlePlaylistLoaded=function(e,t,r,i){var a=r.type,o=r.level,s=r.id,l=r.groupId,c=r.loader,f=r.levelDetails,d=r.deliveryDirectives;if(null!=f&&f.targetduration){if(c)switch(f.live&&(c.getCacheAge&&(f.ageHeader=c.getCacheAge()||0),c.getCacheAge&&!isNaN(f.ageHeader)||(f.ageHeader=0)),a){case u.PlaylistContextType.MANIFEST:case u.PlaylistContextType.LEVEL:this.hls.trigger(n.Events.LEVEL_LOADED,{details:f,level:o||0,id:s||0,stats:t,networkDetails:i,deliveryDirectives:d});break;case u.PlaylistContextType.AUDIO_TRACK:this.hls.trigger(n.Events.AUDIO_TRACK_LOADED,{details:f,id:s||0,groupId:l||"",stats:t,networkDetails:i,deliveryDirectives:d});break;case u.PlaylistContextType.SUBTITLE_TRACK:this.hls.trigger(n.Events.SUBTITLE_TRACK_LOADED,{details:f,id:s||0,groupId:l||"",stats:t,networkDetails:i,deliveryDirectives:d})}}else this.handleManifestParsingError(e,r,"invalid target duration",i)},e}();t.default=d},"./repo/src/polyfills/number.ts":function(e,t,r){"use strict";r.r(t),r.d(t,"isFiniteNumber",(function(){return i})),r.d(t,"MAX_SAFE_INTEGER",(function(){return n}));var i=Number.isFinite||function(e){return"number"==typeof e&&isFinite(e)},n=Number.MAX_SAFE_INTEGER||9007199254740991},"./repo/src/remux/aac-helper.ts":function(e,t,r){"use strict";r.r(t);var i=function(){function e(){}return e.getSilentFrame=function(e,t){if("mp4a.40.2"===e){if(1===t)return new Uint8Array([0,200,0,128,35,128]);if(2===t)return new Uint8Array([33,0,73,144,2,25,0,35,128]);if(3===t)return new Uint8Array([0,200,0,128,32,132,1,38,64,8,100,0,142]);if(4===t)return new Uint8Array([0,200,0,128,32,132,1,38,64,8,100,0,128,44,128,8,2,56]);if(5===t)return new Uint8Array([0,200,0,128,32,132,1,38,64,8,100,0,130,48,4,153,0,33,144,2,56]);if(6===t)return new Uint8Array([0,200,0,128,32,132,1,38,64,8,100,0,130,48,4,153,0,33,144,2,0,178,0,32,8,224])}else{if(1===t)return new Uint8Array([1,64,34,128,163,78,230,128,186,8,0,0,0,28,6,241,193,10,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,94]);if(2===t)return new Uint8Array([1,64,34,128,163,94,230,128,186,8,0,0,0,0,149,0,6,241,161,10,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,94]);if(3===t)return new Uint8Array([1,64,34,128,163,94,230,128,186,8,0,0,0,0,149,0,6,241,161,10,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,94])}},e}();t.default=i},"./repo/src/remux/mp4-generator.ts":function(e,t,r){"use strict";r.r(t);var i=Math.pow(2,32)-1,n=function(){function e(){}return e.init=function(){var t;for(t in e.types={avc1:[],avcC:[],btrt:[],dinf:[],dref:[],esds:[],ftyp:[],hdlr:[],mdat:[],mdhd:[],mdia:[],mfhd:[],minf:[],moof:[],moov:[],mp4a:[],".mp3":[],mvex:[],mvhd:[],pasp:[],sdtp:[],stbl:[],stco:[],stsc:[],stsd:[],stsz:[],stts:[],tfdt:[],tfhd:[],traf:[],trak:[],trun:[],trex:[],tkhd:[],vmhd:[],smhd:[]},e.types)e.types.hasOwnProperty(t)&&(e.types[t]=[t.charCodeAt(0),t.charCodeAt(1),t.charCodeAt(2),t.charCodeAt(3)]);var r=new Uint8Array([0,0,0,0,0,0,0,0,118,105,100,101,0,0,0,0,0,0,0,0,0,0,0,0,86,105,100,101,111,72,97,110,100,108,101,114,0]),i=new Uint8Array([0,0,0,0,0,0,0,0,115,111,117,110,0,0,0,0,0,0,0,0,0,0,0,0,83,111,117,110,100,72,97,110,100,108,101,114,0]);e.HDLR_TYPES={video:r,audio:i};var n=new Uint8Array([0,0,0,0,0,0,0,1,0,0,0,12,117,114,108,32,0,0,0,1]),a=new Uint8Array([0,0,0,0,0,0,0,0]);e.STTS=e.STSC=e.STCO=a,e.STSZ=new Uint8Array([0,0,0,0,0,0,0,0,0,0,0,0]),e.VMHD=new Uint8Array([0,0,0,1,0,0,0,0,0,0,0,0]),e.SMHD=new Uint8Array([0,0,0,0,0,0,0,0]),e.STSD=new Uint8Array([0,0,0,0,0,0,0,1]);var o=new Uint8Array([105,115,111,109]),s=new Uint8Array([97,118,99,49]),l=new Uint8Array([0,0,0,1]);e.FTYP=e.box(e.types.ftyp,o,l,o,s),e.DINF=e.box(e.types.dinf,e.box(e.types.dref,n))},e.box=function(e){for(var t=8,r=arguments.length,i=new Array(r>1?r-1:0),n=1;n<r;n++)i[n-1]=arguments[n];for(var a=i.length,o=a;a--;)t+=i[a].byteLength;var s=new Uint8Array(t);for(s[0]=t>>24&255,s[1]=t>>16&255,s[2]=t>>8&255,s[3]=255&t,s.set(e,4),a=0,t=8;a<o;a++)s.set(i[a],t),t+=i[a].byteLength;return s},e.hdlr=function(t){return e.box(e.types.hdlr,e.HDLR_TYPES[t])},e.mdat=function(t){return e.box(e.types.mdat,t)},e.mdhd=function(t,r){r*=t;var n=Math.floor(r/(i+1)),a=Math.floor(r%(i+1));return e.box(e.types.mdhd,new Uint8Array([1,0,0,0,0,0,0,0,0,0,0,2,0,0,0,0,0,0,0,3,t>>24&255,t>>16&255,t>>8&255,255&t,n>>24,n>>16&255,n>>8&255,255&n,a>>24,a>>16&255,a>>8&255,255&a,85,196,0,0]))},e.mdia=function(t){return e.box(e.types.mdia,e.mdhd(t.timescale,t.duration),e.hdlr(t.type),e.minf(t))},e.mfhd=function(t){return e.box(e.types.mfhd,new Uint8Array([0,0,0,0,t>>24,t>>16&255,t>>8&255,255&t]))},e.minf=function(t){return"audio"===t.type?e.box(e.types.minf,e.box(e.types.smhd,e.SMHD),e.DINF,e.stbl(t)):e.box(e.types.minf,e.box(e.types.vmhd,e.VMHD),e.DINF,e.stbl(t))},e.moof=function(t,r,i){return e.box(e.types.moof,e.mfhd(t),e.traf(i,r))},e.moov=function(t){for(var r=t.length,i=[];r--;)i[r]=e.trak(t[r]);return e.box.apply(null,[e.types.moov,e.mvhd(t[0].timescale,t[0].duration)].concat(i).concat(e.mvex(t)))},e.mvex=function(t){for(var r=t.length,i=[];r--;)i[r]=e.trex(t[r]);return e.box.apply(null,[e.types.mvex].concat(i))},e.mvhd=function(t,r){r*=t;var n=Math.floor(r/(i+1)),a=Math.floor(r%(i+1)),o=new Uint8Array([1,0,0,0,0,0,0,0,0,0,0,2,0,0,0,0,0,0,0,3,t>>24&255,t>>16&255,t>>8&255,255&t,n>>24,n>>16&255,n>>8&255,255&n,a>>24,a>>16&255,a>>8&255,255&a,0,1,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,64,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,255,255,255,255]);return e.box(e.types.mvhd,o)},e.sdtp=function(t){var r,i,n=t.samples||[],a=new Uint8Array(4+n.length);for(r=0;r<n.length;r++)i=n[r].flags,a[r+4]=i.dependsOn<<4|i.isDependedOn<<2|i.hasRedundancy;return e.box(e.types.sdtp,a)},e.stbl=function(t){return e.box(e.types.stbl,e.stsd(t),e.box(e.types.stts,e.STTS),e.box(e.types.stsc,e.STSC),e.box(e.types.stsz,e.STSZ),e.box(e.types.stco,e.STCO))},e.avc1=function(t){var r,i,n,a=[],o=[];for(r=0;r<t.sps.length;r++)n=(i=t.sps[r]).byteLength,a.push(n>>>8&255),a.push(255&n),a=a.concat(Array.prototype.slice.call(i));for(r=0;r<t.pps.length;r++)n=(i=t.pps[r]).byteLength,o.push(n>>>8&255),o.push(255&n),o=o.concat(Array.prototype.slice.call(i));var s=e.box(e.types.avcC,new Uint8Array([1,a[3],a[4],a[5],255,224|t.sps.length].concat(a).concat([t.pps.length]).concat(o))),l=t.width,u=t.height,c=t.pixelRatio[0],f=t.pixelRatio[1];return e.box(e.types.avc1,new Uint8Array([0,0,0,0,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,l>>8&255,255&l,u>>8&255,255&u,0,72,0,0,0,72,0,0,0,0,0,0,0,1,18,100,97,105,108,121,109,111,116,105,111,110,47,104,108,115,46,106,115,0,0,0,0,0,0,0,0,0,0,0,0,0,0,24,17,17]),s,e.box(e.types.btrt,new Uint8Array([0,28,156,128,0,45,198,192,0,45,198,192])),e.box(e.types.pasp,new Uint8Array([c>>24,c>>16&255,c>>8&255,255&c,f>>24,f>>16&255,f>>8&255,255&f])))},e.esds=function(e){var t=e.config.length;return new Uint8Array([0,0,0,0,3,23+t,0,1,0,4,15+t,64,21,0,0,0,0,0,0,0,0,0,0,0,5].concat([t]).concat(e.config).concat([6,1,2]))},e.mp4a=function(t){var r=t.samplerate;return e.box(e.types.mp4a,new Uint8Array([0,0,0,0,0,0,0,1,0,0,0,0,0,0,0,0,0,t.channelCount,0,16,0,0,0,0,r>>8&255,255&r,0,0]),e.box(e.types.esds,e.esds(t)))},e.mp3=function(t){var r=t.samplerate;return e.box(e.types[".mp3"],new Uint8Array([0,0,0,0,0,0,0,1,0,0,0,0,0,0,0,0,0,t.channelCount,0,16,0,0,0,0,r>>8&255,255&r,0,0]))},e.stsd=function(t){return"audio"===t.type?t.isAAC||"mp3"!==t.codec?e.box(e.types.stsd,e.STSD,e.mp4a(t)):e.box(e.types.stsd,e.STSD,e.mp3(t)):e.box(e.types.stsd,e.STSD,e.avc1(t))},e.tkhd=function(t){var r=t.id,n=t.duration*t.timescale,a=t.width,o=t.height,s=Math.floor(n/(i+1)),l=Math.floor(n%(i+1));return e.box(e.types.tkhd,new Uint8Array([1,0,0,7,0,0,0,0,0,0,0,2,0,0,0,0,0,0,0,3,r>>24&255,r>>16&255,r>>8&255,255&r,0,0,0,0,s>>24,s>>16&255,s>>8&255,255&s,l>>24,l>>16&255,l>>8&255,255&l,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,64,0,0,0,a>>8&255,255&a,0,0,o>>8&255,255&o,0,0]))},e.traf=function(t,r){var n=e.sdtp(t),a=t.id,o=Math.floor(r/(i+1)),s=Math.floor(r%(i+1));return e.box(e.types.traf,e.box(e.types.tfhd,new Uint8Array([0,0,0,0,a>>24,a>>16&255,a>>8&255,255&a])),e.box(e.types.tfdt,new Uint8Array([1,0,0,0,o>>24,o>>16&255,o>>8&255,255&o,s>>24,s>>16&255,s>>8&255,255&s])),e.trun(t,n.length+16+20+8+16+8+8),n)},e.trak=function(t){return t.duration=t.duration||4294967295,e.box(e.types.trak,e.tkhd(t),e.mdia(t))},e.trex=function(t){var r=t.id;return e.box(e.types.trex,new Uint8Array([0,0,0,0,r>>24,r>>16&255,r>>8&255,255&r,0,0,0,1,0,0,0,0,0,0,0,0,0,1,0,1]))},e.trun=function(t,r){var i,n,a,o,s,l,u=t.samples||[],c=u.length,f=12+16*c,d=new Uint8Array(f);for(r+=8+f,d.set([0,0,15,1,c>>>24&255,c>>>16&255,c>>>8&255,255&c,r>>>24&255,r>>>16&255,r>>>8&255,255&r],0),i=0;i<c;i++)a=(n=u[i]).duration,o=n.size,s=n.flags,l=n.cts,d.set([a>>>24&255,a>>>16&255,a>>>8&255,255&a,o>>>24&255,o>>>16&255,o>>>8&255,255&o,s.isLeading<<2|s.dependsOn,s.isDependedOn<<6|s.hasRedundancy<<4|s.paddingValue<<1|s.isNonSync,61440&s.degradPrio,15&s.degradPrio,l>>>24&255,l>>>16&255,l>>>8&255,255&l],12+16*i);return e.box(e.types.trun,d)},e.initSegment=function(t){e.types||e.init();var r=e.moov(t),i=new Uint8Array(e.FTYP.byteLength+r.byteLength);return i.set(e.FTYP),i.set(r,e.FTYP.byteLength),i},e}();n.types=void 0,n.HDLR_TYPES=void 0,n.STTS=void 0,n.STSC=void 0,n.STCO=void 0,n.STSZ=void 0,n.VMHD=void 0,n.SMHD=void 0,n.STSD=void 0,n.FTYP=void 0,n.DINF=void 0,t.default=n},"./repo/src/remux/mp4-remuxer.ts":function(e,t,r){"use strict";r.r(t),r.d(t,"default",(function(){return v})),r.d(t,"normalizePts",(function(){return m})),r.d(t,"flushTextTrackMetadataCueSamples",(function(){return g})),r.d(t,"flushTextTrackUserdataCueSamples",(function(){return y}));var i=r("./repo/src/polyfills/number.ts"),n=r("./repo/src/remux/aac-helper.ts"),a=r("./repo/src/remux/mp4-generator.ts"),o=r("./repo/src/events.ts"),s=r("./repo/src/errors.ts"),l=r("./repo/src/utils/logger.ts"),u=r("./repo/src/types/loader.ts"),c=r("./repo/src/utils/timescale-conversion.ts");function f(){return(f=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var i in r)Object.prototype.hasOwnProperty.call(r,i)&&(e[i]=r[i])}return e}).apply(this,arguments)}var d=null,h=null,p=!1,v=function(){function e(e,t,r,i){if(void 0===i&&(i=""),this.observer=void 0,this.config=void 0,this.typeSupported=void 0,this.ISGenerated=!1,this._initPTS=void 0,this._initDTS=void 0,this.nextAvcDts=null,this.nextAudioPts=null,this.isAudioContiguous=!1,this.isVideoContiguous=!1,this.observer=e,this.config=t,this.typeSupported=r,this.ISGenerated=!1,null===d){var n=(navigator.userAgent||"").match(/Chrome\/(\d+)/i);d=n?parseInt(n[1]):0}if(null===h){var a=navigator.userAgent.match(/Safari\/(\d+)/i);h=a?parseInt(a[1]):0}p=!!d&&d<75||!!h&&h<600}var t=e.prototype;return t.destroy=function(){},t.resetTimeStamp=function(e){l.logger.log("[mp4-remuxer]: initPTS & initDTS reset"),this._initPTS=this._initDTS=e},t.resetNextTimestamp=function(){l.logger.log("[mp4-remuxer]: reset next timestamp"),this.isVideoContiguous=!1,this.isAudioContiguous=!1},t.resetInitSegment=function(){l.logger.log("[mp4-remuxer]: ISGenerated flag reset"),this.ISGenerated=!1},t.getVideoStartPts=function(e){var t=!1,r=e.reduce((function(e,r){var i=r.pts-e;return i<-4294967296?(t=!0,m(e,r.pts)):i>0?e:r.pts}),e[0].pts);return t&&l.logger.debug("PTS rollover detected"),r},t.remux=function(e,t,r,i,n,a,o,s){var c,f,d,h,p,v,b=n,E=n,C=e.pid>-1,S=t.pid>-1,w=t.samples.length,T=e.samples.length>0,x=w>1;if((!C||T)&&(!S||x)||this.ISGenerated||o){this.ISGenerated||(d=this.generateIS(e,t,n));var R=this.isVideoContiguous,L=-1;if(x&&(L=function(e){for(var t=0;t<e.length;t++)if(e[t].key)return t;return-1}(t.samples),!R&&this.config.forceKeyFrameOnDiscontinuity))if(v=!0,L>0){l.logger.warn("[mp4-remuxer]: Dropped "+L+" out of "+w+" video samples due to a missing keyframe");var k=this.getVideoStartPts(t.samples);t.samples=t.samples.slice(L),t.dropped+=L,E+=(t.samples[0].pts-k)/(t.timescale||9e4)}else-1===L&&(l.logger.warn("[mp4-remuxer]: No keyframe found out of "+w+" video samples"),v=!1);if(this.ISGenerated){if(T&&x){var _=this.getVideoStartPts(t.samples),A=(m(e.samples[0].pts,_)-_)/t.inputTimeScale;b+=Math.max(0,A),E+=Math.max(0,-A)}if(T){if(e.samplerate||(l.logger.warn("[mp4-remuxer]: regenerate InitSegment as audio detected"),d=this.generateIS(e,t,n)),f=this.remuxAudio(e,b,this.isAudioContiguous,a,S||x||s===u.PlaylistLevelType.AUDIO?E:void 0),x){var D=f?f.endPTS-f.startPTS:0;t.inputTimeScale||(l.logger.warn("[mp4-remuxer]: regenerate InitSegment as video detected"),d=this.generateIS(e,t,n)),c=this.remuxVideo(t,E,R,D)}}else x&&(c=this.remuxVideo(t,E,R,0));c&&(c.firstKeyFrame=L,c.independent=-1!==L)}}return this.ISGenerated&&(r.samples.length&&(p=g(r,n,this._initPTS,this._initDTS)),i.samples.length&&(h=y(i,n,this._initPTS))),{audio:f,video:c,initSegment:d,independent:v,text:h,id3:p}},t.generateIS=function(e,t,r){var n,o,s,l=e.samples,u=t.samples,c=this.typeSupported,f={},d=!Object(i.isFiniteNumber)(this._initPTS),h="audio/mp4";if(d&&(n=o=1/0),e.config&&l.length&&(e.timescale=e.samplerate,e.isAAC||(c.mpeg?(h="audio/mpeg",e.codec=""):c.mp3&&(e.codec="mp3")),f.audio={id:"audio",container:h,codec:e.codec,initSegment:!e.isAAC&&c.mpeg?new Uint8Array(0):a.default.initSegment([e]),metadata:{channelCount:e.channelCount}},d&&(s=e.inputTimeScale,n=o=l[0].pts-Math.round(s*r))),t.sps&&t.pps&&u.length&&(t.timescale=t.inputTimeScale,f.video={id:"main",container:"video/mp4",codec:t.codec,initSegment:a.default.initSegment([t]),metadata:{width:t.width,height:t.height}},d)){s=t.inputTimeScale;var p=this.getVideoStartPts(u),v=Math.round(s*r);o=Math.min(o,m(u[0].dts,p)-v),n=Math.min(n,p-v)}if(Object.keys(f).length)return this.ISGenerated=!0,d&&(this._initPTS=n,this._initDTS=o),{tracks:f,initPTS:n,timescale:s}},t.remuxVideo=function(e,t,r,i){var n,u,h,v=e.inputTimeScale,g=e.samples,y=[],E=g.length,C=this._initPTS,S=this.nextAvcDts,w=8,T=Number.POSITIVE_INFINITY,x=Number.NEGATIVE_INFINITY,R=0,L=!1;r&&null!==S||(S=t*v-(g[0].pts-m(g[0].dts,g[0].pts)));for(var k=0;k<E;k++){var _=g[k];_.pts=m(_.pts-C,S),_.dts=m(_.dts-C,S),_.dts>_.pts&&(R=Math.max(Math.min(R,_.pts-_.dts),-18e3)),_.dts<g[k>0?k-1:k].dts&&(L=!0)}L&&g.sort((function(e,t){var r=e.dts-t.dts,i=e.pts-t.pts;return r||i})),u=g[0].dts,h=g[g.length-1].dts;var A=Math.round((h-u)/(E-1));if(R<0){if(R<-2*A){l.logger.warn("PTS < DTS detected in video samples, offsetting DTS from PTS by "+Object(c.toMsFromMpegTsClock)(-A,!0)+" ms");for(var D=R,O=0;O<E;O++)g[O].dts=D=Math.max(D,g[O].pts-A),g[O].pts=Math.max(D,g[O].pts)}else{l.logger.warn("PTS < DTS detected in video samples, shifting DTS by "+Object(c.toMsFromMpegTsClock)(R,!0)+" ms to overcome this issue");for(var P=0;P<E;P++)g[P].dts=g[P].dts+R}u=g[0].dts}if(r){var I=u-S,M=I>A;if(M||I<-1){M?l.logger.warn("AVC: "+Object(c.toMsFromMpegTsClock)(I,!0)+" ms ("+I+"dts) hole between fragments detected, filling it"):l.logger.warn("AVC: "+Object(c.toMsFromMpegTsClock)(-I,!0)+" ms ("+I+"dts) overlapping between fragments detected"),u=S;var B=g[0].pts-I;g[0].dts=u,g[0].pts=B,l.logger.log("Video: First PTS/DTS adjusted: "+Object(c.toMsFromMpegTsClock)(B,!0)+"/"+Object(c.toMsFromMpegTsClock)(u,!0)+", delta: "+Object(c.toMsFromMpegTsClock)(I,!0)+" ms")}}p&&(u=Math.max(0,u));for(var F=0,N=0,U=0;U<E;U++){for(var j=g[U],H=j.units,V=H.length,G=0,z=0;z<V;z++)G+=H[z].data.length;N+=G,F+=V,j.length=G,j.dts=Math.max(j.dts,u),j.pts=Math.max(j.pts,j.dts,0),T=Math.min(j.pts,T),x=Math.max(j.pts,x)}h=g[E-1].dts;var Z,K=N+4*F+8;try{Z=new Uint8Array(K)}catch(e){return void this.observer.emit(o.Events.ERROR,o.Events.ERROR,{type:s.ErrorTypes.MUX_ERROR,details:s.ErrorDetails.REMUX_ALLOC_ERROR,fatal:!1,bytes:K,reason:"fail allocating video mdat "+K})}var W=new DataView(Z.buffer);W.setUint32(0,K),Z.set(a.default.types.mdat,4);for(var Y=0;Y<E;Y++){for(var q=g[Y],X=q.units,J=0,Q=0,$=X.length;Q<$;Q++){var ee=X[Q],te=ee.data,re=ee.data.byteLength;W.setUint32(w,re),w+=4,Z.set(te,w),w+=re,J+=4+re}if(Y<E-1)n=g[Y+1].dts-q.dts;else{var ie=this.config,ne=q.dts-g[Y>0?Y-1:Y].dts;if(ie.stretchShortVideoTrack&&null!==this.nextAudioPts){var ae=Math.floor(ie.maxBufferHole*v),oe=(i?T+i*v:this.nextAudioPts)-q.pts;oe>ae?((n=oe-ne)<0&&(n=ne),l.logger.log("[mp4-remuxer]: It is approximately "+oe/90+" ms to the next segment; using duration "+n/90+" ms for the last video frame.")):n=ne}else n=ne}var se=Math.round(q.pts-q.dts);y.push(new b(q.key,n,J,se))}if(y.length&&d&&d<70){var le=y[0].flags;le.dependsOn=2,le.isNonSync=0}console.assert(void 0!==n,"mp4SampleDuration must be computed"),this.nextAvcDts=S=h+n,this.isVideoContiguous=!0;var ue={data1:a.default.moof(e.sequenceNumber++,u,f({},e,{samples:y})),data2:Z,startPTS:T/v,endPTS:(x+n)/v,startDTS:u/v,endDTS:S/v,type:"video",hasAudio:!1,hasVideo:!0,nb:y.length,dropped:e.dropped};return e.samples=[],e.dropped=0,console.assert(Z.length,"MDAT length must not be zero"),ue},t.remuxAudio=function(e,t,r,i,u){var c=e.inputTimeScale,d=c/(e.samplerate?e.samplerate:c),h=e.isAAC?1024:1152,p=h*d,v=this._initPTS,g=!e.isAAC&&this.typeSupported.mpeg,y=[],E=e.samples,C=g?0:8,S=this.nextAudioPts||-1,w=t*c;if(this.isAudioContiguous=r=r||E.length&&S>0&&(i&&Math.abs(w-S)<9e3||Math.abs(m(E[0].pts-v,w)-S)<20*p),E.forEach((function(e){e.pts=m(e.pts-v,w)})),!r||S<0){if(!(E=E.filter((function(e){return e.pts>=0}))).length)return;S=0===u?0:i?Math.max(0,w):E[0].pts}if(e.isAAC)for(var T=void 0!==u,x=this.config.maxAudioFramesDrift,R=0,L=S;R<E.length;R++){var k=E[R],_=k.pts,A=_-L,D=Math.abs(1e3*A/c);if(A<=-x*p&&T)0===R&&(l.logger.warn("Audio frame @ "+(_/c).toFixed(3)+"s overlaps nextAudioPts by "+Math.round(1e3*A/c)+" ms."),this.nextAudioPts=S=L=_);else if(A>=x*p&&D<1e4&&T){var O=Math.round(A/p);(L=_-O*p)<0&&(O--,L+=p),0===R&&(this.nextAudioPts=S=L),l.logger.warn("[mp4-remuxer]: Injecting "+O+" audio frame @ "+(L/c).toFixed(3)+"s due to "+Math.round(1e3*A/c)+" ms gap.");for(var P=0;P<O;P++){var I=Math.max(L,0),M=n.default.getSilentFrame(e.manifestCodec||e.codec,e.channelCount);M||(l.logger.log("[mp4-remuxer]: Unable to get silent frame for given audio codec; duplicating last frame instead."),M=k.unit.subarray()),E.splice(R,0,{unit:M,pts:I}),L+=p,R++}}k.pts=L,L+=p}for(var B,F=null,N=null,U=0,j=E.length;j--;)U+=E[j].unit.byteLength;for(var H=0,V=E.length;H<V;H++){var G=E[H],z=G.unit,Z=G.pts;if(null!==N)y[H-1].duration=Math.round((Z-N)/d);else{if(r&&e.isAAC&&(Z=S),F=Z,!(U>0))return;U+=C;try{B=new Uint8Array(U)}catch(e){return void this.observer.emit(o.Events.ERROR,o.Events.ERROR,{type:s.ErrorTypes.MUX_ERROR,details:s.ErrorDetails.REMUX_ALLOC_ERROR,fatal:!1,bytes:U,reason:"fail allocating audio mdat "+U})}g||(new DataView(B.buffer).setUint32(0,U),B.set(a.default.types.mdat,4))}B.set(z,C);var K=z.byteLength;C+=K,y.push(new b(!0,h,K,0)),N=Z}var W=y.length;if(W){var Y=y[y.length-1];this.nextAudioPts=S=N+d*Y.duration;var q=g?new Uint8Array(0):a.default.moof(e.sequenceNumber++,F/d,f({},e,{samples:y}));e.samples=[];var X=F/c,J=S/c,Q={data1:q,data2:B,startPTS:X,endPTS:J,startDTS:X,endDTS:J,type:"audio",hasAudio:!0,hasVideo:!1,nb:W};return this.isAudioContiguous=!0,console.assert(B.length,"MDAT length must not be zero"),Q}},t.remuxEmptyAudio=function(e,t,r,i){var a=e.inputTimeScale,o=a/(e.samplerate?e.samplerate:a),s=this.nextAudioPts,u=(null!==s?s:i.startDTS*a)+this._initDTS,c=i.endDTS*a+this._initDTS,f=1024*o,d=Math.ceil((c-u)/f),h=n.default.getSilentFrame(e.manifestCodec||e.codec,e.channelCount);if(l.logger.warn("[mp4-remuxer]: remux empty Audio"),h){for(var p=[],v=0;v<d;v++){var m=u+v*f;p.push({unit:h,pts:m,dts:m})}return e.samples=p,this.remuxAudio(e,t,r,!1)}l.logger.trace("[mp4-remuxer]: Unable to remuxEmptyAudio since we were unable to get a silent frame for given audio codec")},e}();function m(e,t){var r;if(null===t)return e;for(r=t<e?-8589934592:8589934592;Math.abs(e-t)>4294967296;)e+=r;return e}function g(e,t,r,i){var n=e.samples.length;if(n){for(var a=e.inputTimeScale,o=0;o<n;o++){var s=e.samples[o];s.pts=m(s.pts-r,t*a)/a,s.dts=m(s.dts-i,t*a)/a}var l=e.samples;return e.samples=[],{samples:l}}}function y(e,t,r){var i=e.samples.length;if(i){for(var n=e.inputTimeScale,a=0;a<i;a++){var o=e.samples[a];o.pts=m(o.pts-r,t*n)/n}e.samples.sort((function(e,t){return e.pts-t.pts}));var s=e.samples;return e.samples=[],{samples:s}}}var b=function(e,t,r,i){this.size=void 0,this.duration=void 0,this.cts=void 0,this.flags=void 0,this.duration=t,this.size=r,this.cts=i,this.flags=new E(e)},E=function(e){this.isLeading=0,this.isDependedOn=0,this.hasRedundancy=0,this.degradPrio=0,this.dependsOn=1,this.isNonSync=1,this.dependsOn=e?2:1,this.isNonSync=e?0:1}},"./repo/src/remux/passthrough-remuxer.ts":function(e,t,r){"use strict";r.r(t);var i=r("./repo/src/polyfills/number.ts"),n=r("./repo/src/remux/mp4-remuxer.ts"),a=r("./repo/src/utils/mp4-tools.ts"),o=r("./repo/src/loader/fragment.ts"),s=r("./repo/src/utils/logger.ts"),l=function(){function e(){this.emitInitSegment=!1,this.audioCodec=void 0,this.videoCodec=void 0,this.initData=void 0,this.initPTS=void 0,this.initTracks=void 0,this.lastEndDTS=null}var t=e.prototype;return t.destroy=function(){},t.resetTimeStamp=function(e){this.initPTS=e,this.lastEndDTS=null},t.resetNextTimestamp=function(){this.lastEndDTS=null},t.resetInitSegment=function(e,t,r){this.audioCodec=t,this.videoCodec=r,this.generateInitSegment(e),this.emitInitSegment=!0},t.generateInitSegment=function(e){var t=this.audioCodec,r=this.videoCodec;if(!e||!e.byteLength)return this.initTracks=void 0,void(this.initData=void 0);var i=this.initData=Object(a.parseInitSegment)(e);t||(t=c(i.audio,o.ElementaryStreamTypes.AUDIO)),r||(r=c(i.video,o.ElementaryStreamTypes.VIDEO));var n={};i.audio&&i.video?n.audiovideo={container:"video/mp4",codec:t+","+r,initSegment:e,id:"main"}:i.audio?n.audio={container:"audio/mp4",codec:t,initSegment:e,id:"audio"}:i.video?n.video={container:"video/mp4",codec:r,initSegment:e,id:"main"}:s.logger.warn("[passthrough-remuxer.ts]: initSegment does not contain moov or trak boxes."),this.initTracks=n},t.remux=function(e,t,r,o,l){var c,f=this.initPTS,d=this.lastEndDTS,h={audio:void 0,video:void 0,text:o,id3:r,initSegment:void 0};Object(i.isFiniteNumber)(d)||(d=this.lastEndDTS=l||0);var p=t.samples;if(!p||!p.length)return h;var v={initPTS:void 0,timescale:1},m=this.initData;if(m&&m.length||(this.generateInitSegment(p),m=this.initData),!m||!m.length)return s.logger.warn("[passthrough-remuxer.ts]: Failed to generate initSegment."),h;this.emitInitSegment&&(v.tracks=this.initTracks,this.emitInitSegment=!1),Object(i.isFiniteNumber)(f)||(this.initPTS=v.initPTS=f=u(m,p,d));var g=Object(a.getDuration)(p,m),y=d,b=g+y;Object(a.offsetStartDTS)(m,p,f),g>0?this.lastEndDTS=b:(s.logger.warn("Duration parsed from mp4 should be greater than zero"),this.resetNextTimestamp());var E=!!m.audio,C=!!m.video,S="";E&&(S+="audio"),C&&(S+="video");var w={data1:p,startPTS:y,startDTS:y,endPTS:b,endDTS:b,type:S,hasAudio:E,hasVideo:C,nb:1,dropped:0};h.audio="audio"===w.type?w:void 0,h.video="audio"!==w.type?w:void 0,h.initSegment=v;var T=null!=(c=this.initPTS)?c:0;return h.id3=Object(n.flushTextTrackMetadataCueSamples)(r,l,T,T),o.samples.length&&(h.text=Object(n.flushTextTrackUserdataCueSamples)(o,l,T)),h},e}(),u=function(e,t,r){return Object(a.getStartDTS)(e,t)-r};function c(e,t){var r=null==e?void 0:e.codec;return r&&r.length>4?r:"hvc1"===r?"hvc1.1.c.L120.90":"av01"===r?"av01.0.04M.08":"avc1"===r||t===o.ElementaryStreamTypes.VIDEO?"avc1.42e01e":"mp4a.40.5"}t.default=l},"./repo/src/task-loop.ts":function(e,t,r){"use strict";r.r(t),r.d(t,"default",(function(){return i}));var i=function(){function e(){this._boundTick=void 0,this._tickTimer=null,this._tickInterval=null,this._tickCallCount=0,this._boundTick=this.tick.bind(this)}var t=e.prototype;return t.destroy=function(){this.onHandlerDestroying(),this.onHandlerDestroyed()},t.onHandlerDestroying=function(){this.clearNextTick(),this.clearInterval()},t.onHandlerDestroyed=function(){},t.hasInterval=function(){return!!this._tickInterval},t.hasNextTick=function(){return!!this._tickTimer},t.setInterval=function(e){return!this._tickInterval&&(this._tickInterval=self.setInterval(this._boundTick,e),!0)},t.clearInterval=function(){return!!this._tickInterval&&(self.clearInterval(this._tickInterval),this._tickInterval=null,!0)},t.clearNextTick=function(){return!!this._tickTimer&&(self.clearTimeout(this._tickTimer),this._tickTimer=null,!0)},t.tick=function(){this._tickCallCount++,1===this._tickCallCount&&(this.doTick(),this._tickCallCount>1&&this.tickImmediate(),this._tickCallCount=0)},t.tickImmediate=function(){this.clearNextTick(),this._tickTimer=self.setTimeout(this._boundTick,0)},t.doTick=function(){},e}()},"./repo/src/types/level.ts":function(e,t,r){"use strict";function i(e,t){for(var r=0;r<t.length;r++){var i=t[r];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}var n;function a(e,t){var r=e.canSkipUntil,i=e.canSkipDateRanges,a=e.endSN;return r&&(void 0!==t?t-a:0)<r?i?n.v2:n.Yes:n.No}r.r(t),r.d(t,"HlsSkip",(function(){return n})),r.d(t,"getSkipValue",(function(){return a})),r.d(t,"HlsUrlParameters",(function(){return o})),r.d(t,"Level",(function(){return s})),function(e){e.No="",e.Yes="YES",e.v2="v2"}(n||(n={}));var o=function(){function e(e,t,r){this.msn=void 0,this.part=void 0,this.skip=void 0,this.msn=e,this.part=t,this.skip=r}return e.prototype.addDirectives=function(e){var t=new self.URL(e);return void 0!==this.msn&&t.searchParams.set("_HLS_msn",this.msn.toString()),void 0!==this.part&&t.searchParams.set("_HLS_part",this.part.toString()),this.skip&&t.searchParams.set("_HLS_skip",this.skip),t.toString()},e}(),s=function(){function e(e){this.attrs=void 0,this.audioCodec=void 0,this.bitrate=void 0,this.codecSet=void 0,this.height=void 0,this.id=void 0,this.name=void 0,this.videoCodec=void 0,this.width=void 0,this.unknownCodecs=void 0,this.audioGroupIds=void 0,this.details=void 0,this.fragmentError=0,this.loadError=0,this.loaded=void 0,this.realBitrate=0,this.textGroupIds=void 0,this.url=void 0,this._urlId=0,this.url=[e.url],this.attrs=e.attrs,this.bitrate=e.bitrate,e.details&&(this.details=e.details),this.id=e.id||0,this.name=e.name,this.width=e.width||0,this.height=e.height||0,this.audioCodec=e.audioCodec,this.videoCodec=e.videoCodec,this.unknownCodecs=e.unknownCodecs,this.codecSet=[e.videoCodec,e.audioCodec].filter((function(e){return e})).join(",").replace(/\.[^.,]+/g,"")}var t,r;return t=e,(r=[{key:"maxBitrate",get:function(){return Math.max(this.realBitrate,this.bitrate)}},{key:"uri",get:function(){return this.url[this._urlId]||""}},{key:"urlId",get:function(){return this._urlId},set:function(e){var t=e%this.url.length;this._urlId!==t&&(this.details=void 0,this._urlId=t)}}])&&i(t.prototype,r),Object.defineProperty(t,"prototype",{writable:!1}),e}()},"./repo/src/types/loader.ts":function(e,t,r){"use strict";var i,n;r.r(t),r.d(t,"PlaylistContextType",(function(){return i})),r.d(t,"PlaylistLevelType",(function(){return n})),function(e){e.MANIFEST="manifest",e.LEVEL="level",e.AUDIO_TRACK="audioTrack",e.SUBTITLE_TRACK="subtitleTrack"}(i||(i={})),function(e){e.MAIN="main",e.AUDIO="audio",e.SUBTITLE="subtitle"}(n||(n={}))},"./repo/src/types/transmuxer.ts":function(e,t,r){"use strict";r.r(t),r.d(t,"ChunkMetadata",(function(){return i}));var i=function(e,t,r,i,n,a){void 0===i&&(i=0),void 0===n&&(n=-1),void 0===a&&(a=!1),this.level=void 0,this.sn=void 0,this.part=void 0,this.id=void 0,this.size=void 0,this.partial=void 0,this.transmuxing={start:0,executeStart:0,executeEnd:0,end:0},this.buffering={audio:{start:0,executeStart:0,executeEnd:0,end:0},video:{start:0,executeStart:0,executeEnd:0,end:0},audiovideo:{start:0,executeStart:0,executeEnd:0,end:0}},this.level=e,this.sn=t,this.id=r,this.size=i,this.part=n,this.partial=a}},"./repo/src/utils/attr-list.ts":function(e,t,r){"use strict";r.r(t),r.d(t,"AttrList",(function(){return a}));var i=/^(\d+)x(\d+)$/,n=/\s*(.+?)\s*=((?:\".*?\")|.*?)(?:,|$)/g,a=function(){function e(t){for(var r in"string"==typeof t&&(t=e.parseAttrList(t)),t)t.hasOwnProperty(r)&&(this[r]=t[r])}var t=e.prototype;return t.decimalInteger=function(e){var t=parseInt(this[e],10);return t>Number.MAX_SAFE_INTEGER?1/0:t},t.hexadecimalInteger=function(e){if(this[e]){var t=(this[e]||"0x").slice(2);t=(1&t.length?"0":"")+t;for(var r=new Uint8Array(t.length/2),i=0;i<t.length/2;i++)r[i]=parseInt(t.slice(2*i,2*i+2),16);return r}return null},t.hexadecimalIntegerAsNumber=function(e){var t=parseInt(this[e],16);return t>Number.MAX_SAFE_INTEGER?1/0:t},t.decimalFloatingPoint=function(e){return parseFloat(this[e])},t.optionalFloat=function(e,t){var r=this[e];return r?parseFloat(r):t},t.enumeratedString=function(e){return this[e]},t.bool=function(e){return"YES"===this[e]},t.decimalResolution=function(e){var t=i.exec(this[e]);if(null!==t)return{width:parseInt(t[1],10),height:parseInt(t[2],10)}},e.parseAttrList=function(e){var t,r={};for(n.lastIndex=0;null!==(t=n.exec(e));){var i=t[2];0===i.indexOf('"')&&i.lastIndexOf('"')===i.length-1&&(i=i.slice(1,-1)),r[t[1]]=i}return r},e}()},"./repo/src/utils/binary-search.ts":function(e,t,r){"use strict";r.r(t),t.default={search:function(e,t){for(var r=0,i=e.length-1,n=null,a=null;r<=i;){var o=t(a=e[n=(r+i)/2|0]);if(o>0)r=n+1;else{if(!(o<0))return a;i=n-1}}return null}}},"./repo/src/utils/buffer-helper.ts":function(e,t,r){"use strict";r.r(t),r.d(t,"BufferHelper",(function(){return a}));var i=r("./repo/src/utils/logger.ts"),n={length:0,start:function(){return 0},end:function(){return 0}},a=function(){function e(){}return e.isBuffered=function(t,r){try{if(t)for(var i=e.getBuffered(t),n=0;n<i.length;n++)if(r>=i.start(n)&&r<=i.end(n))return!0}catch(e){}return!1},e.bufferInfo=function(t,r,i){try{if(t){var n,a=e.getBuffered(t),o=[];for(n=0;n<a.length;n++)o.push({start:a.start(n),end:a.end(n)});return this.bufferedInfo(o,r,i)}}catch(e){}return{len:0,start:r,end:r,nextStart:void 0}},e.bufferedInfo=function(e,t,r){t=Math.max(0,t),e.sort((function(e,t){return e.start-t.start||t.end-e.end}));var i=[];if(r)for(var n=0;n<e.length;n++){var a=i.length;if(a){var o=i[a-1].end;e[n].start-o<r?e[n].end>o&&(i[a-1].end=e[n].end):i.push(e[n])}else i.push(e[n])}else i=e;for(var s,l=0,u=t,c=t,f=0;f<i.length;f++){var d=i[f].start,h=i[f].end;if(t+r>=d&&t<h)u=d,l=(c=h)-t;else if(t+r<d){s=d;break}}return{len:l,start:u||0,end:c||0,nextStart:s}},e.getBuffered=function(e){try{return e.buffered}catch(e){return i.logger.log("failed to get media.buffered",e),n}},e}()},"./repo/src/utils/codecs.ts":function(e,t,r){"use strict";r.r(t),r.d(t,"isCodecType",(function(){return n})),r.d(t,"isCodecSupportedInMp4",(function(){return a}));var i={audio:{a3ds:!0,"ac-3":!0,"ac-4":!0,alac:!0,alaw:!0,dra1:!0,"dts+":!0,"dts-":!0,dtsc:!0,dtse:!0,dtsh:!0,"ec-3":!0,enca:!0,g719:!0,g726:!0,m4ae:!0,mha1:!0,mha2:!0,mhm1:!0,mhm2:!0,mlpa:!0,mp4a:!0,"raw ":!0,Opus:!0,samr:!0,sawb:!0,sawp:!0,sevc:!0,sqcp:!0,ssmv:!0,twos:!0,ulaw:!0},video:{avc1:!0,avc2:!0,avc3:!0,avc4:!0,avcp:!0,av01:!0,drac:!0,dvav:!0,dvhe:!0,encv:!0,hev1:!0,hvc1:!0,mjp2:!0,mp4v:!0,mvc1:!0,mvc2:!0,mvc3:!0,mvc4:!0,resv:!0,rv60:!0,s263:!0,svc1:!0,svc2:!0,"vc-1":!0,vp08:!0,vp09:!0},text:{stpp:!0,wvtt:!0}};function n(e,t){var r=i[t];return!!r&&!0===r[e.slice(0,4)]}function a(e,t){return MediaSource.isTypeSupported((t||"video")+'/mp4;codecs="'+e+'"')}},"./repo/src/utils/discontinuities.ts":function(e,t,r){"use strict";r.r(t),r.d(t,"findFirstFragWithCC",(function(){return o})),r.d(t,"shouldAlignOnDiscontinuities",(function(){return s})),r.d(t,"findDiscontinuousReferenceFrag",(function(){return l})),r.d(t,"adjustSlidingStart",(function(){return c})),r.d(t,"alignStream",(function(){return f})),r.d(t,"alignPDT",(function(){return d})),r.d(t,"alignFragmentByPDTDelta",(function(){return h})),r.d(t,"alignMediaPlaylistByPDT",(function(){return p}));var i=r("./repo/src/polyfills/number.ts"),n=r("./repo/src/utils/logger.ts"),a=r("./repo/src/controller/level-helper.ts");function o(e,t){for(var r=null,i=0,n=e.length;i<n;i++){var a=e[i];if(a&&a.cc===t){r=a;break}}return r}function s(e,t,r){return!(!t.details||!(r.endCC>r.startCC||e&&e.cc<r.startCC))}function l(e,t){var r=e.fragments,i=t.fragments;if(i.length&&r.length){var a=o(r,i[0].cc);if(a&&(!a||a.startPTS))return a;n.logger.log("No frag in previous level to align on")}else n.logger.log("No fragments to align")}function u(e,t){if(e){var r=e.start+t;e.start=e.startPTS=r,e.endPTS=r+e.duration}}function c(e,t){for(var r=t.fragments,i=0,n=r.length;i<n;i++)u(r[i],e);t.fragmentHint&&u(t.fragmentHint,e),t.alignedSliding=!0}function f(e,t,r){t&&(function(e,t,r){if(s(e,r,t)){var a=l(r.details,t);a&&Object(i.isFiniteNumber)(a.start)&&(n.logger.log("Adjusting PTS using last level due to CC increase within current level "+t.url),c(a.start,t))}}(e,r,t),!r.alignedSliding&&t.details&&d(r,t.details),r.alignedSliding||!t.details||r.skippedSegments||Object(a.adjustSliding)(t.details,r))}function d(e,t){if(t.fragments.length&&e.hasProgramDateTime&&t.hasProgramDateTime){var r=t.fragments[0].programDateTime,a=e.fragments[0].programDateTime,o=(a-r)/1e3+t.fragments[0].start;o&&Object(i.isFiniteNumber)(o)&&(n.logger.log("Adjusting PTS using programDateTime delta "+(a-r)+"ms, sliding:"+o.toFixed(3)+" "+e.url+" "),c(o,e))}}function h(e,t){var r=e.programDateTime;if(r){var i=(r-t)/1e3;e.start=e.startPTS=i,e.endPTS=i+e.duration}}function p(e,t){if(t.fragments.length&&e.hasProgramDateTime&&t.hasProgramDateTime){var r=t.fragments[0].programDateTime-1e3*t.fragments[0].start;e.fragments.forEach((function(e){h(e,r)})),e.fragmentHint&&h(e.fragmentHint,r),e.alignedSliding=!0}}},"./repo/src/utils/ewma-bandwidth-estimator.ts":function(e,t,r){"use strict";r.r(t);var i=r("./repo/src/utils/ewma.ts"),n=function(){function e(e,t,r){this.defaultEstimate_=void 0,this.minWeight_=void 0,this.minDelayMs_=void 0,this.slow_=void 0,this.fast_=void 0,this.defaultEstimate_=r,this.minWeight_=.001,this.minDelayMs_=50,this.slow_=new i.default(e),this.fast_=new i.default(t)}var t=e.prototype;return t.update=function(e,t){var r=this.slow_,n=this.fast_;this.slow_.halfLife!==e&&(this.slow_=new i.default(e,r.getEstimate(),r.getTotalWeight())),this.fast_.halfLife!==t&&(this.fast_=new i.default(t,n.getEstimate(),n.getTotalWeight()))},t.sample=function(e,t){var r=(e=Math.max(e,this.minDelayMs_))/1e3,i=8*t/r;this.fast_.sample(r,i),this.slow_.sample(r,i)},t.canEstimate=function(){var e=this.fast_;return e&&e.getTotalWeight()>=this.minWeight_},t.getEstimate=function(){return this.canEstimate()?Math.min(this.fast_.getEstimate(),this.slow_.getEstimate()):this.defaultEstimate_},t.destroy=function(){},e}();t.default=n},"./repo/src/utils/ewma.ts":function(e,t,r){"use strict";r.r(t);var i=function(){function e(e,t,r){void 0===t&&(t=0),void 0===r&&(r=0),this.halfLife=void 0,this.alpha_=void 0,this.estimate_=void 0,this.totalWeight_=void 0,this.halfLife=e,this.alpha_=e?Math.exp(Math.log(.5)/e):0,this.estimate_=t,this.totalWeight_=r}var t=e.prototype;return t.sample=function(e,t){var r=Math.pow(this.alpha_,e);this.estimate_=t*(1-r)+r*this.estimate_,this.totalWeight_+=e},t.getTotalWeight=function(){return this.totalWeight_},t.getEstimate=function(){if(this.alpha_){var e=1-Math.pow(this.alpha_,this.totalWeight_);if(e)return this.estimate_/e}return this.estimate_},e}();t.default=i},"./repo/src/utils/fetch-loader.ts":function(e,t,r){"use strict";r.r(t),r.d(t,"fetchSupported",(function(){return f}));var i=r("./repo/src/polyfills/number.ts"),n=r("./repo/src/loader/load-stats.ts"),a=r("./repo/src/demux/chunk-cache.ts");function o(e){var t="function"==typeof Map?new Map:void 0;return(o=function(e){if(null===e||(r=e,-1===Function.toString.call(r).indexOf("[native code]")))return e;var r;if("function"!=typeof e)throw new TypeError("Super expression must either be null or a function");if(void 0!==t){if(t.has(e))return t.get(e);t.set(e,i)}function i(){return s(e,arguments,u(this).constructor)}return i.prototype=Object.create(e.prototype,{constructor:{value:i,enumerable:!1,writable:!0,configurable:!0}}),l(i,e)})(e)}function s(e,t,r){return(s=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}()?Reflect.construct:function(e,t,r){var i=[null];i.push.apply(i,t);var n=new(Function.bind.apply(e,i));return r&&l(n,r.prototype),n}).apply(null,arguments)}function l(e,t){return(l=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function u(e){return(u=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function c(){return(c=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var i in r)Object.prototype.hasOwnProperty.call(r,i)&&(e[i]=r[i])}return e}).apply(this,arguments)}function f(){if(self.fetch&&self.AbortController&&self.ReadableStream&&self.Request)try{return new self.ReadableStream({}),!0}catch(e){}return!1}var d=function(){function e(e){this.fetchSetup=void 0,this.requestTimeout=void 0,this.request=void 0,this.response=void 0,this.controller=void 0,this.context=void 0,this.config=null,this.callbacks=null,this.stats=void 0,this.loader=null,this.fetchSetup=e.fetchSetup||h,this.controller=new self.AbortController,this.stats=new n.LoadStats}var t=e.prototype;return t.destroy=function(){this.loader=this.callbacks=null,this.abortInternal()},t.abortInternal=function(){var e=this.response;e&&e.ok||(this.stats.aborted=!0,this.controller.abort())},t.abort=function(){var e;this.abortInternal(),null!==(e=this.callbacks)&&void 0!==e&&e.onAbort&&this.callbacks.onAbort(this.stats,this.context,this.response)},t.load=function(e,t,r){var n=this,a=this.stats;if(a.loading.start)throw new Error("Loader can only be used once.");a.loading.start=self.performance.now();var o=function(e,t){var r={method:"GET",mode:"cors",credentials:"same-origin",signal:t,headers:new self.Headers(c({},e.headers))};return e.rangeEnd&&r.headers.set("Range","bytes="+e.rangeStart+"-"+String(e.rangeEnd-1)),r}(e,this.controller.signal),s=r.onProgress,l="arraybuffer"===e.responseType,u=l?"byteLength":"length";this.context=e,this.config=t,this.callbacks=r,this.request=this.fetchSetup(e,o),self.clearTimeout(this.requestTimeout),this.requestTimeout=self.setTimeout((function(){n.abortInternal(),r.onTimeout(a,e,n.response)}),t.timeout),self.fetch(this.request).then((function(r){if(n.response=n.loader=r,!r.ok){var o=r.status,u=r.statusText;throw new p(u||"fetch, bad network response",o,r)}return a.loading.first=Math.max(self.performance.now(),a.loading.start),a.total=parseInt(r.headers.get("Content-Length")||"0"),s&&Object(i.isFiniteNumber)(t.highWaterMark)?n.loadProgressively(r,a,e,t.highWaterMark,s):l?r.arrayBuffer():r.text()})).then((function(o){var l=n.response;self.clearTimeout(n.requestTimeout),a.loading.end=Math.max(self.performance.now(),a.loading.first),a.loaded=a.total=o[u];var c={url:l.url,data:o};s&&!Object(i.isFiniteNumber)(t.highWaterMark)&&s(a,e,o,l),r.onSuccess(c,a,e,l)})).catch((function(t){if(self.clearTimeout(n.requestTimeout),!a.aborted){var i=t.code||0;r.onError({code:i,text:t.message},e,t.details)}}))},t.getCacheAge=function(){var e=null;if(this.response){var t=this.response.headers.get("age");e=t?parseFloat(t):null}return e},t.loadProgressively=function(e,t,r,i,n){void 0===i&&(i=0);var o=new a.default,s=e.body.getReader();return function a(){return s.read().then((function(s){if(s.done)return o.dataLength&&n(t,r,o.flush(),e),Promise.resolve(new ArrayBuffer(0));var l=s.value,u=l.length;return t.loaded+=u,u<i||o.dataLength?(o.push(l),o.dataLength>=i&&n(t,r,o.flush(),e)):n(t,r,l,e),a()})).catch((function(){return Promise.reject()}))}()},e}();function h(e,t){return new self.Request(e.url,t)}var p=function(e){var t,r;function i(t,r,i){var n;return(n=e.call(this,t)||this).code=void 0,n.details=void 0,n.code=r,n.details=i,n}return r=e,(t=i).prototype=Object.create(r.prototype),t.prototype.constructor=t,l(t,r),i}(o(Error));t.default=d},"./repo/src/utils/logger.ts":function(e,t,r){"use strict";r.r(t),r.d(t,"enableLogs",(function(){return s})),r.d(t,"logger",(function(){return l}));var i=function(){},n={trace:i,debug:i,log:i,warn:i,info:i,error:i},a=n;function o(e){var t=self.console[e];return t?t.bind(self.console,"["+e+"] >"):i}function s(e){if(self.console&&!0===e||"object"==typeof e){!function(e){for(var t=arguments.length,r=new Array(t>1?t-1:0),i=1;i<t;i++)r[i-1]=arguments[i];r.forEach((function(t){a[t]=e[t]?e[t].bind(e):o(t)}))}(e,"debug","log","info","warn","error");try{a.log()}catch(e){a=n}}else a=n}var l=n},"./repo/src/utils/mediakeys-helper.ts":function(e,t,r){"use strict";var i;r.r(t),r.d(t,"KeySystems",(function(){return i})),r.d(t,"requestMediaKeySystemAccess",(function(){return n})),function(e){e.WIDEVINE="com.widevine.alpha",e.PLAYREADY="com.microsoft.playready"}(i||(i={}));var n="undefined"!=typeof self&&self.navigator&&self.navigator.requestMediaKeySystemAccess?self.navigator.requestMediaKeySystemAccess.bind(self.navigator):null},"./repo/src/utils/mediasource-helper.ts":function(e,t,r){"use strict";function i(){return self.MediaSource||self.WebKitMediaSource}r.r(t),r.d(t,"getMediaSource",(function(){return i}))},"./repo/src/utils/mp4-tools.ts":function(e,t,r){"use strict";r.r(t),r.d(t,"RemuxerTrackIdConfig",(function(){return l})),r.d(t,"bin2str",(function(){return u})),r.d(t,"readUint16",(function(){return c})),r.d(t,"readUint32",(function(){return f})),r.d(t,"readSint32",(function(){return d})),r.d(t,"writeUint32",(function(){return h})),r.d(t,"findBox",(function(){return p})),r.d(t,"parseSegmentIndex",(function(){return v})),r.d(t,"parseInitSegment",(function(){return m})),r.d(t,"getStartDTS",(function(){return g})),r.d(t,"getDuration",(function(){return y})),r.d(t,"computeRawDurationFromSamples",(function(){return b})),r.d(t,"offsetStartDTS",(function(){return E})),r.d(t,"segmentValidRange",(function(){return C})),r.d(t,"appendUint8Array",(function(){return S})),r.d(t,"parseSamples",(function(){return w})),r.d(t,"parseSEIMessageFromNALu",(function(){return x})),r.d(t,"parseEmsg",(function(){return R}));var i=r("./repo/src/utils/typed-array.ts"),n=r("./repo/src/loader/fragment.ts"),a=r("./repo/src/demux/id3.ts"),o=Math.pow(2,32)-1,s=[].push,l={video:1,audio:2,id3:3,text:4};function u(e){return String.fromCharCode.apply(null,e)}function c(e,t){var r=e[t]<<8|e[t+1];return r<0?65536+r:r}function f(e,t){var r=d(e,t);return r<0?4294967296+r:r}function d(e,t){return e[t]<<24|e[t+1]<<16|e[t+2]<<8|e[t+3]}function h(e,t,r){e[t]=r>>24,e[t+1]=r>>16&255,e[t+2]=r>>8&255,e[t+3]=255&r}function p(e,t){var r=[];if(!t.length)return r;for(var i=e.byteLength,n=0;n<i;){var a=f(e,n),o=a>1?n+a:i;if(u(e.subarray(n+4,n+8))===t[0])if(1===t.length)r.push(e.subarray(n+8,o));else{var l=p(e.subarray(n+8,o),t.slice(1));l.length&&s.apply(r,l)}n=o}return r}function v(e){var t=p(e,["moov"])[0],r=t?t.length:null,i=p(e,["sidx"]);if(!i||!i[0])return null;var n=[],a=i[0],o=a[0],s=0===o?8:16,l=f(a,s);s+=4,s+=0===o?8:16,s+=2;var u=a.length+0,d=c(a,s);s+=2;for(var h=0;h<d;h++){var v=s,m=f(a,v);v+=4;var g=2147483647&m;if(1==(2147483648&m)>>>31)return console.warn("SIDX has hierarchical references (not supported)"),null;var y=f(a,v);v+=4,n.push({referenceSize:g,subsegmentDuration:y,info:{duration:y/l,start:u,end:u+g-1}}),u+=g,s=v+=4}return{earliestPresentationTime:0,timescale:l,version:o,referencesCount:d,references:n,moovEndOffset:r}}function m(e){for(var t=[],r=p(e,["moov","trak"]),i=0;i<r.length;i++){var a=r[i],o=p(a,["tkhd"])[0];if(o){var s=o[0],l=0===s?12:20,c=f(o,l),d=p(a,["mdia","mdhd"])[0];if(d){var h=f(d,l=0===(s=d[0])?12:20),v=p(a,["mdia","hdlr"])[0];if(v){var m=u(v.subarray(8,12)),g={soun:n.ElementaryStreamTypes.AUDIO,vide:n.ElementaryStreamTypes.VIDEO}[m];if(g){var y=p(a,["mdia","minf","stbl","stsd"])[0],b=void 0;y&&(b=u(y.subarray(12,16))),t[c]={timescale:h,type:g},t[g]={timescale:h,id:c,codec:b}}}}}}return p(e,["moov","mvex","trex"]).forEach((function(e){var r=f(e,4),i=t[r];i&&(i.default={duration:f(e,12),flags:f(e,20)})})),t}function g(e,t){return p(t,["moof","traf"]).reduce((function(t,r){var i=p(r,["tfdt"])[0],n=i[0],a=p(r,["tfhd"]).reduce((function(t,r){var a=f(r,4),o=e[a];if(o){var s=f(i,4);1===n&&(s*=Math.pow(2,32),s+=f(i,8));var l=s/(o.timescale||9e4);if(isFinite(l)&&(null===t||l<t))return l}return t}),null);return null!==a&&isFinite(a)&&(null===t||a<t)?a:t}),null)||0}function y(e,t){for(var r=0,i=0,a=0,o=p(e,["moof","traf"]),s=0;s<o.length;s++){var l=o[s],u=p(l,["tfhd"])[0],c=t[f(u,4)];if(c){var d=c.default,h=f(u,0)|(null==d?void 0:d.flags),m=null==d?void 0:d.duration;8&h&&(m=f(u,2&h?12:8));for(var g=c.timescale||9e4,y=p(l,["trun"]),E=0;E<y.length;E++)!(r=b(y[E]))&&m&&(r=m*f(y[E],4)),c.type===n.ElementaryStreamTypes.VIDEO?i+=r/g:c.type===n.ElementaryStreamTypes.AUDIO&&(a+=r/g)}}if(0===i&&0===a){var C=v(e);if(null!=C&&C.references)return C.references.reduce((function(e,t){return e+t.info.duration||0}),0)}return i||a}function b(e){var t=f(e,0),r=8;1&t&&(r+=4),4&t&&(r+=4);for(var i=0,n=f(e,4),a=0;a<n;a++)256&t&&(i+=f(e,r),r+=4),512&t&&(r+=4),1024&t&&(r+=4),2048&t&&(r+=4);return i}function E(e,t,r){p(t,["moof","traf"]).forEach((function(t){p(t,["tfhd"]).forEach((function(i){var n=f(i,4),a=e[n];if(a){var s=a.timescale||9e4;p(t,["tfdt"]).forEach((function(e){var t=e[0],i=f(e,4);if(0===t)h(e,4,i-r*s);else{i*=Math.pow(2,32),i+=f(e,8),i-=r*s,i=Math.max(i,0);var n=Math.floor(i/(o+1)),a=Math.floor(i%(o+1));h(e,4,n),h(e,8,a)}}))}}))}))}function C(e){var t={valid:null,remainder:null},r=p(e,["moof"]);if(!r)return t;if(r.length<2)return t.remainder=e,t;var n=r[r.length-1];return t.valid=Object(i.sliceUint8)(e,0,n.byteOffset-8),t.remainder=Object(i.sliceUint8)(e,n.byteOffset-8),t}function S(e,t){var r=new Uint8Array(e.length+t.length);return r.set(e),r.set(t,e.length),r}function w(e,t){var r=[],i=t.samples,a=t.timescale,o=t.id,s=!1;return p(i,["moof"]).map((function(l){var u=l.byteOffset-8;p(l,["traf"]).map((function(l){var c=p(l,["tfdt"]).map((function(e){var t=e[0],r=f(e,4);return 1===t&&(r*=Math.pow(2,32),r+=f(e,8)),r/a}))[0];return void 0!==c&&(e=c),p(l,["tfhd"]).map((function(c){var h=f(c,4),v=16777215&f(c,0),m=0,g=0!=(16&v),y=0,b=0!=(32&v),E=8;h===o&&(0!=(1&v)&&(E+=8),0!=(2&v)&&(E+=4),0!=(8&v)&&(m=f(c,E),E+=4),g&&(y=f(c,E),E+=4),b&&(E+=4),"video"===t.type&&(s=function(e){if(!e)return!1;var t=e.indexOf("."),r=t<0?e:e.substring(0,t);return"hvc1"===r||"hev1"===r||"dvh1"===r||"dvhe"===r}(t.codec)),p(l,["trun"]).map((function(o){var l=o[0],c=16777215&f(o,0),h=0!=(1&c),p=0,v=0!=(4&c),g=0!=(256&c),b=0,E=0!=(512&c),C=0,S=0!=(1024&c),w=0!=(2048&c),R=0,L=f(o,4),k=8;h&&(p=f(o,k),k+=4),v&&(k+=4);for(var _=p+u,A=0;A<L;A++){if(g?(b=f(o,k),k+=4):b=m,E?(C=f(o,k),k+=4):C=y,S&&(k+=4),w&&(R=0===l?f(o,k):d(o,k),k+=4),t.type===n.ElementaryStreamTypes.VIDEO)for(var D=0;D<C;){var O=f(i,_),P=31&i[_+=4];T(s,P)&&x(i.subarray(_,_+O),e+R/a,r),_+=O,D+=O+4}e+=b/a}})))}))}))})),r}function T(e,t){return e?39===t||40===t:6===t}function x(e,t,r){var i=function(e){for(var t=e.byteLength,r=[],i=1;i<t-2;)0===e[i]&&0===e[i+1]&&3===e[i+2]?(r.push(i+2),i+=2):i++;if(0===r.length)return e;var n=t-r.length,a=new Uint8Array(n),o=0;for(i=0;i<n;o++,i++)o===r[0]&&(o++,r.shift()),a[i]=e[o];return a}(e),n=0;n++;for(var o=0,s=0,l=!1,u=0;n<i.length;){o=0;do{if(n>=i.length)break;o+=u=i[n++]}while(255===u);s=0;do{if(n>=i.length)break;s+=u=i[n++]}while(255===u);var d=i.length-n;if(!l&&4===o&&n<i.length){if(l=!0,181===i[n++]){var h=c(i,n);if(n+=2,49===h){var p=f(i,n);if(n+=4,1195456820===p){var v=i[n++];if(3===v){var m=i[n++],g=64&m,y=g?2+3*(31&m):0,b=new Uint8Array(y);if(g){b[0]=m;for(var E=1;E<y;E++)b[E]=i[n++]}r.push({type:v,payloadType:o,pts:t,bytes:b})}}}}}else if(5===o&&s<d){if(l=!0,s>16){for(var C=[],S=0;S<16;S++){var w=i[n++].toString(16);C.push(1==w.length?"0"+w:w),3!==S&&5!==S&&7!==S&&9!==S||C.push("-")}for(var T=s-16,x=new Uint8Array(T),R=0;R<T;R++)x[R]=i[n++];r.push({payloadType:o,pts:t,uuid:C.join(""),userData:Object(a.utf8ArrayToStr)(x),userDataBytes:x})}}else if(s<d)n+=s;else if(s>d)break}}function R(e){var t=e[0],r="",i="",n=0,a=0,o=0,s=0,l=0,c=0;if(0===t){for(;"\0"!==u(e.subarray(c,c+1));)r+=u(e.subarray(c,c+1)),c+=1;for(r+=u(e.subarray(c,c+1)),c+=1;"\0"!==u(e.subarray(c,c+1));)i+=u(e.subarray(c,c+1)),c+=1;i+=u(e.subarray(c,c+1)),c+=1,n=f(e,12),a=f(e,16),s=f(e,20),l=f(e,24),c=28}else if(1===t){n=f(e,c+=4);var d=f(e,c+=4),h=f(e,c+=4);for(c+=4,o=Math.pow(2,32)*d+h,Number.isSafeInteger(o)||(o=Number.MAX_SAFE_INTEGER,console.warn("Presentation time exceeds safe integer limit and wrapped to max safe integer in parsing emsg box")),s=f(e,c),l=f(e,c+=4),c+=4;"\0"!==u(e.subarray(c,c+1));)r+=u(e.subarray(c,c+1)),c+=1;for(r+=u(e.subarray(c,c+1)),c+=1;"\0"!==u(e.subarray(c,c+1));)i+=u(e.subarray(c,c+1)),c+=1;i+=u(e.subarray(c,c+1)),c+=1}return{schemeIdUri:r,value:i,timeScale:n,presentationTime:o,presentationTimeDelta:a,eventDuration:s,id:l,payload:e.subarray(c,e.byteLength)}}},"./repo/src/utils/texttrack-utils.ts":function(e,t,r){"use strict";r.r(t),r.d(t,"sendAddTrackEvent",(function(){return n})),r.d(t,"addCueToTrack",(function(){return a})),r.d(t,"clearCurrentCues",(function(){return o})),r.d(t,"removeCuesInRange",(function(){return s})),r.d(t,"getCuesInRange",(function(){return l}));var i=r("./repo/src/utils/logger.ts");function n(e,t){var r;try{r=new Event("addtrack")}catch(e){(r=document.createEvent("Event")).initEvent("addtrack",!1,!1)}r.track=e,t.dispatchEvent(r)}function a(e,t){var r=e.mode;if("disabled"===r&&(e.mode="hidden"),e.cues&&!e.cues.getCueById(t.id))try{if(e.addCue(t),!e.cues.getCueById(t.id))throw new Error("addCue is failed for: "+t)}catch(r){i.logger.debug("[texttrack-utils]: "+r);var n=new self.TextTrackCue(t.startTime,t.endTime,t.text);n.id=t.id,e.addCue(n)}"disabled"===r&&(e.mode=r)}function o(e){var t=e.mode;if("disabled"===t&&(e.mode="hidden"),e.cues)for(var r=e.cues.length;r--;)e.removeCue(e.cues[r]);"disabled"===t&&(e.mode=t)}function s(e,t,r){var i=e.mode;if("disabled"===i&&(e.mode="hidden"),e.cues&&e.cues.length>0)for(var n=l(e.cues,t,r),a=0;a<n.length;a++)e.removeCue(n[a]);"disabled"===i&&(e.mode=i)}function l(e,t,r){var i=[],n=function(e,t){if(t<e[0].startTime)return 0;var r=e.length-1;if(t>e[r].endTime)return-1;for(var i=0,n=r;i<=n;){var a=Math.floor((n+i)/2);if(t<e[a].startTime)n=a-1;else{if(!(t>e[a].startTime&&i<r))return a;i=a+1}}return e[i].startTime-t<t-e[n].startTime?i:n}(e,t);if(n>-1)for(var a=n,o=e.length;a<o;a++){var s=e[a];if(s.startTime>=t&&s.endTime<=r)i.push(s);else if(s.startTime>r)return i}return i}},"./repo/src/utils/time-ranges.ts":function(e,t,r){"use strict";r.r(t),t.default={toString:function(e){for(var t="",r=e.length,i=0;i<r;i++)t+="["+e.start(i).toFixed(3)+","+e.end(i).toFixed(3)+"]";return t}}},"./repo/src/utils/timescale-conversion.ts":function(e,t,r){"use strict";function i(e,t,r,i){void 0===r&&(r=1),void 0===i&&(i=!1);var n=e*t*r;return i?Math.round(n):n}function n(e,t,r,n){return void 0===r&&(r=1),void 0===n&&(n=!1),i(e,t,1/r,n)}function a(e,t){return void 0===t&&(t=!1),i(e,1e3,1/9e4,t)}function o(e,t){return void 0===t&&(t=1),i(e,9e4,1/t)}r.r(t),r.d(t,"toTimescaleFromBase",(function(){return i})),r.d(t,"toTimescaleFromScale",(function(){return n})),r.d(t,"toMsFromMpegTsClock",(function(){return a})),r.d(t,"toMpegTsClockFromTimescale",(function(){return o}))},"./repo/src/utils/typed-array.ts":function(e,t,r){"use strict";function i(e,t,r){return Uint8Array.prototype.slice?e.slice(t,r):new Uint8Array(Array.prototype.slice.call(e,t,r))}r.r(t),r.d(t,"sliceUint8",(function(){return i}))},"./repo/src/utils/xhr-loader.ts":function(e,t,r){"use strict";r.r(t);var i=r("./repo/src/utils/logger.ts"),n=r("./repo/src/loader/load-stats.ts"),a=/^age:\s*[\d.]+\s*$/m,o=function(){function e(e){this.xhrSetup=void 0,this.requestTimeout=void 0,this.retryTimeout=void 0,this.retryDelay=void 0,this.config=null,this.callbacks=null,this.context=void 0,this.loader=null,this.stats=void 0,this.xhrSetup=e?e.xhrSetup:null,this.stats=new n.LoadStats,this.retryDelay=0}var t=e.prototype;return t.destroy=function(){this.callbacks=null,this.abortInternal(),this.loader=null,this.config=null},t.abortInternal=function(){var e=this.loader;self.clearTimeout(this.requestTimeout),self.clearTimeout(this.retryTimeout),e&&(e.onreadystatechange=null,e.onprogress=null,4!==e.readyState&&(this.stats.aborted=!0,e.abort()))},t.abort=function(){var e;this.abortInternal(),null!==(e=this.callbacks)&&void 0!==e&&e.onAbort&&this.callbacks.onAbort(this.stats,this.context,this.loader)},t.load=function(e,t,r){if(this.stats.loading.start)throw new Error("Loader can only be used once.");this.stats.loading.start=self.performance.now(),this.context=e,this.config=t,this.callbacks=r,this.retryDelay=t.retryDelay,this.loadInternal()},t.loadInternal=function(){var e=this.config,t=this.context;if(e){var r=this.loader=new self.XMLHttpRequest,i=this.stats;i.loading.first=0,i.loaded=0;var n=this.xhrSetup;try{if(n)try{n(r,t.url)}catch(e){r.open("GET",t.url,!0),n(r,t.url)}r.readyState||r.open("GET",t.url,!0);var a=this.context.headers;if(a)for(var o in a)r.setRequestHeader(o,a[o])}catch(e){return void this.callbacks.onError({code:r.status,text:e.message},t,r)}t.rangeEnd&&r.setRequestHeader("Range","bytes="+t.rangeStart+"-"+(t.rangeEnd-1)),r.onreadystatechange=this.readystatechange.bind(this),r.onprogress=this.loadprogress.bind(this),r.responseType=t.responseType,self.clearTimeout(this.requestTimeout),this.requestTimeout=self.setTimeout(this.loadtimeout.bind(this),e.timeout),r.send()}},t.readystatechange=function(){var e=this.context,t=this.loader,r=this.stats;if(e&&t){var n=t.readyState,a=this.config;if(!r.aborted&&n>=2)if(self.clearTimeout(this.requestTimeout),0===r.loading.first&&(r.loading.first=Math.max(self.performance.now(),r.loading.start)),4===n){t.onreadystatechange=null,t.onprogress=null;var o=t.status;if(o>=200&&o<300){var s,l;if(r.loading.end=Math.max(self.performance.now(),r.loading.first),l="arraybuffer"===e.responseType?(s=t.response).byteLength:(s=t.responseText).length,r.loaded=r.total=l,!this.callbacks)return;var u=this.callbacks.onProgress;if(u&&u(r,e,s,t),!this.callbacks)return;var c={url:t.responseURL,data:s};this.callbacks.onSuccess(c,r,e,t)}else r.retry>=a.maxRetry||o>=400&&o<499?(i.logger.error(o+" while loading "+e.url),this.callbacks.onError({code:o,text:t.statusText},e,t)):(i.logger.warn(o+" while loading "+e.url+", retrying in "+this.retryDelay+"..."),this.abortInternal(),this.loader=null,self.clearTimeout(this.retryTimeout),this.retryTimeout=self.setTimeout(this.loadInternal.bind(this),this.retryDelay),this.retryDelay=Math.min(2*this.retryDelay,a.maxRetryDelay),r.retry++)}else self.clearTimeout(this.requestTimeout),this.requestTimeout=self.setTimeout(this.loadtimeout.bind(this),a.timeout)}},t.loadtimeout=function(){i.logger.warn("timeout while loading "+this.context.url);var e=this.callbacks;e&&(this.abortInternal(),e.onTimeout(this.stats,this.context,this.loader))},t.loadprogress=function(e){var t=this.stats;t.loaded=e.loaded,e.lengthComputable&&(t.total=e.total)},t.getCacheAge=function(){var e=null;if(this.loader&&a.test(this.loader.getAllResponseHeaders())){var t=this.loader.getResponseHeader("age");e=t?parseFloat(t):null}return e},e}();t.default=o},"./src/hls-wrapper.ts":function(e,t,r){"use strict";r.r(t);var i=r("./repo/src/hls.ts"),n=r("../crypt/dist/jsvmp.js");for(var a in n)["default"].indexOf(a)<0&&function(e){r.d(t,e,(function(){return n[e]}))}(a);t.default=i.default}}).default},e.exports=i())},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.MAX_TIMESTAMP=5e9,t.MIN_EXPIRE_INTERVAL=300},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i={getBrowserVersion:function(){var e=navigator.userAgent;if(e.toLowerCase().indexOf("mobile")>-1)return"Unknown";if(e.indexOf("Firefox")>-1)return"Firefox "+e.match(/firefox\/[\d.]+/gi)[0].match(/[\d]+/)[0];if(e.indexOf("Edge")>-1)return"Edge "+e.match(/edge\/[\d.]+/gi)[0].match(/[\d]+/)[0];if(e.indexOf("rv:11")>-1)return"IE 11";if(e.indexOf("Opera")>-1||e.indexOf("OPR")>-1){if(e.indexOf("Opera")>-1)return"Opera "+e.match(/opera\/[\d.]+/gi)[0].match(/[\d]+/)[0];if(e.indexOf("OPR")>-1)return"Opera "+e.match(/opr\/[\d.]+/gi)[0].match(/[\d]+/)[0]}else{if(e.indexOf("Chrome")>-1)return"Chrome "+e.match(/chrome\/[\d.]+/gi)[0].match(/[\d]+/)[0];if(e.indexOf("Safari")>-1)return"Safari "+e.match(/safari\/[\d.]+/gi)[0].match(/[\d]+/)[0];if(!(e.indexOf("MSIE")>-1||e.indexOf("Trident")>-1))return"Unknown";if(e.indexOf("MSIE")>-1)return"IE "+e.match(/msie [\d.]+/gi)[0].match(/[\d]+/)[0];if(e.indexOf("Trident")>-1){var t=e.match(/trident\/[\d.]+/gi)[0].match(/[\d]+/)[0];return"IE "+(parseInt(t)+4)}}},parseUrl:function(e){var t=e.split("?")[1],r={};return t&&t.split("&").forEach((function(e){e=e.split("="),r[e[0]]=decodeURIComponent(e[1])})),r},isBase64:function(e){return/^([A-Za-z0-9+/]{4})*([A-Za-z0-9+/]{4}|[A-Za-z0-9+/]{3}=|[A-Za-z0-9+/]{2}==)$/.test(e)},isRelativeURL:function(e){return!/^(?:[a-z]+:)?\/\//.test(e)},getAbsoluteURL:function(e){var t=new Image;return t.src=e,t.src},checkMediaSourceSupport:function(){var e=window.MediaSource=window.MediaSource||window.WebKitMediaSource;return e&&"function"==typeof e.isTypeSupported},offInDestroy:function(e,t,r,i){e.once(i,(function n(){e.off(t,r),e.off(i,n)}))},on:function(e,t,r,n){n?(e.on(t,r),i.offInDestroy(e,t,r,n)):e.on(t,(function i(n){r(n),e.off(t,i)}))},once:function(e,t,r,n){n?(e.once(t,r),i.offInDestroy(e,t,r,n)):e.once(t,(function i(n){r(n),e.off(t,i)}))}};t.default=i,e.exports=t.default},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i=function(){function e(e,t){for(var r=0;r<t.length;r++){var i=t[r];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(t,r,i){return r&&e(t.prototype,r),i&&e(t,i),t}}(),n=function(){function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.timeID=null,this.func=null}return i(e,[{key:"repeat",value:function(e,t){var r=this;null===this.func&&(this.func=e),this.func===e&&(this.timeID=setTimeout((function(){e(),r.repeat(e,t)}),t))}},{key:"clear",value:function(){clearTimeout(this.timeID)}}]),e}();t.default=n,e.exports=t.default},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function e(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},r=t.url,i=t.method,n=void 0===i?"GET":i,a=t.type,o=void 0===a?"arraybuffer":a,s=t.timeout,l=void 0===s?1e4:s,u=t.data,c=void 0===u?{}:u;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),new Promise((function(e,t){var i=new window.XMLHttpRequest,a=n.toUpperCase(),s=[];for(var u in o&&(i.responseType=o),l&&(i.timeout=l),c)s.push("k="+c[u]);if(i.onload=function(){200===i.status||206===i.status?e(i):t(i)},i.onerror=function(){t(i)},i.ontimeout=function(){t(i)},i.onabort=function(){t(i)},"GET"===a)i.open(a,""+r),i.send();else{if("post"!==a)throw new Error("xhr "+a+" is not supported");i.open(a,r),i.setRequestHeader("Content-type","application/x-www-form-urlencoded"),i.send(s.join("&"))}}))},e.exports=t.default}]))},45893:(e,t,r)=>{"use strict";r(45483);var i=r(42243),n=r.n(i),a=(r(89450),r(2294),r(39317),r(70839),r(35549)),o=r.n(a);r(93671),r(49104),r(41604);n()("pluginRegistry");n()("lazyModuleRegistry"),n()("__PNS__configSymbol");function s(){return"undefined"==typeof window}o()();var l=["log","error","warn"];function u(e){for(var t={},r=function(){var r=n[i];t[r]=function(){var t;e()&&(t=console)[r].apply(t,arguments)}},i=0,n=l;i<n.length;i++)r();return t}u((function(){return!1})),u((function(){return!1})),u((function(){return!0}));s(),s()},27542:function(e){e.exports=function(e){var t={};function r(i){if(t[i])return t[i].exports;var n=t[i]={i,l:!1,exports:{}};return e[i].call(n.exports,n,n.exports,r),n.l=!0,n.exports}return r.m=e,r.c=t,r.d=function(e,t,i){r.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:i})},r.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},r.t=function(e,t){if(1&t&&(e=r(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var i=Object.create(null);if(r.r(i),Object.defineProperty(i,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var n in e)r.d(i,n,function(t){return e[t]}.bind(null,n));return i},r.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return r.d(t,"a",t),t},r.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},r.p="",r(r.s=13)}([function(e,t){function r(t){return e.exports=r=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},e.exports.__esModule=!0,e.exports.default=e.exports,r(t)}e.exports=r,e.exports.__esModule=!0,e.exports.default=e.exports},function(e,t,r){var i=r(14);function n(){return"undefined"!=typeof Reflect&&Reflect.get?(e.exports=n=Reflect.get.bind(),e.exports.__esModule=!0,e.exports.default=e.exports):(e.exports=n=function(e,t,r){var n=i(e,t);if(n){var a=Object.getOwnPropertyDescriptor(n,t);return a.get?a.get.call(arguments.length<3?e:r):a.value}},e.exports.__esModule=!0,e.exports.default=e.exports),n.apply(this,arguments)}e.exports=n,e.exports.__esModule=!0,e.exports.default=e.exports},function(e,t){e.exports=function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")},e.exports.__esModule=!0,e.exports.default=e.exports},function(e,t){function r(e,t){for(var r=0;r<t.length;r++){var i=t[r];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}e.exports=function(e,t,i){return t&&r(e.prototype,t),i&&r(e,i),Object.defineProperty(e,"prototype",{writable:!1}),e},e.exports.__esModule=!0,e.exports.default=e.exports},function(e,t,r){var i=r(15);e.exports=function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&i(e,t)},e.exports.__esModule=!0,e.exports.default=e.exports},function(e,t,r){var i=r(11).default,n=r(7);e.exports=function(e,t){if(t&&("object"===i(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return n(e)},e.exports.__esModule=!0,e.exports.default=e.exports},function(e,t){e.exports=function(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e},e.exports.__esModule=!0,e.exports.default=e.exports},function(e,t){e.exports=function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e},e.exports.__esModule=!0,e.exports.default=e.exports},function(e,t,r){var i=r(16)();e.exports=i;try{regeneratorRuntime=i}catch(e){"object"==typeof globalThis?globalThis.regeneratorRuntime=i:Function("r","regeneratorRuntime = r")(i)}},function(e,t){function r(e,t,r,i,n,a,o){try{var s=e[a](o),l=s.value}catch(e){return void r(e)}s.done?t(l):Promise.resolve(l).then(i,n)}e.exports=function(e){return function(){var t=this,i=arguments;return new Promise((function(n,a){var o=e.apply(t,i);function s(e){r(o,n,a,s,l,"next",e)}function l(e){r(o,n,a,s,l,"throw",e)}s(void 0)}))}},e.exports.__esModule=!0,e.exports.default=e.exports},function(e,t,r){var i=r(17),n=r(18),a=r(19),o=r(20);e.exports=function(e){return i(e)||n(e)||a(e)||o()},e.exports.__esModule=!0,e.exports.default=e.exports},function(e,t){function r(t){return e.exports=r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},e.exports.__esModule=!0,e.exports.default=e.exports,r(t)}e.exports=r,e.exports.__esModule=!0,e.exports.default=e.exports},function(e,t){e.exports=function(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,i=new Array(t);r<t;r++)i[r]=e[r];return i},e.exports.__esModule=!0,e.exports.default=e.exports},function(e,t,r){e.exports=r(21)},function(e,t,r){var i=r(0);e.exports=function(e,t){for(;!Object.prototype.hasOwnProperty.call(e,t)&&null!==(e=i(e)););return e},e.exports.__esModule=!0,e.exports.default=e.exports},function(e,t){function r(t,i){return e.exports=r=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},e.exports.__esModule=!0,e.exports.default=e.exports,r(t,i)}e.exports=r,e.exports.__esModule=!0,e.exports.default=e.exports},function(e,t,r){var i=r(11).default;function n(){"use strict";e.exports=n=function(){return t},e.exports.__esModule=!0,e.exports.default=e.exports;var t={},r=Object.prototype,a=r.hasOwnProperty,o="function"==typeof Symbol?Symbol:{},s=o.iterator||"@@iterator",l=o.asyncIterator||"@@asyncIterator",u=o.toStringTag||"@@toStringTag";function c(e,t,r){return Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}),e[t]}try{c({},"")}catch(e){c=function(e,t,r){return e[t]=r}}function f(e,t,r,i){var n=t&&t.prototype instanceof p?t:p,a=Object.create(n.prototype),o=new R(i||[]);return a._invoke=function(e,t,r){var i="suspendedStart";return function(n,a){if("executing"===i)throw new Error("Generator is already running");if("completed"===i){if("throw"===n)throw a;return{value:void 0,done:!0}}for(r.method=n,r.arg=a;;){var o=r.delegate;if(o){var s=w(o,r);if(s){if(s===h)continue;return s}}if("next"===r.method)r.sent=r._sent=r.arg;else if("throw"===r.method){if("suspendedStart"===i)throw i="completed",r.arg;r.dispatchException(r.arg)}else"return"===r.method&&r.abrupt("return",r.arg);i="executing";var l=d(e,t,r);if("normal"===l.type){if(i=r.done?"completed":"suspendedYield",l.arg===h)continue;return{value:l.arg,done:r.done}}"throw"===l.type&&(i="completed",r.method="throw",r.arg=l.arg)}}}(e,r,o),a}function d(e,t,r){try{return{type:"normal",arg:e.call(t,r)}}catch(e){return{type:"throw",arg:e}}}t.wrap=f;var h={};function p(){}function v(){}function m(){}var g={};c(g,s,(function(){return this}));var y=Object.getPrototypeOf,b=y&&y(y(L([])));b&&b!==r&&a.call(b,s)&&(g=b);var E=m.prototype=p.prototype=Object.create(g);function C(e){["next","throw","return"].forEach((function(t){c(e,t,(function(e){return this._invoke(t,e)}))}))}function S(e,t){var r;this._invoke=function(n,o){function s(){return new t((function(r,s){!function r(n,o,s,l){var u=d(e[n],e,o);if("throw"!==u.type){var c=u.arg,f=c.value;return f&&"object"==i(f)&&a.call(f,"__await")?t.resolve(f.__await).then((function(e){r("next",e,s,l)}),(function(e){r("throw",e,s,l)})):t.resolve(f).then((function(e){c.value=e,s(c)}),(function(e){return r("throw",e,s,l)}))}l(u.arg)}(n,o,r,s)}))}return r=r?r.then(s,s):s()}}function w(e,t){var r=e.iterator[t.method];if(void 0===r){if(t.delegate=null,"throw"===t.method){if(e.iterator.return&&(t.method="return",t.arg=void 0,w(e,t),"throw"===t.method))return h;t.method="throw",t.arg=new TypeError("The iterator does not provide a 'throw' method")}return h}var i=d(r,e.iterator,t.arg);if("throw"===i.type)return t.method="throw",t.arg=i.arg,t.delegate=null,h;var n=i.arg;return n?n.done?(t[e.resultName]=n.value,t.next=e.nextLoc,"return"!==t.method&&(t.method="next",t.arg=void 0),t.delegate=null,h):n:(t.method="throw",t.arg=new TypeError("iterator result is not an object"),t.delegate=null,h)}function T(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function x(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function R(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(T,this),this.reset(!0)}function L(e){if(e){var t=e[s];if(t)return t.call(e);if("function"==typeof e.next)return e;if(!isNaN(e.length)){var r=-1,i=function t(){for(;++r<e.length;)if(a.call(e,r))return t.value=e[r],t.done=!1,t;return t.value=void 0,t.done=!0,t};return i.next=i}}return{next:k}}function k(){return{value:void 0,done:!0}}return v.prototype=m,c(E,"constructor",m),c(m,"constructor",v),v.displayName=c(m,u,"GeneratorFunction"),t.isGeneratorFunction=function(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===v||"GeneratorFunction"===(t.displayName||t.name))},t.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,m):(e.__proto__=m,c(e,u,"GeneratorFunction")),e.prototype=Object.create(E),e},t.awrap=function(e){return{__await:e}},C(S.prototype),c(S.prototype,l,(function(){return this})),t.AsyncIterator=S,t.async=function(e,r,i,n,a){void 0===a&&(a=Promise);var o=new S(f(e,r,i,n),a);return t.isGeneratorFunction(r)?o:o.next().then((function(e){return e.done?e.value:o.next()}))},C(E),c(E,u,"Generator"),c(E,s,(function(){return this})),c(E,"toString",(function(){return"[object Generator]"})),t.keys=function(e){var t=[];for(var r in e)t.push(r);return t.reverse(),function r(){for(;t.length;){var i=t.pop();if(i in e)return r.value=i,r.done=!1,r}return r.done=!0,r}},t.values=L,R.prototype={constructor:R,reset:function(e){if(this.prev=0,this.next=0,this.sent=this._sent=void 0,this.done=!1,this.delegate=null,this.method="next",this.arg=void 0,this.tryEntries.forEach(x),!e)for(var t in this)"t"===t.charAt(0)&&a.call(this,t)&&!isNaN(+t.slice(1))&&(this[t]=void 0)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(e){if(this.done)throw e;var t=this;function r(r,i){return o.type="throw",o.arg=e,t.next=r,i&&(t.method="next",t.arg=void 0),!!i}for(var i=this.tryEntries.length-1;i>=0;--i){var n=this.tryEntries[i],o=n.completion;if("root"===n.tryLoc)return r("end");if(n.tryLoc<=this.prev){var s=a.call(n,"catchLoc"),l=a.call(n,"finallyLoc");if(s&&l){if(this.prev<n.catchLoc)return r(n.catchLoc,!0);if(this.prev<n.finallyLoc)return r(n.finallyLoc)}else if(s){if(this.prev<n.catchLoc)return r(n.catchLoc,!0)}else{if(!l)throw new Error("try statement without catch or finally");if(this.prev<n.finallyLoc)return r(n.finallyLoc)}}}},abrupt:function(e,t){for(var r=this.tryEntries.length-1;r>=0;--r){var i=this.tryEntries[r];if(i.tryLoc<=this.prev&&a.call(i,"finallyLoc")&&this.prev<i.finallyLoc){var n=i;break}}n&&("break"===e||"continue"===e)&&n.tryLoc<=t&&t<=n.finallyLoc&&(n=null);var o=n?n.completion:{};return o.type=e,o.arg=t,n?(this.method="next",this.next=n.finallyLoc,h):this.complete(o)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),h},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var r=this.tryEntries[t];if(r.finallyLoc===e)return this.complete(r.completion,r.afterLoc),x(r),h}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var r=this.tryEntries[t];if(r.tryLoc===e){var i=r.completion;if("throw"===i.type){var n=i.arg;x(r)}return n}}throw new Error("illegal catch attempt")},delegateYield:function(e,t,r){return this.delegate={iterator:L(e),resultName:t,nextLoc:r},"next"===this.method&&(this.arg=void 0),h}},t}e.exports=n,e.exports.__esModule=!0,e.exports.default=e.exports},function(e,t,r){var i=r(12);e.exports=function(e){if(Array.isArray(e))return i(e)},e.exports.__esModule=!0,e.exports.default=e.exports},function(e,t){e.exports=function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)},e.exports.__esModule=!0,e.exports.default=e.exports},function(e,t,r){var i=r(12);e.exports=function(e,t){if(e){if("string"==typeof e)return i(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);return"Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r?Array.from(e):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?i(e,t):void 0}},e.exports.__esModule=!0,e.exports.default=e.exports},function(e,t){e.exports=function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")},e.exports.__esModule=!0,e.exports.default=e.exports},function(e,t,r){"use strict";r.r(t),r.d(t,"StreamPlayer",(function(){return zt})),r.d(t,"BasicPlayer",(function(){return Kt})),r.d(t,"storage",(function(){return Vt}));var i=r(9),n=r.n(i),a=r(2),o=r.n(a),s=r(3),l=r.n(s),u=r(1),c=r.n(u),f=r(4),d=r.n(f),h=r(5),p=r.n(h),v=r(0),m=r.n(v),g=r(8),y=r.n(g),b=r(10),E=r.n(b),C={playback:{autoplay:!1,loop:!1,muted:!1,metaChunkSize:209715.2,dataChunkSize:1048576,bufferEnoughTime:.5,bufferMaxTime:3,bufferCheckingInterval:100},subtitle:{selfRender:!1,rect:{width:250,height:50,top:200,left:100},style:{whiteSpace:"nowrap"}},memory:{defaultBufferSize:10485760}},S=r(7),w=r.n(S),T=r(6),x=r.n(T),R=function(){function e(){o()(this,e),this._events=[],this._callbacks={}}return l()(e,[{key:"register",value:function(e){this._events.includes[e]||this._events.push(e)}},{key:"on",value:function(e,t){return!!this._events.includes(e)&&(this._callbacks[e]||(this._callbacks[e]=[]),this._callbacks[e].push(t),!0)}},{key:"off",value:function(e,t){if(!this._events.includes(e))return!1;var r=this._callbacks[e].indexOf(t);return this._callbacks[e].splice(r,1),!0}},{key:"trigger",value:function(e,t){if(!this._callbacks[e]||!this._callbacks[e].length)return!1;var r=null;return this._callbacks[e].forEach((function(e,i){0==i?r=e(t):e(t)})),r}},{key:"events",get:function(){return this._events},set:function(e){var t=this;e.forEach((function(e){t.register(e)}))}}]),e}();var L=function(e){d()(r,e);var t=function(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var r,i=m()(e);if(t){var n=m()(this).constructor;r=Reflect.construct(i,arguments,n)}else r=i.apply(this,arguments);return p()(this,r)}}(r);function r(e){var i,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return o()(this,r),i=t.call(this),x()(w()(i),"_updateStyle",(function(){var e="";i.selfRender?e="::cue {line-height:"+i._rect.height+"px; white-space: "+i._style.whiteSpace+";}":i.styleNode||(e="::cue { opacity: 0; }"),e.length&&(i.styleNode&&i.styleNode.remove(),i.styleNode=document.createElement("style"),i.styleNode.textContent=e,document.head.append(i.styleNode))})),x()(w()(i),"_updateRect",(function(){if(i.selfRender&&i.textTrack&&i.textTrack.track&&i.textTrack.track.cues)for(var e=0;e<i.textTrack.track.cues.length;e++){var t=i.textTrack.track.cues[e];t.line=Math.floor(i._rect.top/i._rect.height),t.size=Math.floor(i._rect.width/i.el.offsetWidth*100);var r=Math.floor(t.size/2),n=Math.floor(100-t.size/2),a=Math.floor(i._rect.left/i.el.offsetWidth*100);a<r&&(a=r),a>n&&(a=n),t.position=a}})),x()(w()(i),"_initTextTrack",(function(){i.textTrack=document.createElement("track"),i.textTrack.default=!0,i.textTrack.kind="captions",i.textTrack.label="English",i.textTrack.srclang="en",i.textTrack.oncuechange=function(e){var t,r,n=null===(t=e.target)||void 0===t||null===(r=t.track)||void 0===r?void 0:r.activeCues;n&&n.length&&(i.selfRender||(n[0].track.mode="hidden"),i.trigger("SUBTITLE_CHANGED",{id:n[0].id,text:n[0].text,startTime:n[0].startTime,endTime:n[0].endTime,textTrack:i.textTrack,cues:n})),i._updateRect()}})),x()(w()(i),"load",(function(e){return fetch(e).then((function(e){return e.text()})).then((function(e){var t=new Blob([e],{type:"text/vtt"});i.textTrack&&(i.textTrack.src=URL.createObjectURL(t),i.el.appendChild(i.textTrack),i.trigger("SUBTITLE_LOADED",null))}))})),x()(w()(i),"reset",(function(){i.textTrack&&(i.textTrack.src&&URL.revokeObjectURL(i.textTrack.src),i.textTrack.parentNode&&i.textTrack.parentNode.removeChild(i.textTrack),i.textTrack=null),i.styleNode&&(i.styleNode.remove(),i.styleNode=null)})),i.el=e,i.config=n,i.styleNode=null,i.textTrack=null,i.selfRender=i.config.selfRender||C.subtitle.selfRender,i._initTextTrack(),i.rect=n.rect||C.subtitle.rect,i.style=n.style||C.subtitle.style,i.events=["SUBTITLE_CHANGED","SUBTITLE_LOADED"],i}return l()(r,[{key:"rect",set:function(e){this._rect=e,this._updateRect()}},{key:"style",set:function(e){this._style=e,this._updateStyle()}}]),r}(R),k=["onabort","oncanplay","oncanplaythrough","ondurationchange","onemptied","onended","onerror","onloadeddata","onloadedmetadata","onloadstart","onmozaudioavailable","onpause","onplay","onplaying","onprogress","onratechange","onseeked","onseeking","onstalled","onsuspend","ontimeupdate","onvolumechange","onwaiting"];var _=function(e){d()(r,e);var t=function(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var r,i=m()(e);if(t){var n=m()(this).constructor;r=Reflect.construct(i,arguments,n)}else r=i.apply(this,arguments);return p()(this,r)}}(r);function r(e,i){var n;return o()(this,r),(n=t.call(this)).el=e,n.events=i,n.proxyEvents=[],n}return l()(r,[{key:"bind",value:function(e,t){!c()(m()(r.prototype),"on",this).call(this,e,t)&&k.indexOf(e)>-1&&(this.el[e]=t)}},{key:"remove",value:function(e,t){!c()(m()(r.prototype),"off",this).call(this,e,t)&&k.indexOf(e)>-1&&(this.el[e]=null)}},{key:"proxy",value:function(e,t){var i=this;this.register(e),this.proxyEvents.push(e),c()(m()(r.prototype),"on",this).call(this,e,t),this.el[e]=function(t){c()(m()(r.prototype),"trigger",i).call(i,e,t)}}}]),r}(R),A=["AUTOPLAY_PREVENTED","VIDEO_CANPLAY"],D=function(){function e(t){var r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},i=arguments.length>2?arguments[2]:void 0;o()(this,e),this.type=t,this.config=r,this.el=document.createElement("video"),this.config.container&&this.config.container.appendChild(this.el),this.eventManager=new _(this.el,[].concat(E()(A),E()(i))),this.subtitle=null,this.isReady=!1,this._initAttributes()}var t;return l()(e,[{key:"_initAttributes",value:function(){this.el.autoplay=this.config.autoplay||C.playback.autoplay,this.el.loop=this.config.loop||C.playback.loop,this.el.muted=this.config.muted||C.playback.muted,this.el.controls=!1,this.el.playsInline=!0,this.el.preload="auto"}},{key:"_initEvents",value:function(){var e=this;this.eventManager.proxy("oncanplay",(function(){e.isReady=!0}))}},{key:"load",value:function(e){this.el.src!==e&&(this.el.src=e)}},{key:"play",value:function(){var e=this;return new Promise((function(t,r){e.el.play().then((function(){t()})).catch((function(t){e.eventManager.trigger("AUTOPLAY_PREVENTED",{url:e.el.src,errorName:t.name,error:t})}))}))}},{key:"pause",value:function(){this.el.pause()}},{key:"seek",value:function(e){this.el.currentTime=e}},{key:"mute",value:function(e){this.el.muted=e}},{key:"addSubtitle",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},r=arguments.length>2?arguments[2]:void 0,i=arguments.length>3?arguments[3]:void 0;return this.subtitle&&(this.subtitle.reset(),this.subtitle=null),this.subtitle=new L(this.el,t),this.subtitle.on("SUBTITLE_CHANGED",r),this.subtitle.on("SUBTITLE_LOADED",i),this.subtitle.load(e)}},{key:"access",value:function(){var e=this;return this.el.play().then((function(){e.el.pause()}))}},{key:"reset",value:function(){this.pause(),this.el.src=""}},{key:"bindEvent",value:function(e,t){this.eventManager.bind(e,t)}},{key:"removeEvent",value:function(e,t){this.eventManager.remove(e,t)}},{key:"replay",value:(t=n()(y.a.mark((function e(){return y.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return this.seek(0),e.prev=1,e.next=4,this.play();case 4:e.next=8;break;case 6:e.prev=6,e.t0=e.catch(1);case 8:case"end":return e.stop()}}),e,this,[[1,6]])}))),function(){return t.apply(this,arguments)})},{key:"currentTime",get:function(){return this.el.currentTime}},{key:"playing",get:function(){return!this.el.paused}},{key:"duration",get:function(){return this.el.duration}},{key:"bufferRanges",get:function(){for(var e=[],t=0;t<this.el.buffered.length;t++)e.push({startTime:this.el.buffered.start(t),duration:this.el.buffered.end(t)-this.el.buffered.start(t)});return e}},{key:"volume",set:function(e){this.el.volume=e}},{key:"speed",set:function(e){this.el.playbackRate=e}},{key:"release",value:function(){this.isReady=!1}},{key:"getQualityInfo",value:function(){return this.el.getVideoPlaybackQuality?this.el.getVideoPlaybackQuality:{corruptedVideoFrames:0,creationTime:performance.now(),droppedVideoFrames:this.el.webkitDroppedFrameCount||0,totalVideoFrames:this.el.webkitDecodedFrameCount||0}}}]),e}();D.isSoftwareRender=function(){try{var e=document.createElement("canvas").getContext("webgl"),t=e.getExtension("WEBGL_debug_renderer_info");return e.getParameter(t.UNMASKED_RENDERER_WEBGL).includes("SwiftShader")}catch(e){return!0}};var O=D;var P=function(e){d()(r,e);var t=function(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var r,i=m()(e);if(t){var n=m()(this).constructor;r=Reflect.construct(i,arguments,n)}else r=i.apply(this,arguments);return p()(this,r)}}(r);function r(){var e,i=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return o()(this,r),e=t.call(this),x()(w()(e),"_downloadChunk",(function(){if(!(e.loading||e._totalSize&&e._chunkOffset>=e._totalSize)){var t=function(){var e=performance.now();return function(){return(performance.now()-e)/1e3}}(),r=e._chunkSize,i=e.url,n=new XMLHttpRequest;e.xhr=n,n.open("GET",i,!0),n.withCredentials=!!e.config.withCredentials,n.responseType="arraybuffer",n.start=e._chunkOffset,n.setRequestHeader("Range","bytes="+e._chunkOffset+"-"+(e._chunkOffset+r-1)),n.onerror=function(t){0!==t.target.status&&void 0!==t.target.status||e.trigger("ERROR",{name:"CORS_ERROR",url:i})},n.onreadystatechange=function(a){if(403===n.status&&e.trigger("ERROR",{name:"FORBIDDEN_ERROR",url:i,code:403}),4==n.readyState&&(e.loading=!1,200==n.status||206==n.status||304==n.status||416==n.status)){if(416==n.status)return void e.trigger("ERROR",{url:i,name:"RANGE_ERROR",code:416,range:"bytes="+e._chunkOffset+"-"+(e._chunkOffset+r-1)});if(i!=e.url)return;var o=null;if(n.getAllResponseHeaders().toLocaleLowerCase().indexOf("content-range")>=0&&(o=n.getResponseHeader("content-range")),!e._totalSize&&o){var s=o.split("/");2==s.length&&(e._totalSize=parseInt(s[1]),e.trigger("FILE_SIZE",e._totalSize))}e.eof=n.response.byteLength!=r||n.response.byteLength==e._totalSize,e.lastChunkNetworkTime=t(),e.trigger("CHUNK_READY",{data:n.response,eof:e.eof,chunkOffset:e._chunkOffset,chunkSize:r,totalSize:e._totalSize,networkDuration:e.lastChunkNetworkTime}),e.eof||e.paused?e.eof&&e.trigger("EOF",null):e.timeoutId=setTimeout((function(){e._chunkOffset+=r,e._downloadChunk()}),0)}},e.loading=!0,n.send()}})),x()(w()(e),"load",(function(t){e.url=t})),x()(w()(e),"start",(function(){e.url&&(e.eof=!1,e.paused=!1,e.chunkOffset=0,e.switchToInitSize(),e._downloadChunk())})),x()(w()(e),"pause",(function(){e.paused=!0})),x()(w()(e),"resume",(function(){!e.paused||e.loading||e.eof||(e.paused=!1,e._chunkOffset+=e._chunkSize,e._downloadChunk())})),x()(w()(e),"release",(function(){e.xhr&&(e.xhr.abort(),e.xhr=null,e.loading=!1),e.eof=!0,e.paused=!0,e.timeoutId&&clearTimeout(e.timeoutId),e.switchToInitSize(),e._chunkOffset=0,e._totalSize=0,e.url=""})),e.config=i,e._chunkSize=0,e._chunkOffset=0,e._totalSize=0,e.url="",e._initChunkSize=-1,e._commonChunkSize=-1,e.lastChunkNetworkTime=0,e.eof=!0,e.paused=!0,e.loading=!1,e.timeoutId=null,e.xhr=null,e.events=["CHUNK_READY","FILE_SIZE","EOF","ERROR"],e}return l()(r,[{key:"chunkSize",set:function(e){!e||e<0||(this._chunkSize=Math.ceil(e))}},{key:"initChunkSize",set:function(e){!e||e<0||(this._initChunkSize=Math.ceil(e))}},{key:"commonChunkSize",set:function(e){!e||e<0||(this._commonChunkSize=Math.ceil(e))}},{key:"switchToCommonSize",value:function(){this._commonChunkSize<=0||(this.chunkSize=this._commonChunkSize)}},{key:"switchToInitSize",value:function(){this._initChunkSize<=0||(this.chunkSize=this._initChunkSize)}},{key:"chunkOffset",set:function(e){this._chunkOffset=e}}]),r}(R),I=new(l()((function e(){var t=this;o()(this,e),x()(this,"create",(function(e,r,i){return new t.defs[e](r,i)})),x()(this,"define",(function(e,r){t.defs[e]=r})),x()(this,"isSupported",(function(e){return t.defs[e]})),this.defs={}}))),M=Math.pow(2,32),B=function(e,t,r,i,n){var a=new Uint8Array(e,t,n),o=new Uint8Array(r,i,n);a.set(o)},F=function(e,t){return e+t},N=function(e,t){return{value:e.getUint8(t),position:t+1}},U=function(e,t){return{value:e.getUint16(t),position:t+2}},j=function(e,t,r){return{value:e.getUint32(t,!r),position:t+4}},H=function(e,t,r){return e.setUint8(t,r),t+1},V=function(e,t,r){return e.setUint16(t,r),t+2},G=function(e,t,r){return e.setInt32(t,r),t+4},z=function(e,t,r){return e.setUint32(t,r),t+4},Z=B,K=F,W=N,Y=U,q=function(e,t){return{value:e.getInt16(t),position:t+2}},X=function(e,t){var r=U(e,t),i=r.value<<16;return t=r.position,{value:i|(r=N(e,t)).value,position:t=r.position}},J=j,Q=function(e,t,r){return{value:e.getInt32(t,!r),position:t+4}},$=function(e,t,r){var i=j(e,t,r),n=i.value;t=i.position;var a=(i=j(e,t,r)).value;return t=i.position,{value:r?n*M+a:a*M+n,position:t}},ee=function(e,t,r){return{value:null,position:F(t,8)}},te=function(e,t,r){for(var i=[],n=t;n<t+r;n++)i.push(e.getUint8(n));return{value:String.fromCharCode.apply(null,i),position:t+r}},re=function(e,t,r){var i=new Uint8Array(r);return B(i.buffer,0,e.buffer,t,r*i.BYTES_PER_ELEMENT),{value:i,position:t+i.byteLength}},ie=H,ne=function(e,t,r){return e.setInt16(t,r),t+2},ae=V,oe=function(e,t,r){return t=H(e,t,(16711680&r)>>16),t=H(e,t,(65280&r)>>8),H(e,t,255&r)},se=G,le=z,ue=function(e,t,r){var i=Math.floor(r/M);return t=z(e,t,i),z(e,t,4294967295&r)},ce=function(e,t,r,i){var n=Math.min(r.length,i),a=0;for(a=0;a<n;a++)t=H(e,t,r.charCodeAt(a));for(;a<i;a++)t=H(e,t,0);return t},fe=function(e,t,r){if(r instanceof Uint8Array)B(e.buffer,t,r.buffer,0,r.byteLength),t+=r.byteLength;else for(var i=0;i<r.length;i++)t=H(e,t,r[i]);return t},de=function(e,t,r){if(r instanceof Uint32Array)B(e.buffer,t,r.buffer,0,r.byteLength),t+=r.byteLength;else for(var i=0;i<r.length;i++)t=z(e,t,r[i]);return t},he=function(e,t,r){r=r||0;var i=new ArrayBuffer(t),n=new Uint8Array(i),a=new Uint8Array(e,r,t);return n.set(a),i},pe=function(e,t){var r=Number(e).toString(16);for(t=null==t?t=2:t;r.length<t;)r="0"+r;return r};var ve=function(e){d()(r,e);var t=function(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var r,i=m()(e);if(t){var n=m()(this).constructor;r=Reflect.construct(i,arguments,n)}else r=i.apply(this,arguments);return p()(this,r)}}(r);function r(e,i,n){var a;return o()(this,r),(a=t.call(this)).offset=n,a.type=e,a.size=i,a}return l()(r,[{key:"parse",value:function(e,t){}},{key:"write",value:function(e,t){var r=this;return this.offset=t,t=K(t,4),{position:t=ce(e,t,this.type,4),writeSize:function(t){return r.size=t-r.offset,r.size,le(e,r.offset,r.size),t}}}}]),r}(R);var me=function(e){d()(r,e);var t=function(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var r,i=m()(e);if(t){var n=m()(this).constructor;r=Reflect.construct(i,arguments,n)}else r=i.apply(this,arguments);return p()(this,r)}}(r);function r(e,i){var n;return o()(this,r),(n=t.call(this,"ftyp",e,i)).data=null,n.majorBrand=null,n.minorVersion=null,n.compatibleBrands=[],n}return l()(r,[{key:"parse",value:function(e,t){if(r.skippable){var i=re(e,t,this.size-8);this.data=i.value,t=i.position}else{var n=this.size-8,a=te(e,t,4);for(this.majorBrand=a.value,t=a.position,a=J(e,t,!0),this.minorVersion=a.value,t=a.position,n-=8,this.compatibleBrands=[];n>=4;){var o=te(e,t,4);this.compatibleBrands.push(o.value),t=o.position,n-=4}}return t}},{key:"write",value:function(e,t){var i=c()(m()(r.prototype),"write",this).call(this,e,t);if(t=i.position,this.data)t=fe(e,t,this.data);else{t=ce(e,t,this.majorBrand,4),t=le(e,t,this.minorVersion);for(var n=0;n<this.compatibleBrands.length;n++)t=ce(e,t,this.compatibleBrands[n],4)}return i.writeSize(t),t}}]),r}(ve);me.type="ftyp",me.skippable=!0,I.define(me.type,me);var ge=function(e){d()(r,e);var t=function(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var r,i=m()(e);if(t){var n=m()(this).constructor;r=Reflect.construct(i,arguments,n)}else r=i.apply(this,arguments);return p()(this,r)}}(r);function r(e,i,n){var a;return o()(this,r),(a=t.call(this,e,i,n)).boxes=[],a.events=["SUB_BOX"],a.lastPosition=-1,a.listBoxes=[],a}return l()(r,[{key:"parse",value:function(e,t){for(;t<this.offset+this.size;){this.lastPosition=t;var r=this.trigger("SUB_BOX",{position:t});if(r){t=r.position;var i=r.type;this.listBoxes&&this.listBoxes.length&&this.listBoxes.indexOf(i)>=0?(this[r.type]||(this[r.type]=[]),this[r.type].push(r.box)):this[r.type]=r.box,this.boxes.push(r.type)}if(t==this.lastPosition)break}}},{key:"write",value:function(e,t){var i=this,n=c()(m()(r.prototype),"write",this).call(this,e,t);return{position:t=n.position,writeSize:function(e){return n.writeSize(e)},writeSubBoxes:function(e,t){for(var r=0;r<i.boxes.length;r++){var n=i.boxes[r];if(i[n]&&!i[n].unwritable)if(i.listBoxes&&i.listBoxes.length&&i.listBoxes.indexOf(n)>=0)for(var a=0;a<i[n].length;a++)t=i[n][a].write(e,t),i.size+=i[n][a].size;else t=i[n].write(e,t),i.size+=i[n].size}return t}}}},{key:"addSubBox",value:function(e,t){this[e=e||t.type]=t,this.boxes.push(e)}}]),r}(ve);var ye=function(e){d()(r,e);var t=function(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var r,i=m()(e);if(t){var n=m()(this).constructor;r=Reflect.construct(i,arguments,n)}else r=i.apply(this,arguments);return p()(this,r)}}(r);function r(e,i){var n;return o()(this,r),(n=t.call(this,"moov",e,i)).listBoxes=["trak"],n}return l()(r,[{key:"parse",value:function(e,t){c()(m()(r.prototype),"parse",this).call(this,e,t)}},{key:"write",value:function(e,t){var i=c()(m()(r.prototype),"write",this).call(this,e,t);return t=i.position,t=i.writeSubBoxes(e,t),i.writeSize(t),t}},{key:"duration",get:function(){return this.mvhd?this.mvhd.duration:0}},{key:"timescale",get:function(){return this.mvhd?this.mvhd.timescale:1}}]),r}(ge);ye.type="moov",I.define(ye.type,ye);var be=function(e){d()(r,e);var t=function(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var r,i=m()(e);if(t){var n=m()(this).constructor;r=Reflect.construct(i,arguments,n)}else r=i.apply(this,arguments);return p()(this,r)}}(r);function r(e,i,n){var a;return o()(this,r),(a=t.call(this,e,i,n)).version=0,a.flags=0,a}return l()(r,[{key:"parse",value:function(e,t){var r=W(e,t);return this.version=r.value,t=r.position,r=X(e,t),this.flags=r.value,r.position}},{key:"write",value:function(e,t){var i=c()(m()(r.prototype),"write",this).call(this,e,t);return t=i.position,t=ie(e,t,this.version),{position:t=oe(e,t,this.flags),writeSize:function(e){return i.writeSize(e)}}}}]),r}(ve);var Ee=function(e){d()(r,e);var t=function(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var r,i=m()(e);if(t){var n=m()(this).constructor;r=Reflect.construct(i,arguments,n)}else r=i.apply(this,arguments);return p()(this,r)}}(r);function r(e,i){var n;return o()(this,r),(n=t.call(this,"mvhd",e,i)).data=null,n.creationTime=null,n.modificationTime=null,n.timescale=null,n.duration=null,n.rate=null,n.volume=null,n.nextTrackId=null,n}return l()(r,[{key:"parse",value:function(e,t){if(r.skippable){var i=t;t=c()(m()(r.prototype),"parse",this).call(this,e,t);var n=re(e,t,this.size-8-(t-i));return this.data=n.value,i=n.position,1==this.version?(t=K(t,16),n=J(e,t,!0),this.timescale=n.value,t=n.position,n=$(e,t,!0),this.duration=n.value,t=n.position):(t=K(t,8),n=J(e,t,!0),this.timescale=n.value,t=n.position,n=J(e,t,!0),this.duration=n.value,t=n.position),i}t=c()(m()(r.prototype),"parse",this).call(this,e,t);var a=null;if(1==this.version)a=$(e,t,!0),this.creationTime=a.value,t=a.position,a=$(e,t,!0),this.modificationTime=a.value,t=a.position,a=J(e,t,!0),this.timescale=a.value,t=a.position,a=$(e,t,!0),this.duration=a.value,t=a.position;else{var o=J(e,t,!0);this.creationTime=o.value,t=o.position,o=J(e,t,!0),this.modificationTime=o.value,t=o.position,o=J(e,t,!0),this.timescale=o.value,t=o.position,o=J(e,t,!0),this.duration=o.value,t=o.position}return a=J(e,t,!0),this.rate=a.value,t=a.position,a=Y(e,t),this.volume=a.value>>8,t=a.position,a=function(e,t,r){var i=new Uint32Array(r);return B(i.buffer,0,e.buffer,t,r*i.BYTES_PER_ELEMENT),{value:i,position:t+i.byteLength}}(e,t=K(t,10),9),this.matrix=a.value,t=a.position,t=K(t,24),a=J(e,t,!0),this.nextTrackId=a.value,a.position}},{key:"write",value:function(e,t){var i=c()(m()(r.prototype),"write",this).call(this,e,t);return t=i.position,this.data?t=fe(e,t,this.data):(t=le(e,t,this.creationTime),t=le(e,t,this.modificationTime),t=le(e,t,this.timescale),t=le(e,t,this.duration),t=le(e,t,this.rate),t=ae(e,t,this.volume<<8),t=K(t,10),t=de(e,t,this.matrix),t=K(t,24),t=le(e,t,this.nextTrackId)),i.writeSize(t),t}}]),r}(be);Ee.type="mvhd",Ee.skippable=!0,I.define(Ee.type,Ee);var Ce=function(){function e(t,r){o()(this,e),this.index=t,this.trackId=r,this.dts=0,this.timescale=1,this.size=0}return l()(e,[{key:"timestamp",get:function(){return this.dts/this.timescale}}]),e}();var Se=function(e){d()(r,e);var t=function(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var r,i=m()(e);if(t){var n=m()(this).constructor;r=Reflect.construct(i,arguments,n)}else r=i.apply(this,arguments);return p()(this,r)}}(r);function r(e,i){var n;return o()(this,r),n=t.call(this,"trak",e,i),x()(w()(n),"buildSamples",(function(){if(n.sampleIndex=0,n.samples=[],n.samplesDuration=0,n.samplesSize=0,n.mdia&&n.mdia.minf&&n.mdia.minf.stbl){var e=n.mdia.minf.stbl.stco,t=n.mdia.minf.stbl.stsc,r=n.mdia.minf.stbl.stsz,i=n.mdia.minf.stbl.stts,a=n.mdia.minf.stbl.ctts,o=n.mdia.minf.stbl.stss,s=n.mdia.minf.stbl.stsd;if(r&&r.sampleSizes&&r.sampleSizes.length)for(var l=0,u=-1,c=-1,f=-1,d=-1,h=0,p=-1,v=-1,m=-1,g=-1,y=0;y<r.sampleSizes.length;y++){var b=new Ce(y,n.id);b.timescale=n.timescale,n.samples[y]=b,b.size=r.sampleSizes[y],n.samplesSize+=b.size,0===y?(p=1,v=0,b.chunkIndex=p,b.chunkRunIndex=v,m=t.samplesPerChunk[v],l=0,g=v+1<t.firstChunk.length?t.firstChunk[v+1]-1:1/0):y<m?(b.chunkIndex=p,b.chunkRunIndex=v):(p++,b.chunkIndex=p,l=0,p<=g||(g=1+ ++v<t.firstChunk.length?t.firstChunk[v+1]-1:1/0),b.chunkRunIndex=v,m+=t.samplesPerChunk[v]),b.descriptionIndex=t.sampleDescriptionIndex[b.chunkRunIndex]-1,b.description=s.entries[b.descriptionIndex],b.offset=e.chunkOffsets[b.chunkIndex-1]+l,l+=b.size,y>u&&(c++,u<0&&(u=0),u+=i.sampleCounts[c]),y>0?(n.samples[y-1].duration=i.sampleDeltas[c],n.samplesDuration+=n.samples[y-1].duration,b.dts=n.samples[y-1].dts+n.samples[y-1].duration):b.dts=0,a?(y>=f&&(d++,f<0&&(f=0),f+=a.sampleCounts[d]),b.cts=n.samples[y].dts+a.sampleOffsets[d]):b.cts=b.dts,o?y==o.sampleNumbers[h]-1?(b.iFrame=!0,h++):b.iFrame=!1:b.iFrame=!0}}})),x()(w()(n),"resetForFMP4",(function(){if(n.tkhd&&(n.tkhd.duration=0),n.mdia&&(n.mdia.mdhd&&(n.mdia.mdhd.duration=0),n.mdia&&n.mdia.minf&&n.mdia.minf.stbl)){var e=n.mdia.minf.stbl;if(e.stco&&(e.stco.chunkOffsets=[]),e.stsc){var t=e.stsc;t.firstChunk=[],t.samplesPerChunk=[],t.sampleDescriptionIndex=[]}if(e.stsz&&(e.stsz.sampleSizes=[]),e.stts){var r=e.stts;r.sampleCounts=[],r.sampleDeltas=[]}if(e.ctts){var i=e.ctts;i.sampleCounts=[],i.sampleOffsets=[]}}})),n}return l()(r,[{key:"parse",value:function(e,t){c()(m()(r.prototype),"parse",this).call(this,e,t)}},{key:"write",value:function(e,t){var i=c()(m()(r.prototype),"write",this).call(this,e,t);return t=i.position,t=i.writeSubBoxes(e,t),i.writeSize(t),t}},{key:"id",get:function(){return this.tkhd?this.tkhd.trackId:0}},{key:"idString",get:function(){return"trak_"+this.id}},{key:"name",get:function(){return this.mdia&&this.mdia.hdlr?this.mdia.hdlr.handler:""}},{key:"isAudio",get:function(){return"soun"==this.name}},{key:"isVideo",get:function(){return"vide"==this.name}},{key:"duration",get:function(){return this.mdia&&this.mdia.mdhd?this.mdia.mdhd.duration:0}},{key:"timescale",get:function(){return this.mdia&&this.mdia.mdhd?this.mdia.mdhd.timescale:1}},{key:"sampleDesc",get:function(){return this.mdia&&this.mdia.minf&&this.mdia.minf.stbl&&this.mdia.minf.stbl.stsd&&this.mdia.minf.stbl.stsd.entries.length?this.mdia.minf.stbl.stsd.entries[0]:null}},{key:"codec",get:function(){return this.sampleDesc?this.sampleDesc.getCodec():""}},{key:"sampleDuration",get:function(){return this.samples&&this.samples.length?this.samples[0].duration:0}}]),r}(ge);Se.type="trak",I.define(Se.type,Se);var we=function(e){d()(r,e);var t=function(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var r,i=m()(e);if(t){var n=m()(this).constructor;r=Reflect.construct(i,arguments,n)}else r=i.apply(this,arguments);return p()(this,r)}}(r);function r(e,i){var n;return o()(this,r),(n=t.call(this,"tkhd",e,i)).data=null,n.creationTime=null,n.modificationTime=null,n.trackId=null,n.duration=null,n.layer=null,n.alternateGroup=null,n.volume=null,n.matrix=null,n.width=null,n.height=null,n}return l()(r,[{key:"parse",value:function(e,t){if(r.skippable){var i=t;t=c()(m()(r.prototype),"parse",this).call(this,e,t);var n=re(e,t,this.size-8-(t-i));return this.data=n.value,i=n.position,1==this.version?(t=K(t,16),n=J(e,t,!0),this.trackId=n.value,t=n.position,t=K(t,4),n=$(e,t,!0),this.duration=n.value,t=n.position):(t=K(t,8),n=J(e,t,!0),this.trackId=n.value,t=n.position,t=K(t,4),n=J(e,t,!0),this.duration=n.value,t=n.position),t=K(t,52),n=J(e,t,!0),this.width=n.value,t=n.position,n=J(e,t,!0),this.height=n.value,t=n.position,i}if(t=c()(m()(r.prototype),"parse",this).call(this,e,t),1==this.version){var a=$(e,t,!0);this.creationTime=a.value,t=a.position,a=$(e,t,!0),this.modificationTime=a.value,t=a.position,a=J(e,t,!0),this.trackId=a.value,t=a.position,t=(a=J(e,t,!0)).position,a=$(e,t,!0),this.duration=a.value,t=a.position}else{var o=J(e,t,!0);this.creationTime=o.value,t=o.position,o=J(e,t,!0),this.modificationTime=o.value,t=o.position,o=J(e,t,!0),this.trackId=o.value,t=o.position,t=K(t,4),o=J(e,t,!0),this.duration=o.value,t=o.position}t=K(t,8);var s=q(e,t);return this.layer=s.value,t=s.position,s=q(e,t),this.alternateGroup=s.value,t=s.position,s=q(e,t),this.volume=s.value>>8,t=s.position,s=function(e,t,r){var i=new Int32Array(r);return B(i.buffer,0,e.buffer,t,r*i.BYTES_PER_ELEMENT),{value:i,position:t+i.byteLength}}(e,t=K(t,2),9),this.matrix=s.value,t=s.position,s=J(e,t,!0),this.width=s.value,t=s.position,s=J(e,t,!0),this.height=s.value,s.position}},{key:"write",value:function(e,t){var i=c()(m()(r.prototype),"write",this).call(this,e,t);return t=i.position,this.data?t=fe(e,t,this.data):(t=le(e,t,this.creationTime),t=le(e,t,this.modificationTime),t=le(e,t,this.trackId),t=K(t,4),t=le(e,t,this.duration),t=K(t,8),t=ne(e,t,this.layer),t=ne(e,t,this.alternateGroup),t=ne(e,t,this.volume<<8),t=function(e,t,r){if(r instanceof Int32Array)B(e.buffer,t,r.buffer,0,r.byteLength),t+=r.byteLength;else for(var i=0;i<r.length;i++)t=G(e,t,r[i]);return t}(e,t=K(t,2),this.matrix),t=le(e,t,this.width),t=le(e,t,this.height)),i.writeSize(t),t}}]),r}(be);we.type="tkhd",we.skippable=!0,I.define(we.type,we);var Te=function(e){d()(r,e);var t=function(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var r,i=m()(e);if(t){var n=m()(this).constructor;r=Reflect.construct(i,arguments,n)}else r=i.apply(this,arguments);return p()(this,r)}}(r);function r(e,i){var n;return o()(this,r),(n=t.call(this,"edts",e,i)).unwritable=!0,n}return l()(r,[{key:"parse",value:function(e,t){c()(m()(r.prototype),"parse",this).call(this,e,t)}},{key:"write",value:function(e,t){var i=c()(m()(r.prototype),"write",this).call(this,e,t);return t=i.position,t=i.writeSubBoxes(e,t),i.writeSize(t),t}}]),r}(ge);Te.type="edts",I.define(Te.type,Te);var xe=function(e){d()(r,e);var t=function(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var r,i=m()(e);if(t){var n=m()(this).constructor;r=Reflect.construct(i,arguments,n)}else r=i.apply(this,arguments);return p()(this,r)}}(r);function r(e,i){var n;return o()(this,r),(n=t.call(this,"elst",e,i)).entries=[],n}return l()(r,[{key:"parse",value:function(e,t){if(r.skippable){var i=t;t=c()(m()(r.prototype),"parse",this).call(this,e,t);var n=re(e,t,this.size-8-(t-i));return this.data=n.value,n.position}t=c()(m()(r.prototype),"parse",this).call(this,e,t);var a=J(e,t,!0),o=a.value;t=a.position;for(var s=0;s<o;s++){var l={};this.entries.push(l),1===this.version?(a=$(e,t,!0),l.segmentDuration=a.value,t=a.position,a=ee(0,t),l.mediaTime=a.value,t=a.position):(a=J(e,t,!0),l.segmentDuration=a.value,t=a.position,a=Q(e,t,!0),l.mediaTime=a.value,t=a.position),a=q(e,t),l.mediaRateInteger=a.value,t=a.position,a=q(e,t),l.mediaRateFraction=a.value,t=a.position}return t}},{key:"write",value:function(e,t){var i=c()(m()(r.prototype),"write",this).call(this,e,t);if(t=i.position,this.data)t=fe(e,t,this.data);else{t=le(e,t,this.entries.length);for(var n=0;n<this.entries.length;n++){var a=this.entries[n];t=le(e,t,a.segmentDuration),t=se(e,t,a.mediaTime),t=ne(e,t,a.mediaRateInteger),t=ne(e,t,a.mediaRateFraction)}}return i.writeSize(t),t}}]),r}(be);xe.type="elst",xe.skippable=!0,I.define(xe.type,xe);var Re=function(e){d()(r,e);var t=function(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var r,i=m()(e);if(t){var n=m()(this).constructor;r=Reflect.construct(i,arguments,n)}else r=i.apply(this,arguments);return p()(this,r)}}(r);function r(e,i){return o()(this,r),t.call(this,"mdia",e,i)}return l()(r,[{key:"parse",value:function(e,t){c()(m()(r.prototype),"parse",this).call(this,e,t)}},{key:"write",value:function(e,t){var i=c()(m()(r.prototype),"write",this).call(this,e,t);return t=i.position,t=i.writeSubBoxes(e,t),i.writeSize(t),t}}]),r}(ge);Re.type="mdia",I.define(Re.type,Re);var Le=function(e){d()(r,e);var t=function(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var r,i=m()(e);if(t){var n=m()(this).constructor;r=Reflect.construct(i,arguments,n)}else r=i.apply(this,arguments);return p()(this,r)}}(r);function r(e,i){return o()(this,r),t.call(this,"mdhd",e,i)}return l()(r,[{key:"parse",value:function(e,t){if(r.skippable){var i=t;t=c()(m()(r.prototype),"parse",this).call(this,e,t);var n=re(e,t,this.size-8-(t-i));return this.data=n.value,i=n.position,1==this.version?(t=K(t,16),n=J(e,t,!0),this.timescale=n.value,t=n.position,n=$(e,t,!0),this.duration=n.value,t=n.position):(t=K(t,16),n=J(e,t,!0),this.timescale=n.value,t=n.position,n=J(e,t,!0),this.duration=n.value,t=n.position),i}if(t=c()(m()(r.prototype),"parse",this).call(this,e,t),1==this.version){var a=$(e,t,!0);this.creationTime=a.value,t=a.position,a=$(e,t,!0),this.modificationTime=a.value,t=a.position,a=J(e,t,!0),this.timescale=a.value,t=a.position,a=$(e,t,!0),this.duration=a.value,t=a.position}else{var o=J(e,t,!0);this.creationTime=o.value,t=o.position,o=J(e,t,!0),this.modificationTime=o.value,t=o.position,o=J(e,t,!0),this.timescale=o.value,t=o.position,o=J(e,t,!0),this.duration=o.value,t=o.position}var s=Y(e,t);this.language=s.value,t=s.position;var l=[];return l[0]=this.language>>10&31,l[1]=this.language>>5&31,l[2]=31&this.language,this.languageString=String.fromCharCode(l[0]+96,l[1]+96,l[2]+96),K(t,2)}},{key:"write",value:function(e,t){var i=c()(m()(r.prototype),"write",this).call(this,e,t);return t=i.position,this.data?t=fe(e,t,this.data):(t=le(e,t,this.creationTime),t=le(e,t,this.modificationTime),t=le(e,t,this.timescale),t=le(e,t,this.duration),t=ae(e,t,this.language),t=K(t,2)),i.writeSize(t),t}}]),r}(be);Le.type="mdhd",Le.skippable=!0,I.define(Le.type,Le);var ke=function(e){d()(r,e);var t=function(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var r,i=m()(e);if(t){var n=m()(this).constructor;r=Reflect.construct(i,arguments,n)}else r=i.apply(this,arguments);return p()(this,r)}}(r);function r(e,i){var n;return o()(this,r),(n=t.call(this,"hdlr",e,i)).name="",n.handler="",n}return l()(r,[{key:"parse",value:function(e,t){if(t=c()(m()(r.prototype),"parse",this).call(this,e,t),0===this.version){t=K(t,4);var i=te(e,t,4);this.handler=i.value,t=i.position,t=K(t,12),i=te(e,t,12),this.name=i.value,t=i.position}return t}},{key:"write",value:function(e,t){var i=c()(m()(r.prototype),"write",this).call(this,e,t);return t=i.position,t=K(t,4),t=ce(e,t,this.handler,4),t=K(t,12),t=ce(e,t,this.name,this.name.length+1),i.writeSize(t),t}}]),r}(be);ke.type="hdlr",ke.skippable=!0,I.define(ke.type,ke);var _e=function(e){d()(r,e);var t=function(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var r,i=m()(e);if(t){var n=m()(this).constructor;r=Reflect.construct(i,arguments,n)}else r=i.apply(this,arguments);return p()(this,r)}}(r);function r(e,i){return o()(this,r),t.call(this,"minf",e,i)}return l()(r,[{key:"parse",value:function(e,t){c()(m()(r.prototype),"parse",this).call(this,e,t)}},{key:"write",value:function(e,t){var i=c()(m()(r.prototype),"write",this).call(this,e,t);return t=i.position,t=i.writeSubBoxes(e,t),i.writeSize(t),t}}]),r}(ge);_e.type="minf",I.define(_e.type,_e);var Ae=function(e){d()(r,e);var t=function(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var r,i=m()(e);if(t){var n=m()(this).constructor;r=Reflect.construct(i,arguments,n)}else r=i.apply(this,arguments);return p()(this,r)}}(r);function r(e,i){return o()(this,r),t.call(this,"vmhd",e,i)}return l()(r,[{key:"parse",value:function(e,t){if(r.skippable){var i=t;t=c()(m()(r.prototype),"parse",this).call(this,e,t);var n=re(e,t,this.size-8-(t-i));return this.data=n.value,n.position}t=c()(m()(r.prototype),"parse",this).call(this,e,t);var a=Y(e,t);return this.graphicsMode=a.value,a=function(e,t,r){var i=new Uint16Array(r);return B(i.buffer,0,e.buffer,t,r*i.BYTES_PER_ELEMENT),{value:i,position:t+i.byteLength}}(e,t=a.position,3),this.opcolor=a.value,a.position}},{key:"write",value:function(e,t){var i=c()(m()(r.prototype),"write",this).call(this,e,t);return t=i.position,this.data?t=fe(e,t,this.data):t=function(e,t,r){if(r instanceof Uint16Array)B(e.buffer,t,r.buffer,0,r.byteLength),t+=r.byteLength;else for(var i=0;i<r.length;i++)t=V(e,t,r[i]);return t}(e,t=ae(e,t,this.graphicsMode),this.opcolor),i.writeSize(t),t}}]),r}(be);Ae.type="vmhd",Ae.skippable=!0,I.define(Ae.type,Ae);var De=function(e){d()(r,e);var t=function(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var r,i=m()(e);if(t){var n=m()(this).constructor;r=Reflect.construct(i,arguments,n)}else r=i.apply(this,arguments);return p()(this,r)}}(r);function r(e,i){return o()(this,r),t.call(this,"dinf",e,i)}return l()(r,[{key:"parse",value:function(e,t){c()(m()(r.prototype),"parse",this).call(this,e,t)}},{key:"write",value:function(e,t){var i=c()(m()(r.prototype),"write",this).call(this,e,t);return t=i.position,t=i.writeSubBoxes(e,t),i.writeSize(t),t}}]),r}(ge);De.type="dinf",I.define(De.type,De);var Oe=function(e){d()(r,e);var t=function(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var r,i=m()(e);if(t){var n=m()(this).constructor;r=Reflect.construct(i,arguments,n)}else r=i.apply(this,arguments);return p()(this,r)}}(r);function r(e,i){var n;return o()(this,r),(n=t.call(this,"url ",e,i)).location="",n}return l()(r,[{key:"parse",value:function(e,t){t=c()(m()(r.prototype),"parse",this).call(this,e,t),1!==this.flags&&(this.location="")}},{key:"write",value:function(e,t){var i=c()(m()(r.prototype),"write",this).call(this,e,t);return t=i.position,i.writeSize(t),t}}]),r}(be);Oe.type="url ",I.define(Oe.type,Oe);var Pe=function(e){d()(r,e);var t=function(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var r,i=m()(e);if(t){var n=m()(this).constructor;r=Reflect.construct(i,arguments,n)}else r=i.apply(this,arguments);return p()(this,r)}}(r);function r(e,i){var n;return o()(this,r),(n=t.call(this,"dref",e,i)).events=["SUB_BOX"],n.entries=[],n}return l()(r,[{key:"parse",value:function(e,t){t=c()(m()(r.prototype),"parse",this).call(this,e,t);var i=J(e,t,!0),n=i.value;t=i.position;for(var a=0;a<n;a++){var o=this.trigger("SUB_BOX",{position:t});o&&(t=o.position,this.entries.push(o.box))}}},{key:"write",value:function(e,t){var i=c()(m()(r.prototype),"write",this).call(this,e,t);t=i.position,t=le(e,t,this.entries.length);for(var n=0;n<this.entries.length;n++)t=this.entries[n].write(e,t);return i.writeSize(t),t}}]),r}(be);Pe.type="dref",I.define(Pe.type,Pe);var Ie=function(e){d()(r,e);var t=function(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var r,i=m()(e);if(t){var n=m()(this).constructor;r=Reflect.construct(i,arguments,n)}else r=i.apply(this,arguments);return p()(this,r)}}(r);function r(e,i){return o()(this,r),t.call(this,"stbl",e,i)}return l()(r,[{key:"parse",value:function(e,t){c()(m()(r.prototype),"parse",this).call(this,e,t)}},{key:"write",value:function(e,t){var i=c()(m()(r.prototype),"write",this).call(this,e,t);return t=i.position,t=i.writeSubBoxes(e,t),i.writeSize(t),t}}]),r}(ge);Ie.type="stbl",I.define(Ie.type,Ie);var Me=function(e){d()(r,e);var t=function(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var r,i=m()(e);if(t){var n=m()(this).constructor;r=Reflect.construct(i,arguments,n)}else r=i.apply(this,arguments);return p()(this,r)}}(r);function r(e,i){var n;return o()(this,r),(n=t.call(this,"stsd",e,i)).events=["SUB_BOX"],n.entries=[],n}return l()(r,[{key:"parse",value:function(e,t){t=c()(m()(r.prototype),"parse",this).call(this,e,t);var i=J(e,t,!0),n=i.value;t=i.position;for(var a=0;a<n;a++){var o=this.trigger("SUB_BOX",{position:t});o&&(t=o.position,this.entries.push(o.box))}}},{key:"write",value:function(e,t){var i=c()(m()(r.prototype),"write",this).call(this,e,t);t=i.position,t=le(e,t,this.entries.length);for(var n=0;n<this.entries.length;n++)t=this.entries[n].write(e,t);return i.writeSize(t),t}}]),r}(be);Me.type="stsd",I.define(Me.type,Me);var Be=function(e){d()(r,e);var t=function(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var r,i=m()(e);if(t){var n=m()(this).constructor;r=Reflect.construct(i,arguments,n)}else r=i.apply(this,arguments);return p()(this,r)}}(r);function r(e,i,n){return o()(this,r),t.call(this,e,i,n)}return l()(r,[{key:"parse",value:function(e,t){if(r.skippable){var i=re(e,t,78);this.data=i.value,t=i.position}else{t=K(t,6);var n=Y(e,t);this.dataReferenceIndex=n.value,t=n.position,t=K(t,16),n=Y(e,t),this.width=n.value,t=n.position,n=Y(e,t),this.height=n.value,t=n.position,n=J(e,t,!0),this.hResolution=n.value,t=n.position,n=J(e,t,!0),this.vResolution=n.value,t=n.position,t=(n=J(e,t,!0)).position,n=Y(e,t),this.frameCount=n.value,t=n.position,n=W(e,t);var a=Math.min(31,n.value);t=n.position,n=te(e,t,a),this.compressorName=n.value,t=n.position,a<31&&(t=(n=te(e,t,31-a)).position),n=Y(e,t),this.depth=n.value,t=n.position,t=K(t,2)}c()(m()(r.prototype),"parse",this).call(this,e,t)}},{key:"write",value:function(e,t){var i=c()(m()(r.prototype),"write",this).call(this,e,t);return t=i.position,this.data?t=fe(e,t,this.data):(t=K(t,6),t=ae(e,t,this.dataReferenceIndex),t=K(t,16),t=ae(e,t,this.width),t=ae(e,t,this.height),t=le(e,t,this.hResolution),t=le(e,t,this.vResolution),t=K(t,4),t=ae(e,t,this.frameCount),t=ie(e,t,Math.min(31,this.compressorName.length)),t=ce(e,t,this.compressorName,31),t=ae(e,t,this.depth),t=ne(e,t,-1)),t=i.writeSubBoxes(e,t),i.writeSize(t),t}},{key:"getCodec",value:function(){return this.type.replace(".","")}}]),r}(ge);Be.skippable=!0;var Fe=Be;var Ne=function(e){d()(r,e);var t=function(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var r,i=m()(e);if(t){var n=m()(this).constructor;r=Reflect.construct(i,arguments,n)}else r=i.apply(this,arguments);return p()(this,r)}}(r);function r(e,i){return o()(this,r),t.call(this,"avc1",e,i)}return l()(r,[{key:"parse",value:function(e,t){c()(m()(r.prototype),"parse",this).call(this,e,t)}},{key:"getCodec",value:function(){var e=c()(m()(r.prototype),"getCodec",this).call(this);if(this.avcC)return e+"."+pe(this.avcC.AVCProfileIndication)+pe(this.avcC.profileCompatibility)+pe(this.avcC.AVCLevelIndication)}}]),r}(Fe);Ne.type="avc1",I.define(Ne.type,Ne);var Ue=function(e){d()(r,e);var t=function(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var r,i=m()(e);if(t){var n=m()(this).constructor;r=Reflect.construct(i,arguments,n)}else r=i.apply(this,arguments);return p()(this,r)}}(r);function r(e,i){return o()(this,r),t.call(this,"avcC",e,i)}return l()(r,[{key:"parse",value:function(e,t){if(r.skippable){var i,n=re(e,t,this.size-8);return this.data=n.value,i=n.position,t=K(t,1),n=W(e,t),this.AVCProfileIndication=n.value,t=n.position,n=W(e,t),this.profileCompatibility=n.value,t=n.position,n=W(e,t),this.AVCLevelIndication=n.value,t=n.position,t=K(t,1),i}var a=W(e,t);this.configurationVersion=a.value,t=a.position,a=W(e,t),this.AVCProfileIndication=a.value,t=a.position,a=W(e,t),this.profileCompatibility=a.value,t=a.position,a=W(e,t),this.AVCLevelIndication=a.value,t=a.position,a=W(e,t),this.lengthSizeMinusOne=3&a.value,t=a.position,a=W(e,t),this.SPSNalusCount=31&a.value,t=a.position;var o=this.size-8-6;this.SPS=[];for(var s=0;s<this.SPSNalusCount;s++){this.SPS[s]={};var l=Y(e,t);this.SPS[s].length=l.value,t=l.position,l=re(e,t,this.SPS[s].length),this.SPS[s].nalu=l.value,t=l.position,o-=2+this.SPS[s].length}a=W(e,t),this.PPSNalusCount=a.value,t=a.position,o--,this.PPS=[];for(var u=0;u<this.PPSNalusCount;u++){this.PPS[u]={};var c=Y(e,t);this.PPS[u].length=c.value,t=c.position,c=re(e,t,this.PPS[u].length),this.PPS[u].nalu=c.value,t=c.position,o-=2+this.PPS[u].length}if(o>0){var f=re(e,t,o);this.ext=f.value,t=f.position}return t}},{key:"write",value:function(e,t){var i=c()(m()(r.prototype),"write",this).call(this,e,t);if(t=i.position,this.data)t=fe(e,t,this.data);else{t=ie(e,t,this.configurationVersion),t=ie(e,t,this.AVCProfileIndication),t=ie(e,t,this.profileCompatibility),t=ie(e,t,this.AVCLevelIndication),t=ie(e,t,this.lengthSizeMinusOne+252),t=ie(e,t,this.SPS.length+224);for(var n=0;n<this.SPS.length;n++)t=ae(e,t,this.SPS[n].length),t=fe(e,t,this.SPS[n].nalu);t=ie(e,t,this.PPS.length);for(var a=0;a<this.PPS.length;a++)t=ae(e,t,this.PPS[a].length),t=fe(e,t,this.PPS[a].nalu);this.ext&&(t=fe(e,t,this.ext))}return i.writeSize(t),t}}]),r}(ve);Ue.type="avcC",Ue.skippable=!0,I.define(Ue.type,Ue);var je=function(e){d()(r,e);var t=function(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var r,i=m()(e);if(t){var n=m()(this).constructor;r=Reflect.construct(i,arguments,n)}else r=i.apply(this,arguments);return p()(this,r)}}(r);function r(e,i){var n;return o()(this,r),(n=t.call(this,"pasp",e,i)).unwritable=!0,n}return l()(r,[{key:"parse",value:function(e,t){if(r.keepData){var i=re(e,t,this.size-8);this.data=i.value}var n=J(e,t,!0);this.hSpacing=n.value,t=n.position,n=J(e,t,!0),this.vSpacing=n.value,t=n.position}},{key:"write",value:function(e,t){var i=c()(m()(r.prototype),"write",this).call(this,e,t);return t=i.position,this.data&&(t=fe(e,t,this.data)),i.writeSize(t),t}}]),r}(ve);je.type="pasp",je.keepData=!0,I.define(je.type,je);var He=function(e){d()(r,e);var t=function(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var r,i=m()(e);if(t){var n=m()(this).constructor;r=Reflect.construct(i,arguments,n)}else r=i.apply(this,arguments);return p()(this,r)}}(r);function r(e,i){var n;return o()(this,r),(n=t.call(this,"btrt",e,i)).unwritable=!0,n}return l()(r,[{key:"parse",value:function(e,t){if(r.keepData){var i=re(e,t,this.size-8);this.data=i.value}var n=Q(e,t,!0);this.bufferSize=n.value,t=n.position,n=Q(e,t,!0),this.maxBitrate=n.value,t=n.position,n=Q(e,t,!0),this.avgBitrate=n.value,t=n.position}},{key:"write",value:function(e,t){var i=c()(m()(r.prototype),"write",this).call(this,e,t);return t=i.position,this.data&&(t=fe(e,t,this.data)),i.writeSize(t),t}}]),r}(ve);He.type="btrt",He.keepData=!0,I.define(He.type,He);var Ve=function(e){d()(r,e);var t=function(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var r,i=m()(e);if(t){var n=m()(this).constructor;r=Reflect.construct(i,arguments,n)}else r=i.apply(this,arguments);return p()(this,r)}}(r);function r(e,i){var n;return o()(this,r),(n=t.call(this,"stts",e,i)).sampleCounts=[],n.sampleDeltas=[],n}return l()(r,[{key:"parse",value:function(e,t){t=c()(m()(r.prototype),"parse",this).call(this,e,t);var i=J(e,t,!0),n=i.value;if(t=i.position,0===this.version)for(var a=0;a<n;a++){var o=J(e,t,!0);this.sampleCounts.push(o.value),t=o.position;var s=(o=Q(e,t,!0)).value;t=o.position,s<0&&(s=1),this.sampleDeltas.push(s)}}},{key:"write",value:function(e,t){var i=c()(m()(r.prototype),"write",this).call(this,e,t);t=i.position,t=le(e,t,this.sampleCounts.length);for(var n=0;n<this.sampleCounts.length;n++)t=le(e,t,this.sampleCounts[n]),t=le(e,t,this.sampleDeltas[n]);return i.writeSize(t),t}}]),r}(be);Ve.type="stts",I.define(Ve.type,Ve);var Ge=function(e){d()(r,e);var t=function(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var r,i=m()(e);if(t){var n=m()(this).constructor;r=Reflect.construct(i,arguments,n)}else r=i.apply(this,arguments);return p()(this,r)}}(r);function r(e,i){var n;return o()(this,r),(n=t.call(this,"stss",e,i)).sampleNumbers=[],n}return l()(r,[{key:"parse",value:function(e,t){t=c()(m()(r.prototype),"parse",this).call(this,e,t);var i=J(e,t,!0),n=i.value;if(t=i.position,0===this.version)for(var a=0;a<n;a++){var o=J(e,t,!0);this.sampleNumbers.push(o.value),t=o.position}}},{key:"write",value:function(e,t){var i=c()(m()(r.prototype),"write",this).call(this,e,t);return t=i.position,t=le(e,t,this.sampleNumbers.length),t=de(e,t,this.sampleNumbers),i.writeSize(t),t}}]),r}(be);Ge.type="stss",I.define(Ge.type,Ge);var ze=function(e){d()(r,e);var t=function(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var r,i=m()(e);if(t){var n=m()(this).constructor;r=Reflect.construct(i,arguments,n)}else r=i.apply(this,arguments);return p()(this,r)}}(r);function r(e,i){var n;return o()(this,r),(n=t.call(this,"ctts",e,i)).sampleCounts=[],n.sampleOffsets=[],n.unwritable=!0,n}return l()(r,[{key:"parse",value:function(e,t){t=c()(m()(r.prototype),"parse",this).call(this,e,t);var i=J(e,t,!0),n=i.value;t=i.position;for(var a=0;a<n;a++){var o=J(e,t,!0);this.sampleCounts.push(o.value),t=o.position,o=Q(e,t,!0),this.sampleOffsets.push(o.value),t=o.position}}},{key:"write",value:function(e,t){var i=c()(m()(r.prototype),"write",this).call(this,e,t);t=i.position,t=le(e,t,this.sampleCounts.length);for(var n=0;n<this.sampleCounts.length;n++)t=le(e,t,this.sampleCounts[n]),t=1===this.version?se(e,t,this.sampleOffsets[n]):le(e,t,this.sampleOffsets[n]);return i.writeSize(t),t}}]),r}(be);ze.type="ctts",I.define(ze.type,ze);var Ze=function(e){d()(r,e);var t=function(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var r,i=m()(e);if(t){var n=m()(this).constructor;r=Reflect.construct(i,arguments,n)}else r=i.apply(this,arguments);return p()(this,r)}}(r);function r(e,i){var n;return o()(this,r),(n=t.call(this,"stsc",e,i)).firstChunk=[],n.samplesPerChunk=[],n.sampleDescriptionIndex=[],n}return l()(r,[{key:"parse",value:function(e,t){t=c()(m()(r.prototype),"parse",this).call(this,e,t);var i=J(e,t,!0),n=i.value;if(t=i.position,0===this.version)for(var a=0;a<n;a++){var o=J(e,t,!0);this.firstChunk.push(o.value),t=o.position,o=J(e,t,!0),this.samplesPerChunk.push(o.value),t=o.position,o=J(e,t,!0),this.sampleDescriptionIndex.push(o.value),t=o.position}}},{key:"write",value:function(e,t){var i=c()(m()(r.prototype),"write",this).call(this,e,t);t=i.position,t=le(e,t,this.firstChunk.length);for(var n=0;n<this.firstChunk.length;n++)t=le(e,t,this.firstChunk[n]),t=le(e,t,this.samplesPerChunk[n]),t=le(e,t,this.sampleDescriptionIndex[n]);return i.writeSize(t),t}}]),r}(be);Ze.type="stsc",I.define(Ze.type,Ze);var Ke=function(e){d()(r,e);var t=function(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var r,i=m()(e);if(t){var n=m()(this).constructor;r=Reflect.construct(i,arguments,n)}else r=i.apply(this,arguments);return p()(this,r)}}(r);function r(e,i){var n;return o()(this,r),(n=t.call(this,"stsz",e,i)).sampleSizes=[],n.sampleSize=0,n.sampleCount=0,n}return l()(r,[{key:"parse",value:function(e,t){if(t=c()(m()(r.prototype),"parse",this).call(this,e,t),0===this.version){var i=J(e,t,!0);this.sampleSize=i.value,t=i.position,i=J(e,t,!0),this.sampleCount=i.value,t=i.position;for(var n=0;n<this.sampleCount;n++)if(0===this.sampleSize){var a=J(e,t,!0);this.sampleSizes.push(a.value),t=a.position}else this.sampleSizes[n]=this.sampleSize}}},{key:"write",value:function(e,t){var i=!0;if(this.sampleSizes.length>0)for(var n=0;n+1<this.sampleSizes.length;){if(this.sampleSizes[n+1]!==this.sampleSizes[0]){i=!1;break}n++}else i=!1;var a=c()(m()(r.prototype),"write",this).call(this,e,t);return t=a.position,t=i?le(e,t,this.sampleSizes[0]):K(t,4),t=le(e,t,this.sampleSizes.length),i||(t=de(e,t,this.sampleSizes)),a.writeSize(t),t}}]),r}(be);Ke.type="stsz",I.define(Ke.type,Ke);var We=function(e){d()(r,e);var t=function(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var r,i=m()(e);if(t){var n=m()(this).constructor;r=Reflect.construct(i,arguments,n)}else r=i.apply(this,arguments);return p()(this,r)}}(r);function r(e,i){var n;return o()(this,r),(n=t.call(this,"stco",e,i)).chunkOffsets=[],n}return l()(r,[{key:"parse",value:function(e,t){t=c()(m()(r.prototype),"parse",this).call(this,e,t);var i=J(e,t,!0),n=i.value;if(t=i.position,0===this.version)for(var a=0;a<n;a++){var o=J(e,t,!0);this.chunkOffsets.push(o.value),t=o.position}}},{key:"write",value:function(e,t){var i=c()(m()(r.prototype),"write",this).call(this,e,t);return t=i.position,t=le(e,t,this.chunkOffsets.length),t=de(e,t,this.chunkOffsets),i.writeSize(t),t}}]),r}(be);We.type="stco",I.define(We.type,We);var Ye=function(e){d()(r,e);var t=function(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var r,i=m()(e);if(t){var n=m()(this).constructor;r=Reflect.construct(i,arguments,n)}else r=i.apply(this,arguments);return p()(this,r)}}(r);function r(e,i){return o()(this,r),t.call(this,"udta",e,i)}return l()(r,[{key:"parse",value:function(e,t){c()(m()(r.prototype),"parse",this).call(this,e,t)}},{key:"write",value:function(e,t){var i=c()(m()(r.prototype),"write",this).call(this,e,t);return t=i.position,t=i.writeSubBoxes(e,t),i.writeSize(t),t}}]),r}(ge);Ye.type="udta",I.define(Ye.type,Ye);var qe=function(e){d()(r,e);var t=function(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var r,i=m()(e);if(t){var n=m()(this).constructor;r=Reflect.construct(i,arguments,n)}else r=i.apply(this,arguments);return p()(this,r)}}(r);function r(e,i){var n;return o()(this,r),(n=t.call(this,"meta",e,i)).events=["SUB_BOX"],n.boxes=[],n.lastPosition=-1,n}return l()(r,[{key:"parse",value:function(e,t){for(t=c()(m()(r.prototype),"parse",this).call(this,e,t);t<this.offset+this.size;){this.lastPosition=t;var i=this.trigger("SUB_BOX",{position:t});if(i&&(t=i.position,this[i.type]=i.box,this.boxes.push(i.type)),t==this.lastPosition)break}}},{key:"write",value:function(e,t){var i=c()(m()(r.prototype),"write",this).call(this,e,t);return t=i.position,i.writeSize(t),t}}]),r}(be);qe.type="meta",I.define(qe.type,qe);var Xe=function(e){d()(r,e);var t=function(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var r,i=m()(e);if(t){var n=m()(this).constructor;r=Reflect.construct(i,arguments,n)}else r=i.apply(this,arguments);return p()(this,r)}}(r);function r(e,i){return o()(this,r),t.call(this,"ilst",e,i)}return l()(r,[{key:"parse",value:function(e,t){}},{key:"write",value:function(e,t){var i=c()(m()(r.prototype),"write",this).call(this,e,t);return t=i.position,i.writeSize(t),t}}]),r}(ve);Xe.type="ilst",I.define(Xe.type,Xe);var Je=function(e){d()(r,e);var t=function(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var r,i=m()(e);if(t){var n=m()(this).constructor;r=Reflect.construct(i,arguments,n)}else r=i.apply(this,arguments);return p()(this,r)}}(r);function r(e,i){return o()(this,r),t.call(this,"free",e,i)}return l()(r,[{key:"parse",value:function(e,t){}},{key:"write",value:function(e,t){var i=c()(m()(r.prototype),"write",this).call(this,e,t);return t=i.position,i.writeSize(t),t}}]),r}(ve);Je.type="free",I.define(Je.type,Je);var Qe=function(e){d()(r,e);var t=function(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var r,i=m()(e);if(t){var n=m()(this).constructor;r=Reflect.construct(i,arguments,n)}else r=i.apply(this,arguments);return p()(this,r)}}(r);function r(e,i){var n;return o()(this,r),(n=t.call(this,"mdat",e,i)).data=null,n}return l()(r,[{key:"parse",value:function(e,t){}},{key:"write",value:function(e,t){var i=c()(m()(r.prototype),"write",this).call(this,e,t);return t=i.position,this.data&&(t=fe(e,t,this.data)),i.writeSize(t),t}}]),r}(ve);Qe.type="mdat",I.define(Qe.type,Qe);var $e=function(e){d()(r,e);var t=function(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var r,i=m()(e);if(t){var n=m()(this).constructor;r=Reflect.construct(i,arguments,n)}else r=i.apply(this,arguments);return p()(this,r)}}(r);function r(e,i){var n;return o()(this,r),(n=t.call(this,"mvex",e,i)).listBoxes=[],n}return l()(r,[{key:"parse",value:function(e,t){c()(m()(r.prototype),"parse",this).call(this,e,t)}},{key:"write",value:function(e,t){var i=c()(m()(r.prototype),"write",this).call(this,e,t);return t=i.position,t=i.writeSubBoxes(e,t),i.writeSize(t),t}}]),r}(ge);$e.type="mvex",I.define($e.type,$e);var et=function(e){d()(r,e);var t=function(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var r,i=m()(e);if(t){var n=m()(this).constructor;r=Reflect.construct(i,arguments,n)}else r=i.apply(this,arguments);return p()(this,r)}}(r);function r(e,i){return o()(this,r),t.call(this,"mehd",e,i)}return l()(r,[{key:"parse",value:function(e,t){if(t=c()(m()(r.prototype),"parse",this).call(this,e,t),1&this.flags&&(this.version=1),1==this.version){var i=$(e,t,!0);this.fragmentDuration=i.value,t=i.position}else{var n=J(e,t,!0);this.fragmentDuration=n.value,t=n.position}return t}},{key:"write",value:function(e,t){var i=c()(m()(r.prototype),"write",this).call(this,e,t);return t=i.position,i.writeSize(t),t}}]),r}(be);et.type="mehd",I.define(et.type,et);var tt=function(e){d()(r,e);var t=function(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var r,i=m()(e);if(t){var n=m()(this).constructor;r=Reflect.construct(i,arguments,n)}else r=i.apply(this,arguments);return p()(this,r)}}(r);function r(e,i){var n;return o()(this,r),(n=t.call(this,"trex",e,i)).trackId=null,n.defaultSampleDescriptionIndex=null,n.defaultSampleDuration=null,n.defaultSampleSize=null,n.defaultSampleFlags=null,n}return l()(r,[{key:"parse",value:function(e,t){t=c()(m()(r.prototype),"parse",this).call(this,e,t);var i=J(e,t,!0);return this.trackId=i.value,t=i.position,i=J(e,t,!0),this.defaultSampleDescriptionIndex=i.value,t=i.position,i=J(e,t,!0),this.defaultSampleDuration=i.value,t=i.position,i=J(e,t,!0),this.defaultSampleSize=i.value,t=i.position,i=J(e,t,!0),this.defaultSampleFlags=i.value,i.position}},{key:"write",value:function(e,t){var i=c()(m()(r.prototype),"write",this).call(this,e,t);return t=i.position,t=le(e,t,this.trackId),t=le(e,t,this.defaultSampleDescriptionIndex),t=le(e,t,this.defaultSampleDuration),t=le(e,t,this.defaultSampleSize),t=le(e,t,this.defaultSampleFlags),i.writeSize(t),t}}]),r}(be);tt.type="trex",I.define(tt.type,tt);var rt=function(e){d()(r,e);var t=function(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var r,i=m()(e);if(t){var n=m()(this).constructor;r=Reflect.construct(i,arguments,n)}else r=i.apply(this,arguments);return p()(this,r)}}(r);function r(e,i){var n;return o()(this,r),(n=t.call(this,"moof",e,i)).listBoxes=[],n}return l()(r,[{key:"parse",value:function(e,t){c()(m()(r.prototype),"parse",this).call(this,e,t)}},{key:"write",value:function(e,t){var i=c()(m()(r.prototype),"write",this).call(this,e,t);return t=i.position,t=i.writeSubBoxes(e,t),i.writeSize(t),t}},{key:"adjustDataOffset",value:function(e){this.traf&&this.traf.trun&&(this.traf.trun.dataOffset=this.size+8),le(e,this.dataOffsetPosition,this.dataOffset)}},{key:"dataOffset",get:function(){return this.traf&&this.traf.trun?this.traf.trun.dataOffset:0}},{key:"dataOffsetPosition",get:function(){return this.traf&&this.traf.trun?this.traf.trun.dataOffsetPosition:0}}]),r}(ge);rt.type="moof",I.define(rt.type,rt);var it=function(e){d()(r,e);var t=function(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var r,i=m()(e);if(t){var n=m()(this).constructor;r=Reflect.construct(i,arguments,n)}else r=i.apply(this,arguments);return p()(this,r)}}(r);function r(e,i){var n;return o()(this,r),(n=t.call(this,"mfhd",e,i)).sequenceNumber=0,n}return l()(r,[{key:"parse",value:function(e,t){t=c()(m()(r.prototype),"parse",this).call(this,e,t);var i=J(e,t,!0);return this.sequenceNumber=i.value,i.position}},{key:"write",value:function(e,t){var i=c()(m()(r.prototype),"write",this).call(this,e,t);return t=i.position,t=le(e,t,this.sequenceNumber),i.writeSize(t),t}}]),r}(be);it.type="mfhd",I.define(it.type,it);var nt=function(e){d()(r,e);var t=function(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var r,i=m()(e);if(t){var n=m()(this).constructor;r=Reflect.construct(i,arguments,n)}else r=i.apply(this,arguments);return p()(this,r)}}(r);function r(e,i){var n;return o()(this,r),(n=t.call(this,"traf",e,i)).listBoxes=[],n}return l()(r,[{key:"parse",value:function(e,t){c()(m()(r.prototype),"parse",this).call(this,e,t)}},{key:"write",value:function(e,t){var i=c()(m()(r.prototype),"write",this).call(this,e,t);return t=i.position,t=i.writeSubBoxes(e,t),i.writeSize(t),t}}]),r}(ge);nt.type="traf",I.define(nt.type,nt);var at=function(e){d()(r,e);var t=function(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var r,i=m()(e);if(t){var n=m()(this).constructor;r=Reflect.construct(i,arguments,n)}else r=i.apply(this,arguments);return p()(this,r)}}(r);function r(e,i){var n;return o()(this,r),(n=t.call(this,"tfhd",e,i)).trackId=0,n}return l()(r,[{key:"parse",value:function(e,t){}},{key:"write",value:function(e,t){var i=c()(m()(r.prototype),"write",this).call(this,e,t);return t=i.position,t=le(e,t,this.trackId),1&this.flags&&(t=ue(e,t,this.baseDataOffset)),2&this.flags&&(t=le(e,t,this.defaultSampleDescriptionIndex)),8&this.flags&&(t=le(e,t,this.defaultSampleDuration)),16&this.flags&&(t=le(e,t,this.defaultSampleSize)),32&this.flags&&(t=le(e,t,this.defaultSampleFlags)),i.writeSize(t),t}}]),r}(be);at.type="tfhd",I.define(at.type,at);var ot=function(e){d()(r,e);var t=function(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var r,i=m()(e);if(t){var n=m()(this).constructor;r=Reflect.construct(i,arguments,n)}else r=i.apply(this,arguments);return p()(this,r)}}(r);function r(e,i){return o()(this,r),t.call(this,"tfdt",e,i)}return l()(r,[{key:"parse",value:function(e,t){}},{key:"write",value:function(e,t){this.version=this.baseMediaDecodeTime>Math.pow(2,32)-1?1:0;var i=c()(m()(r.prototype),"write",this).call(this,e,t);return t=i.position,t=1===this.version?ue(e,t,this.baseMediaDecodeTime):le(e,t,this.baseMediaDecodeTime),i.writeSize(t),t}}]),r}(be);ot.type="tfdt",I.define(ot.type,ot);var st=function(e){d()(r,e);var t=function(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var r,i=m()(e);if(t){var n=m()(this).constructor;r=Reflect.construct(i,arguments,n)}else r=i.apply(this,arguments);return p()(this,r)}}(r);function r(e,i){var n;return o()(this,r),(n=t.call(this,"trun",e,i)).flags=0,n}return l()(r,[{key:"parse",value:function(e,t){}},{key:"write",value:function(e,t){var i=c()(m()(r.prototype),"write",this).call(this,e,t);t=i.position,t=le(e,t,this.sampleCount),1&this.flags&&(this.dataOffsetPosition=t,t=se(e,t,this.dataOffset)),4&this.flags&&(t=le(e,t,this.firstSampleFlags));for(var n=0;n<this.sampleCount;n++)256&this.flags&&(t=le(e,t,this.sampleDuration[n])),512&this.flags&&(t=le(e,t,this.sampleSize[n])),1024&this.flags&&(t=le(e,t,this.sampleFlags[n])),2048&this.flags&&(t=0===this.version?le(e,t,this.sampleCompositionTimeOffset[n]):se(e,t,this.sampleCompositionTimeOffset[n]));return i.writeSize(t),t}}]),r}(be);st.type="trun",I.define(st.type,st);var lt=function(e){d()(r,e);var t=function(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var r,i=m()(e);if(t){var n=m()(this).constructor;r=Reflect.construct(i,arguments,n)}else r=i.apply(this,arguments);return p()(this,r)}}(r);function r(e,i){return o()(this,r),t.call(this,"smhd",e,i)}return l()(r,[{key:"parse",value:function(e,t){if(r.skippable){var i=t;t=c()(m()(r.prototype),"parse",this).call(this,e,t);var n=re(e,t,this.size-8-(t-i));return this.data=n.value,n.position}t=c()(m()(r.prototype),"parse",this).call(this,e,t);var a=Y(e,t);return this.balance=a.value,a.position}},{key:"write",value:function(e,t){var i=c()(m()(r.prototype),"write",this).call(this,e,t);return t=i.position,this.data?t=fe(e,t,this.data):(t=ae(e,t,this.balance),t=K(t,2)),i.writeSize(t),t}}]),r}(be);lt.type="smhd",lt.skippable=!0,I.define(lt.type,lt);var ut=function(e){d()(r,e);var t=function(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var r,i=m()(e);if(t){var n=m()(this).constructor;r=Reflect.construct(i,arguments,n)}else r=i.apply(this,arguments);return p()(this,r)}}(r);function r(e,i,n){var a;return o()(this,r),(a=t.call(this)).type=e,a.size=i,a.offset=n,a}return l()(r,[{key:"parse",value:function(e,t){}},{key:"write",value:function(e,t){return t}}]),r}(R);var ct=function(e){d()(r,e);var t=function(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var r,i=m()(e);if(t){var n=m()(this).constructor;r=Reflect.construct(i,arguments,n)}else r=i.apply(this,arguments);return p()(this,r)}}(r);function r(e,i){return o()(this,r),t.call(this,r.type,e,i)}return l()(r,[{key:"parse",value:function(e,t){var r=Y(e,t);if(this.esId=r.value,t=r.position,r=W(e,t),this.flags=r.value,t=r.position,this.size-=3,128&this.flags?(r=Y(e,t),this.depEsId=r.value,t=r.position,this.size-=2):this.depEsId=0,64&this.flags){var i=W(e,t),n=i.value;t=i.position,i=te(e,t,n),this.URL=i.value,t=i.position,this.size-=n+1}else this.URL="";if(32&this.flags){var a=Y(e,t);this.ocrEsId=a.value,t=a.position,this.size-=2}else this.ocrEsId=0;return t}},{key:"write",value:function(e,t){return t}}]),r}(ut);ct.type=3..toString();var ft=ct;var dt=function(e){d()(r,e);var t=function(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var r,i=m()(e);if(t){var n=m()(this).constructor;r=Reflect.construct(i,arguments,n)}else r=i.apply(this,arguments);return p()(this,r)}}(r);function r(e,i){return o()(this,r),t.call(this,r.type,e,i)}return l()(r,[{key:"parse",value:function(e,t){var r=re(e,t,this.size);return this.data=r.value,r.position}},{key:"write",value:function(e,t){return t}}]),r}(ut);dt.type=5..toString();var ht=dt;var pt=function(e){d()(r,e);var t=function(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var r,i=m()(e);if(t){var n=m()(this).constructor;r=Reflect.construct(i,arguments,n)}else r=i.apply(this,arguments);return p()(this,r)}}(r);function r(e,i){return o()(this,r),t.call(this,r.type,e,i)}return l()(r,[{key:"parse",value:function(e,t){var r=W(e,t);return this.oti=r.value,t=r.position,r=W(e,t),this.streamType=r.value,t=r.position,r=X(e,t),this.bufferSize=r.value,t=r.position,r=J(e,t,!0),this.maxBitrate=r.value,t=r.position,r=J(e,t,!0),this.avgBitrate=r.value,t=r.position,this.size-=13,t}},{key:"write",value:function(e,t){return t}}]),r}(ut);pt.type=4..toString();var vt=pt;var mt=function(e){d()(r,e);var t=function(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var r,i=m()(e);if(t){var n=m()(this).constructor;r=Reflect.construct(i,arguments,n)}else r=i.apply(this,arguments);return p()(this,r)}}(r);function r(e,i){return o()(this,r),t.call(this,r.type,e,i)}return l()(r,[{key:"parse",value:function(e,t){var r=re(e,t,this.size);return this.data=r.value,r.position}},{key:"write",value:function(e,t){return t}}]),r}(ut);mt.type=6..toString();var gt=mt;var yt=function(e){d()(r,e);var t=function(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var r,i=m()(e);if(t){var n=m()(this).constructor;r=Reflect.construct(i,arguments,n)}else r=i.apply(this,arguments);return p()(this,r)}}(r);function r(e,i){var n;return o()(this,r),(n=t.call(this,"esds",e,i)).lastPosition=-1,n.boxes=[],n.boxDef={},n.boxDef[ft.type]=ft,n.boxDef[vt.type]=vt,n.boxDef[ht.type]=ht,n.boxDef[gt.type]=gt,n}return l()(r,[{key:"parseDesc",value:function(e,t){var r=0,i=W(e,t),n=i.value;t=i.position;var a=(i=W(e,t)).value;for(t=i.position;128&a;){r=(127&a)<<7;var o=W(e,t);a=o.value,t=o.position}return{size:r+=127&a,position:t,type:n+""}}},{key:"parse",value:function(e,t){t=c()(m()(r.prototype),"parse",this).call(this,e,t);var i=re(e,t,this.size-12);this.data=i.value,t=i.position;for(var n=new DataView(this.data.buffer),a=0;a<this.size-12;){var o=this.parseDesc(n,a);if(o){a=o.position;var s=o.type;if(!this.boxDef[s])break;var l=new this.boxDef[s](o.size,a);a=l.parse(n,a),this[s]=l,this.boxes.push(s)}}return t}},{key:"write",value:function(e,t){var i=c()(m()(r.prototype),"write",this).call(this,e,t);return t=i.position,this.data&&(t=fe(e,t,this.data)),i.writeSize(t),t}},{key:"getCodec",value:function(){var e=this[vt.type],t=this[ht.type],r=e?e.oti:0,i="";return t&&t.data&&31==(i=(248&t.data[0])>>3)&&t.data.length>=2&&(i=32+((7&t.data[0])<<3)+((224&t.data[1])>>5)),function(e,t){var r=Number(e).toString(16);for(t=null==t?t=2:t;r.length<t;)r="0"+r;return r}(r)+(i?"."+i:"")}}]),r}(be);yt.type="esds",I.define(yt.type,yt);var bt=function(e){d()(r,e);var t=function(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var r,i=m()(e);if(t){var n=m()(this).constructor;r=Reflect.construct(i,arguments,n)}else r=i.apply(this,arguments);return p()(this,r)}}(r);function r(e,i){return o()(this,r),t.call(this,"mp4a",e,i)}return l()(r,[{key:"parse",value:function(e,t){return c()(m()(r.prototype),"parse",this).call(this,e,t)}},{key:"write",value:function(e,t){return c()(m()(r.prototype),"write",this).call(this,e,t)}},{key:"getCodec",value:function(){var e=c()(m()(r.prototype),"getCodec",this).call(this);return this.esds?e+"."+this.esds.getCodec():e}}]),r}(function(e){d()(r,e);var t=function(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var r,i=m()(e);if(t){var n=m()(this).constructor;r=Reflect.construct(i,arguments,n)}else r=i.apply(this,arguments);return p()(this,r)}}(r);function r(e,i,n){return o()(this,r),t.call(this,e,i,n)}return l()(r,[{key:"parse",value:function(e,t){t=K(t,6);var i=Y(e,t);this.dataReferenceIndex=i.value,t=i.position,t=K(t,8),i=Y(e,t),this.channelCount=i.value,t=i.position,i=Y(e,t),this.sampleSize=i.value,t=i.position,t=K(t,4),i=J(e,t,!0),this.samplerate=i.value/65536,t=i.position,c()(m()(r.prototype),"parse",this).call(this,e,t)}},{key:"write",value:function(e,t){var i=c()(m()(r.prototype),"write",this).call(this,e,t);return t=i.position,t=K(t,6),t=ae(e,t,this.dataReferenceIndex),t=K(t,8),t=ae(e,t,this.channelCount),t=ae(e,t,this.sampleSize),t=K(t,4),t=le(e,t,this.samplerate<<16),t=i.writeSubBoxes(e,t),i.writeSize(t),t}},{key:"getCodec",value:function(){return this.type.replace(".","")}}]),r}(ge));bt.type="mp4a",I.define(bt.type,bt);var Et=function(e){d()(r,e);var t=function(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var r,i=m()(e);if(t){var n=m()(this).constructor;r=Reflect.construct(i,arguments,n)}else r=i.apply(this,arguments);return p()(this,r)}}(r);function r(e,i){return o()(this,r),t.call(this,"keys",e,i)}return l()(r,[{key:"parse",value:function(e,t){if(r.keepData){var i=re(e,t,this.size-8);this.data=i.value}}},{key:"write",value:function(e,t){var i=c()(m()(r.prototype),"write",this).call(this,e,t);return t=i.position,i.writeSize(t),t}}]),r}(ve);Et.type="keys",Et.keepData=!0,I.define(Et.type,Et);var Ct=function(e){d()(r,e);var t=function(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var r,i=m()(e);if(t){var n=m()(this).constructor;r=Reflect.construct(i,arguments,n)}else r=i.apply(this,arguments);return p()(this,r)}}(r);function r(e,i){return o()(this,r),t.call(this,"hvc1",e,i)}return l()(r,[{key:"parse",value:function(e,t){c()(m()(r.prototype),"parse",this).call(this,e,t)}},{key:"getCodec",value:function(){var e=c()(m()(r.prototype),"getCodec",this).call(this);if(this.hvcC){switch(e+=".",this.hvcC.generalProfileSpace){case 0:e+="";break;case 1:e+="A";break;case 2:e+="B";break;case 3:e+="C"}e+=this.hvcC.generalProfileIdc,e+=".";for(var t=this.hvcC.generalProfileCompatibility,i=0,n=0;n<32&&(i|=1&t,31!=n);n++)i<<=1,t>>=1;e+=pe(i,0),e+=".",0===this.hvcC.generalTierFlag?e+="L":e+="H",e+=this.hvcC.generalLevelIdc;for(var a=!1,o="",s=5;s>=0;s--)(this.hvcC.generalConstraintIndicator[s]||a)&&(o="."+pe(this.hvcC.generalConstraintIndicator[s],0)+o,a=!0);e+=o}return e}}]),r}(Fe);Ct.type="hvc1",I.define(Ct.type,Ct);var St=function(e){d()(r,e);var t=function(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var r,i=m()(e);if(t){var n=m()(this).constructor;r=Reflect.construct(i,arguments,n)}else r=i.apply(this,arguments);return p()(this,r)}}(r);function r(e,i){return o()(this,r),t.call(this,"hvcC",e,i)}return l()(r,[{key:"parse",value:function(e,t){if(r.skippable){var i,n=re(e,t,this.size-8);this.data=n.value,i=n.position,t=K(t,1);var a=(n=W(e,t)).value;return t=n.position,this.generalProfileSpace=a>>6,this.generalTierFlag=(32&a)>>5,this.generalProfileIdc=31&a,n=J(e,t,!0),this.generalProfileCompatibility=n.value,t=n.position,n=re(e,t,6),this.generalConstraintIndicator=n.value,t=n.position,n=W(e,t),this.generalLevelIdc=n.value,t=n.position,i}var o=W(e,t);this.configurationVersion=o.value,t=o.position;var s=(o=W(e,t)).value;t=o.position,this.generalProfileSpace=s>>6,this.generalTierFlag=(32&s)>>5,this.generalProfileIdc=31&s,o=J(e,t,!0),this.generalProfileCompatibility=o.value,t=o.position,o=re(e,t,6),this.generalConstraintIndicator=o.value,t=o.position,o=W(e,t),this.generalLevelIdc=o.value,t=o.position,o=Y(e,t),this.minSpatialSegmentationIdc=4095&o.value,t=o.position,o=W(e,t),this.parallelismType=3&o.value,t=o.position,o=W(e,t),this.chromaFormatIdc=3&o.value,t=o.position,o=W(e,t),this.bitDepthLumaMinus8=7&o.value,t=o.position,o=W(e,t),this.bitDepthChromaMinus8=7&o.value,t=o.position,o=Y(e,t),this.avgFrameRate=o.value,t=o.position,s=(o=W(e,t)).value,t=o.position,this.constantFrameRate=s>>6,this.numTemporalLayers=1&s,this.temporalIdNested=1&s,this.lengthSizeMinusOne=3&s,this.naluArrays=[];var l=(o=W(e,t)).value;t=o.position;for(var u=0;u<l;u++){var c=[];this.naluArrays.push(c),s=(o=W(e,t)).value,t=o.position,c.completeness=(128&s)>>7,c.naluType=63&s;var f=(o=Y(e,t)).value;t=o.position;for(var d=0;d<f;d++){var h={};c.push(h);var p=(o=Y(e,t)).value;t=o.position,o=re(e,t,p),h.data=o.value,t=o.position}}}},{key:"write",value:function(e,t){var i=c()(m()(r.prototype),"write",this).call(this,e,t);if(t=i.position,this.data)t=fe(e,t,this.data);else{t=ie(e,t,this.configurationVersion),t=ie(e,t,this.generalProfileSpace<<6|this.generalTierFlag<<5|this.generalProfileIdc),t=le(e,t,this.generalProfileCompatibility),t=fe(e,t,this.generalConstraintIndicator),t=ie(e,t,this.generalLevelIdc),t=ae(e,t,this.minSpatialSegmentationIdc+(15<<24)),t=ie(e,t,this.parallelismType+252),t=ie(e,t,this.chromaFormatIdc+252),t=ie(e,t,this.bitDepthLumaMinus8+248),t=ie(e,t,this.bitDepthChromaMinus8+248),t=ae(e,t,this.avgFrameRate),t=ie(e,t,(this.constantFrameRate<<6)+(this.numTemporalLayers<<3)+(this.temporalIdNested<<2)+this.lengthSizeMinusOne),t=ie(e,t,this.naluArrays.length);for(var n=0;n<this.naluArrays.length;n++){t=ie(e,t,(this.naluArrays[n].completeness<<7)+this.naluArrays[n].naluType),t=ae(e,t,this.naluArrays[n].length);for(var a=0;a<this.naluArrays[n].length;a++)t=ae(e,t,this.naluArrays[n][a].data.length),t=fe(e,t,this.naluArrays[n][a].data)}}return i.writeSize(t),t}}]),r}(ve);St.type="hvcC",St.skippable=!0,I.define(St.type,St);var wt=function(e){d()(r,e);var t=function(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var r,i=m()(e);if(t){var n=m()(this).constructor;r=Reflect.construct(i,arguments,n)}else r=i.apply(this,arguments);return p()(this,r)}}(r);function r(e,i){var n;return o()(this,r),(n=t.call(this,"colr",e,i)).unwritable=!0,n}return l()(r,[{key:"parse",value:function(e,t){var r=te(e,t,4);if(this.colourType=r.value,t=r.position,"nclx"===this.colourType){r=Y(e,t),this.colourPrimaries=r.value,t=r.position,r=Y(e,t),this.transferCharacteristics=r.value,t=r.position,r=Y(e,t),this.matrixCoefficients=r.value,t=r.position;var i=(r=W(e,t)).value;t=r.position,this.fullRangeFlag=i>>7}else"rICC"!==this.colourType&&"prof"!==this.colourType||(r=re(this.size-4),this.ICCProfile=r.value,t=r.position)}},{key:"write",value:function(e,t){var i=c()(m()(r.prototype),"write",this).call(this,e,t);return t=i.position,i.writeSize(t),t}}]),r}(ve);wt.type="colr",wt.keepData=!1,I.define(wt.type,wt);var Tt=function(e){d()(r,e);var t=function(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var r,i=m()(e);if(t){var n=m()(this).constructor;r=Reflect.construct(i,arguments,n)}else r=i.apply(this,arguments);return p()(this,r)}}(r);function r(e,i){return o()(this,r),t.call(this,"fiel",e,i)}return l()(r,[{key:"parse",value:function(e,t){var r=W(e,t);this.fieldCount=r.value,t=r.position,r=W(e,t),this.fieldOrdering=r.value,t=r.position}},{key:"write",value:function(e,t){var i=c()(m()(r.prototype),"write",this).call(this,e,t);return t=i.position,t=ie(e,t,this.fieldCount),t=ie(e,t,this.fieldOrdering),i.writeSize(t),t}}]),r}(ve);Tt.type="fiel",Tt.keepData=!1,I.define(Tt.type,Tt);var xt=function(e){d()(r,e);var t=function(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var r,i=m()(e);if(t){var n=m()(this).constructor;r=Reflect.construct(i,arguments,n)}else r=i.apply(this,arguments);return p()(this,r)}}(r);function r(){var e;return o()(this,r),e=t.call(this),x()(w()(e),"setPosition",(function(t){e.position=t})),x()(w()(e),"setEndPosition",(function(t){e.endPosition=t})),x()(w()(e),"_isEnoughForSize",(function(){return e.endPosition-e.position>=4})),x()(w()(e),"_isEnoughForType",(function(){return e.endPosition-e.position>=4})),x()(w()(e),"_isEnoughForBox",(function(t){return e.endPosition-e.position>=t})),x()(w()(e),"start",(function(){for(e.paused=!1;e.position<e.endPosition&&!e.moovReady&&(e.lastPosition=e.position,e._parse(),e.lastPosition!=e.position&&!e.paused););})),x()(w()(e),"updateBuffer",(function(t){e.dataView=new DataView(t),e.trigger("UPDATED",null)})),x()(w()(e),"_parse",(function(){var t=e.position;if(!e._isEnoughForSize())return e.paused=!0,e.trigger("PAUSED",{type:null,size:null,position:e.position}),!1;var r=J(e.dataView,e.position,!0),i=r.value;if(e.position=r.position,!e._isEnoughForType())return e.paused=!0,e.position=t,e.trigger("PAUSED",{type:null,size:i,position:e.position}),!1;var n=(r=te(e.dataView,e.position,4)).value;if(!e._isEnoughForBox(i))return e.paused=!0,e.position=t,e.trigger("PAUSED",{type:n,size:i,position:e.position}),!1;if(e.position=r.position,!I.isSupported(n))return e.position=t+i,{type:n,box:null,position:e.position};e.trigger("STARTED",{type:n,offset:t,size:i});var a=I.create(n,i,t);return a.on("SUB_BOX",(function(t){return e.position=t.position,e._parse()})),a.parse(e.dataView,e.position),e.position=t+i,e.trigger("ENDED",{type:n,offset:t,size:i,box:a}),"moov"==n?(e.moovReady=!0,!1):{type:n,box:a,position:e.position}})),x()(w()(e),"release",(function(){e.dataView=null,e.position=0,e.endPosition=0,e.lastPosition=-1,e.paused=!0,e.moovReady=!1})),e.dataView=null,e.position=0,e.endPosition=0,e.lastPosition=-1,e.paused=!0,e.moovReady=!1,e.events=["STARTED","PAUSED","ENDED","UPDATED"],e}return l()(r)}(R);var Rt=function(e){d()(r,e);var t=function(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var r,i=m()(e);if(t){var n=m()(this).constructor;r=Reflect.construct(i,arguments,n)}else r=i.apply(this,arguments);return p()(this,r)}}(r);function r(e){var i;return o()(this,r),i=t.call(this),x()(w()(i),"inputBuffer",(function(e){i.memory.inputBuffer(e)})),x()(w()(i),"release",(function(){i.boxParser.release()})),i.boxParser=new xt,i.boxParser.on("STARTED",(function(e){})),i.boxParser.on("PAUSED",(function(e){})),i.boxParser.on("ENDED",(function(e){var t=(e.type+"_READY").toUpperCase();i.trigger(t,e)})),i.boxParser.on("UPDATED",(function(e){i.boxParser.start()})),i.memory=e,i.memory.on("UPDATED",(function(e){i.boxParser.moovReady||(i.boxParser.setEndPosition(i.memory.endPosition),i.boxParser.updateBuffer(e))})),i.events=["MOOV_READY","FTYP_READY"],i}return l()(r)}(R);var Lt=function(e){d()(r,e);var t=function(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var r,i=m()(e);if(t){var n=m()(this).constructor;r=Reflect.construct(i,arguments,n)}else r=i.apply(this,arguments);return p()(this,r)}}(r);function r(e){var i;return o()(this,r),i=t.call(this),x()(w()(i),"initFromConf",(function(e){i.conf=e;var t=i.conf.getTracks(),r=i.conf.moov.mvhd;i.conf.moov.mvhd.duration=0;for(var n=i.conf.ftyp,a=0;a<t.length;a++){var o=t[a];o.resetForFMP4();var s=I.create("moov",0,0);s.addSubBox("mvhd",r),s.addSubBox("trak",[o]);var l=I.create("mvex",0,0),u=I.create("trex",0,0);u.trackId=o.id,u.defaultSampleDescriptionIndex=1,u.defaultSampleDuration=o.sampleDuration,u.defaultSampleSize=0,u.defaultSampleFlags=65536,l.addSubBox("trex",u),s.addSubBox("mvex",l),i.trigger("META_READY",{trackId:o.idString,buffer:i.createFmp4MoovBuffer(n,s)})}i.ready=!0})),x()(w()(i),"createFmp4MoovBuffer",(function(e,t){var r=i.memory.createBuffer(i.conf.fileSize),n=new DataView(r),a=0;return a=e.write(n,a),t.write(n,a),he(n.buffer,e.size+t.size)})),x()(w()(i),"getSample",(function(e,t){var r=e.samples[t];r.data||(r.data=new Uint8Array(r.size));var n=i.memory.endPosition-r.offset;return r.size>n?null:(Z(r.data.buffer,0,i.memory.buffer,r.offset-i.memory.startPosition,r.size),i.readLength+=r.size,e.samples[t].read=!0,r)})),x()(w()(i),"createMoof",(function(e){var t=I.create("moof",0,0),r=I.create("mfhd",0,0);t.addSubBox("mfhd",r),r.sequenceNumber=i.nextMoofIndex,i.nextMoofIndex++;var n=I.create("traf",0,0);t.addSubBox("traf",n);var a=I.create("tfhd",0,0);n.addSubBox("tfhd",a),a.trackId=e.trackId,a.flags=131072;var o=I.create("tfdt",0,0);n.addSubBox("tfdt",o),o.baseMediaDecodeTime=e.dts-0;var s=I.create("trun",0,0);return n.addSubBox("trun",s),s.flags=3841,s.dataOffset=0,s.firstSampleFlags=0,s.sampleCount=1,s.sampleDuration=[e.duration],s.sampleSize=[e.size],s.sampleFlags=[e.iFrame?1<<25:65536],s.sampleCompositionTimeOffset=[e.cts-e.dts],t})),x()(w()(i),"createFragment",(function(e,t,r,n){var a=i.getSample(e,t);if(!a)return n;var o=i.createMoof(a);n=o.write(r,n),i.moofSize=o.size,o.adjustDataOffset(r);var s=I.create("mdat",0,0);return s.data=a.data,s.write(r,n)})),x()(w()(i),"createFMP4",(function(e){for(var t=e.idString,r=e.name,n=0,a=i.memory.createBuffer(i.fragmentBufferSize),o=new DataView(a),s=!1;e.sampleIndex<e.samples.length;){0==i.moofSize&&(i.moofSize=e.samples[e.sampleIndex].size);var l=n+e.samples[e.sampleIndex].size+i.moofSize+i.mdatHeaderSize;if(l>=i.fragmentBufferSize){0==n&&(i.fragmentBufferSize=l),s=!0;break}var u=i.createFragment(e,e.sampleIndex,o,n);if((e.isVideo?i.videoPaused:i.audioPaused)||u==n){e.isVideo?i.videoPaused=!0:i.audioPaused=!0,i.trigger("PAUSED",{trackId:t,trackName:r,index:e.sampleIndex,timestamp:e.samples[e.sampleIndex].timestamp,offset:e.samples[e.sampleIndex].offset});break}n=u,e.sampleIndex++}if(0!=n&&!i.paused){var c=he(o.buffer,n);i.trigger("DATA_READY",{trackId:t,sampleIndex:e.sampleIndex,buffer:c,eos:e.sampleIndex==e.samples.length})}s&&i.createFMP4(e)})),x()(w()(i),"createVideoFMP4",(function(){return new Promise((function(e,t){var r=i.conf.getVideoTrack();setTimeout((function(){i.createFMP4(r),e()}))}))})),x()(w()(i),"createAudioFMP4",(function(){return new Promise((function(e,t){var r=i.conf.getAudioTrack();setTimeout((function(){i.createFMP4(r),e()}))}))})),x()(w()(i),"start",(function(){if(i.ready){var e=[];return i.paused=!1,i.videoPaused&&(i.videoPaused=!1,e.push(i.createVideoFMP4())),i.audioPaused&&(i.audioPaused=!1,e.push(i.createAudioFMP4())),Promise.all(e)}})),x()(w()(i),"pause",(function(){i.videoPaused=!0,i.audioPaused=!0,i.paused=!0})),x()(w()(i),"release",(function(){i.ready=!1,i.readLength=0,i.nextMoofIndex=0,i.moofSize=0,i.paused=!0,i.shouldStart=!1,i.videoPaused=!0,i.audioPaused=!0})),i.ready=!1,i.readLength=0,i.nextMoofIndex=0,i.paused=!0,i.shouldStart=!1,i.fragmentBufferSize=1048576,i.memory=e,i.moofSize=0,i.mdatHeaderSize=8,i.videoPaused=!0,i.audioPaused=!0,i.events=["META_READY","DATA_READY","PAUSED"],i}return l()(r)}(R);var kt=function(e){d()(r,e);var t=function(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var r,i=m()(e);if(t){var n=m()(this).constructor;r=Reflect.construct(i,arguments,n)}else r=i.apply(this,arguments);return p()(this,r)}}(r);function r(e){var i;return o()(this,r),i=t.call(this),x()(w()(i),"_initMediaSource",(function(){i.mediaSource=new MediaSource,i.el.src=window.URL.createObjectURL(i.mediaSource);var e=function(){window.URL.revokeObjectURL(i.el.src),i.shouldEos=!1,i.ready=!0,i.initSourceBuffer(),i.trigger("OPENED",null)};return i.mediaSource.addEventListener("sourceopen",e),i.mediaSource.addEventListener("sourceended",(function e(){i.ready=!1,i.trigger("ENDED",null),i.mediaSource.removeEventListener("sourceended",e)})),i.mediaSource.addEventListener("sourceclose",(function e(){i.ready=!1,i.trigger("CLOSED",null),i.mediaSource.removeEventListener("sourceclose",e)})),function(){i.el.pause(),i.checkSourceBufferReady()?i.mediaSource.endOfStream():i.shouldEos=!0,i.mediaSource.removeEventListener("sourceopen",e)}})),x()(w()(i),"init",(function(e){e&&(i.conf=e,i.initSourceBuffer())})),x()(w()(i),"initSourceBuffer",(function(){i.conf&&i.ready&&(i.mediaSource.duration=i.conf.duration,i.conf.getTracks().forEach((function(e,t){var r='video/mp4; codecs="'+e.codec+'"',n=e.idString;if(MediaSource.isTypeSupported(r)){var a=i.mediaSource.addSourceBuffer(r);a.addEventListener("abort",(function(e){})),a.addEventListener("update",(function(e){})),a.addEventListener("updatestart",(function(e){})),a.addEventListener("error",(function(e){})),a.addEventListener("updateend",(function(e){i.feedBuffer(n),i.trigger("UPDATED",{trackId:n}),a.bufferCompleteCount++,a.eosBufferIndex>=0&&a.eosBufferIndex==a.bufferCompleteCount&&(a.eos=!0,i.checkEndOfStream(n)),i.shouldEos&&i.checkSourceBufferReady()&&(i.mediaSource.endOfStream(),i.shouldEos=!1)})),a.bufferInputCount=0,a.bufferCompleteCount=0,a.eosBufferIndex=-1,a.eos=!1,i.sourceBuffers[n]=a,i.feedBuffer(n)}})))})),x()(w()(i),"checkEndOfStream",(function(){var e=!0;for(var t in i.sourceBuffers)e=e&&i.sourceBuffers[t].eos;e&&i.checkSourceBufferReady()&&i.mediaSource.endOfStream()})),x()(w()(i),"feedBuffer",(function(e){if(i.checkSourceBufferReady(e)&&i.hasPendingBuffer(e)){var t=i.inputBuffers[e].shift();i.sourceBuffers[e].appendBuffer(t.data),i.sourceBuffers[e].bufferInputCount++,t.eos&&(i.sourceBuffers[e].eosBufferIndex=i.sourceBuffers[e].bufferInputCount)}})),x()(w()(i),"hasPendingBuffer",(function(e){return i.inputBuffers[e]&&i.inputBuffers[e].length})),x()(w()(i),"checkSourceBufferReady",(function(e){var t=!0;if(e)t=i.sourceBuffers[e]&&!i.sourceBuffers[e].updating;else for(var r in i.sourceBuffers)t=t&&!i.sourceBuffers[r].updating;return i.msAvailable&&t})),x()(w()(i),"inputBuffer",(function(e,t,r){i.inputBuffers[e]||(i.inputBuffers[e]=[]),i.inputBuffers[e].push({data:t,eos:r}),i.feedBuffer(e)})),x()(w()(i),"inputMetaBuffer",(function(e,t){i.inputBuffer(e,t,!1)})),x()(w()(i),"inputDataBuffer",(function(e,t,r){i.inputBuffer(e,t,r)})),x()(w()(i),"start",(function(){return i.el.play()})),x()(w()(i),"stop",(function(){i.el.pause()})),x()(w()(i),"release",(function(){i._releaseMediaSource&&i._releaseMediaSource(),i._releaseMediaSource=i._initMediaSource(),i.conf=null,i.ready=!1,i.sourceBuffers={},i.inputBuffers={},i.bufferInputCount=0,i.bufferCompleteCount=0,i.eosBufferIndex=-1})),i.el=e,i.conf=null,i.ready=!1,i.sourceBuffers={},i.inputBuffers={},i.bufferInputCount=0,i.bufferCompleteCount=0,i.eosBufferIndex=-1,i.shouldEos=!1,i._releaseMediaSource=i._initMediaSource(),i.events=["OPENED","CLOSED","UPDATED"],i}return l()(r,[{key:"msAvailable",get:function(){return this.mediaSource&&"open"===this.mediaSource.readyState}}]),r}(R);var _t=function(e){d()(r,e);var t=function(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var r,i=m()(e);if(t){var n=m()(this).constructor;r=Reflect.construct(i,arguments,n)}else r=i.apply(this,arguments);return p()(this,r)}}(r);function r(){var e;return o()(this,r),e=t.call(this),x()(w()(e),"inputFTYP",(function(t){t&&t.box&&(e.ftyp=t.box)})),x()(w()(e),"inputMOOV",(function(t){t&&t.box&&(e.moov=t.box,e.getTracks().forEach((function(e){e.buildSamples()})),e.moov.timescale&&(e.duration=e.moov.duration/e.moov.timescale),e.fileSize&&e.duration&&(e.durationPerUnitSize=e.duration/(e.fileSize-e.metadataSize)),e.trigger("CONF_READY",w()(e)))})),x()(w()(e),"getTracks",(function(){return e.moov.trak})),x()(w()(e),"getTrack",(function(t){var r=e.moov.trak.filter((function(e){return e.name==t}));return r.length?r[0]:null})),x()(w()(e),"getVideoTrack",(function(){return e.getTrack("vide")})),x()(w()(e),"getAudioTrack",(function(){return e.getTrack("soun")})),x()(w()(e),"getISamples",(function(e){return e.samples.filter((function(e){return e.iFrame}))})),x()(w()(e),"getVideoISamples",(function(){var t=e.getVideoTrack();return e.getISamples(t)})),x()(w()(e),"getAudioISamples",(function(){var t=e.getAudioTrack();return e.getISamples(t)})),x()(w()(e),"getGopSize",(function(){var t=e.getGopOffsets();return t.length>=2?t[1]-t[0]:0})),x()(w()(e),"getGopOffsets",(function(){e.iVideoSamples.length||(e.iVideoSamples=e.getVideoISamples());for(var t=e.getAudioISamples(),r=e.iVideoSamples.map((function(e){return e.offset})),i=-1,n=[],a=1;a<e.iVideoSamples.length;a++){for(var o=e.iVideoSamples[a-1],s=e.iVideoSamples[a],l=o.dts/o.timescale,u=(s.dts+s.duration)/s.timescale,c=i,f=-1,d=i+1;d<t.length;d++){var h=t[d];c<0&&(h.dts/h.timescale<=l&&(c=d),c>=0&&n.push(t[c].offset)),(h.dts+h.duration)/h.timescale<=u&&(f=d)}f>=0&&(n.push(t[f].offset),i=f)}return r.map((function(e,t){return 0==t?Math.min(e,n[t]):Math.max(e,n[t])}))})),x()(w()(e),"release",(function(){e.ftyp=null,e.moov=null,e.fileSize=0,e.iVideoSamples=[]})),e.ftyp=null,e.moov=null,e.fileSize=0,e.duration=0,e.durationPerUnitSize=0,e.iVideoSamples=[],e.events=["CONF_READY"],e}return l()(r,[{key:"metadataSize",get:function(){return this.moov?this.moov.size:0}}]),r}(R);var At=function(e){d()(r,e);var t=function(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var r,i=m()(e);if(t){var n=m()(this).constructor;r=Reflect.construct(i,arguments,n)}else r=i.apply(this,arguments);return p()(this,r)}}(r);function r(){var e;return o()(this,r),e=t.call(this),x()(w()(e),"inputBuffer",(function(t){e.buffer?e.buffer=function(e,t){var r=new ArrayBuffer(e.byteLength+t.byteLength),i=new Uint8Array(r);return i.set(new Uint8Array(e),0),i.set(new Uint8Array(t),e.byteLength),r}(e.buffer,t.data):(e.buffer=t.data,e.offset=t.chunkOffset),e.trigger("UPDATED",e.buffer)})),x()(w()(e),"createBuffer",(function(e){return e=e||C.memory.defaultBufferSize,new ArrayBuffer(e)})),x()(w()(e),"release",(function(){e.buffer=null,e.offset=0})),e.buffer=null,e.offset=0,e.events=["UPDATED"],e}return l()(r,[{key:"startPosition",get:function(){return this.buffer?this.offset:0}},{key:"endPosition",get:function(){return this.buffer?this.offset+this.buffer.byteLength:0}}]),r}(R);var Dt,Ot=function(e){d()(r,e);var t=function(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var r,i=m()(e);if(t){var n=m()(this).constructor;r=Reflect.construct(i,arguments,n)}else r=i.apply(this,arguments);return p()(this,r)}}(r);function r(e){var i;return o()(this,r),i=t.call(this),x()(w()(i),"_stopBufferChecking",(function(){i.timeoutId&&(window.clearTimeout(i.timeoutId),i.timeoutId=null)})),x()(w()(i),"_startBufferChecking",(function(){i._eof||i.paused?i._stopBufferChecking():(i.isEnough?i.trigger("BUFFER_ENOUGH",null):i.trigger("BUFFER_UNENOUGH",null),i.timeoutId=window.setTimeout((function(){i._startBufferChecking()}),i._checkingInterval))})),i.el=e,i.timeoutId=null,i.paused=!0,i._eof=!1,i.rebufferCount=0,i._initEnoughTime=C.playback.bufferEnoughTime,i._enoughTime=C.playback.bufferEnoughTime,i._maxTime=C.playback.bufferMaxTime,i._checkingInterval=C.playback.bufferCheckingInterval,i.events=["BUFFER_ENOUGH","BUFFER_UNENOUGH"],i}return l()(r,[{key:"start",value:function(){this.paused=!1,this._startBufferChecking()}},{key:"stop",value:function(){this.paused=!0}},{key:"release",value:function(){this.stop(),this._stopBufferChecking(),this._eof=!1,this._enoughTime=this._initEnoughTime,this.rebufferCount=0}},{key:"enoughTime",set:function(e){e&&(this._initEnoughTime=e,this._enoughTime=e)}},{key:"maxTime",set:function(e){e&&(this._maxTime=e)}},{key:"checkingInterval",set:function(e){e&&(this._checkingInterval=e)}},{key:"countRebuffer",value:function(){this.rebufferCount++,this._enoughTime<this._maxTime&&(this._enoughTime+=.5)}},{key:"eof",set:function(e){this._eof=e,e&&this._stopBufferChecking()}},{key:"pendingBufferDuration",get:function(){for(var e=-1,t=0;t<this.el.buffered.length;t++){var r=this.el.buffered.start(t),i=this.el.buffered.end(t);if(this.el.currentTime>=r&&this.el.currentTime<i){e=i;break}}return e<0?0:e-this.el.currentTime}},{key:"isEnough",get:function(){return!!this._eof||this.pendingBufferDuration>=this._enoughTime}}]),r}(R),Pt=["onloadstart","DOWNLOADER_ERROR","DOWNLOADER_CHUNK_READY","MEMORY_COMPLETED"],It=new Uint8Array(16);function Mt(){if(!Dt&&!(Dt="undefined"!=typeof crypto&&crypto.getRandomValues&&crypto.getRandomValues.bind(crypto)||"undefined"!=typeof msCrypto&&"function"==typeof msCrypto.getRandomValues&&msCrypto.getRandomValues.bind(msCrypto)))throw new Error("crypto.getRandomValues() not supported. See https://github.com/uuidjs/uuid#getrandomvalues-not-supported");return Dt(It)}for(var Bt=/^(?:[0-9a-f]{8}-[0-9a-f]{4}-[1-5][0-9a-f]{3}-[89ab][0-9a-f]{3}-[0-9a-f]{12}|00000000-0000-0000-0000-000000000000)$/i,Ft=[],Nt=0;Nt<256;++Nt)Ft.push((Nt+256).toString(16).substr(1));var Ut=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,r=(Ft[e[t+0]]+Ft[e[t+1]]+Ft[e[t+2]]+Ft[e[t+3]]+"-"+Ft[e[t+4]]+Ft[e[t+5]]+"-"+Ft[e[t+6]]+Ft[e[t+7]]+"-"+Ft[e[t+8]]+Ft[e[t+9]]+"-"+Ft[e[t+10]]+Ft[e[t+11]]+Ft[e[t+12]]+Ft[e[t+13]]+Ft[e[t+14]]+Ft[e[t+15]]).toLowerCase();if(!function(e){return"string"==typeof e&&Bt.test(e)}(r))throw TypeError("Stringified UUID is invalid");return r},jt=function(e,t,r){var i=(e=e||{}).random||(e.rng||Mt)();if(i[6]=15&i[6]|64,i[8]=63&i[8]|128,t){r=r||0;for(var n=0;n<16;++n)t[r+n]=i[n];return t}return Ut(i)};var Ht=function(e){d()(r,e);var t=function(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var r,i=m()(e);if(t){var n=m()(this).constructor;r=Reflect.construct(i,arguments,n)}else r=i.apply(this,arguments);return p()(this,r)}}(r);function r(){var e,i,n,a,s,l;return o()(this,r),(l=t.call(this)).indexedDB="undefined"==typeof window?null:(null===(e=window)||void 0===e?void 0:e.indexedDB)||(null===(i=window)||void 0===i?void 0:i.webkitIndexedDB)||(null===(n=window)||void 0===n?void 0:n.mozIndexedDB)||(null===(a=window)||void 0===a?void 0:a.OIndexedDB)||(null===(s=window)||void 0===s?void 0:s.msIndexedDB),l.request=null,l.db=null,l.store=null,l}return l()(r,[{key:"init",value:function(){var e=this;return this.indexedDB?new Promise((function(t,r){var i=e.indexedDB.open(e.dbName,e.dbVersion);i.onsuccess=function(r){e.db=r.target.result,t()},i.onerror=function(e){r()},i.onupgradeneeded=function(t){e.store=t.currentTarget.result.createObjectStore(e.dbStoreName)}})):null}},{key:"setData",value:function(e,t){var r=this;return new Promise((function(i,n){r.db||n();var a=r.db.transaction(r.dbStoreName,"readwrite").objectStore(r.dbStoreName).put(t,e);a.onsuccess=function(){i()},a.onerror=function(){n()}}))}},{key:"getData",value:function(e){var t=this;return new Promise((function(r,i){t.db||i();var n=t.db.transaction(t.dbStoreName,"readonly").objectStore(t.dbStoreName).get(e);n.onsuccess=function(e){var t=e.target.result;r(t)},n.onerror=function(){i()}}))}},{key:"hasData",value:function(e){var t=this;return new Promise((function(r,i){t.db||i();var n=t.db.transaction(t.dbStoreName,"readonly").objectStore(t.dbStoreName).getKey(e);n.onsuccess=function(e){var t=e.target.result;r(t)},n.onerror=function(){i()}}))}},{key:"clearData",value:function(){var e=this;return new Promise((function(t,r){e.db||r();var i=e.db.transaction(e.dbStoreName,"readwrite").objectStore(e.dbStoreName).clear();i.onsuccess=function(e){t()},i.onerror=function(){r()}}))}}]),r}(function(e){d()(r,e);var t=function(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var r,i=m()(e);if(t){var n=m()(this).constructor;r=Reflect.construct(i,arguments,n)}else r=i.apply(this,arguments);return p()(this,r)}}(r);function r(){var e;return o()(this,r),(e=t.call(this)).dbName="tiktok",e.dbVersion=1,e.dbStoreName="playback",e}return l()(r,[{key:"init",value:function(){}},{key:"setData",value:function(e,t){}},{key:"getData",value:function(e){}},{key:"clearData",value:function(){}}]),r}(R));var Vt=new(function(e){d()(r,e);var t=function(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var r,i=m()(e);if(t){var n=m()(this).constructor;r=Reflect.construct(i,arguments,n)}else r=i.apply(this,arguments);return p()(this,r)}}(r);function r(){var e;return o()(this,r),(e=t.call(this)).impl=new Ht,e.readyPromise=e.impl.init(),e}return l()(r,[{key:"save",value:function(e,t){var r=this;if(this.readyPromise)return this.readyPromise.then((function(){return r.impl.setData(e,t)}))}},{key:"export",value:function(e){var t=this;if(this.readyPromise)return this.readyPromise.then((function(){return t.impl.getData(e)}))}},{key:"check",value:function(e){var t=this;if(this.readyPromise)return this.readyPromise.then((function(){return t.impl.hasData(e)}))}},{key:"clear",value:function(){var e=this;if(this.readyPromise)return this.readyPromise.then((function(){return e.impl.clearData()}))}}]),r}(R));var Gt=function(e){d()(u,e);var t,r,i,a,s=function(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var r,i=m()(e);if(t){var n=m()(this).constructor;r=Reflect.construct(i,arguments,n)}else r=i.apply(this,arguments);return p()(this,r)}}(u);function u(e){var t;return o()(this,u),(t=s.call(this,"Stream",e,Pt)).id=jt(),t._initMemory(),t._initEvents(),t._initConf(),t._initDownloader(),t._initDemuxer(),t._initRemuxer(),t._initBuffer(),t._initMSE(),t}return l()(u,[{key:"_initMemory",value:function(){var e=this;this.memory=new At,this.memory.on("UPDATED",function(){var t=n()(y.a.mark((function t(r){return y.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:e.downloader.eof&&e.eventManager.trigger("MEMORY_COMPLETED",r);case 1:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}())}},{key:"_initEvents",value:function(){var e=this;c()(m()(u.prototype),"_initEvents",this).call(this),this.eventManager.proxy("onwaiting",(function(t){e.buffer.countRebuffer(),e.downloader.loading||e.downloader.eof||e.downloader.resume()})),this.eventManager.proxy("onplay",(function(t){e.buffer.start()})),this.eventManager.proxy("onpause",(function(t){e.buffer.stop()}))}},{key:"_initMSE",value:function(){var e=this;this.mse=new kt(this.el),this.mse.on("OPENED",(function(){})),this.mse.on("CLOSED",(function(){})),this.mse.on("UPDATED",(function(t){e.buffer.isEnough&&e.downloader.pause()}))}},{key:"_initConf",value:function(){var e=this;this.conf=new _t,this.conf.on("CONF_READY",(function(t){e.mse.init(t),e.remuxer.initFromConf(t)}))}},{key:"_initBuffer",value:function(){var e=this;this.buffer=new Ot(this.el),this.config.bufferEnoughTime&&(this.bufferEnoughTime=this.config.bufferEnoughTime),this.config.bufferMaxTime&&(this.buffer.maxTime=this.config.bufferMaxTime),this.config.bufferCheckingInterval&&(this.buffer.checkingInterval=this.config.bufferCheckingInterval),this.buffer.on("BUFFER_UNENOUGH",(function(){e.el.playbackRate=.9,e.downloader.resume()})),this.buffer.on("BUFFER_ENOUGH",(function(){e.el.playbackRate=1,e.downloader.pause()}))}},{key:"_initDemuxer",value:function(){var e=this;this.demuxer=new Rt(this.memory),this.demuxer.on("FTYP_READY",(function(t){e.conf.inputFTYP(t)})),this.demuxer.on("MOOV_READY",(function(t){e.conf.inputMOOV(t),e.downloader.switchToCommonSize()}))}},{key:"_initRemuxer",value:function(){var e=this;this.remuxer=new Lt(this.memory),this.remuxer.on("META_READY",(function(t){e.mse.inputMetaBuffer(t.trackId,t.buffer),e.remuxer.start()})),this.remuxer.on("DATA_READY",(function(t){e.mse.inputDataBuffer(t.trackId,t.buffer,t.eos)})),this.remuxer.on("PAUSED",(function(e){}))}},{key:"_initDownloader",value:function(){var e=this;this.downloader=new P({withCredentials:this.config.withCredentials}),this.metaChunkSize=Math.ceil(this.config.metaChunkSize||C.playback.metaChunkSize),this.dataChunkSize=Math.ceil(this.config.dataChunkSize||C.playback.dataChunkSize),this.downloader.on("FILE_SIZE",(function(t){e.conf.fileSize=t})),this.downloader.on("CHUNK_READY",(function(t){e.demuxer.inputBuffer(t),e.remuxer.start(),e.eventManager.trigger("DOWNLOADER_CHUNK_READY",{chunkSize:t.chunkSize,networkDuration:t.networkDuration})})),this.downloader.on("EOF",(function(){e.buffer.eof=!0})),this.downloader.on("ERROR",(function(t){e.eventManager.trigger("DOWNLOADER_ERROR",t)}))}},{key:"loadFromLocal",value:(a=n()(y.a.mark((function e(t){var r,i;return y.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Vt.check(t);case 2:if(!(r=e.sent)){e.next=8;break}return e.next=6,Vt.export(t);case 6:i=e.sent,this.loadFromBuffer(i);case 8:return e.abrupt("return",!!r);case 9:case"end":return e.stop()}}),e,this)}))),function(e){return a.apply(this,arguments)})},{key:"loadFromBuffer",value:function(e){this.release(),this.demuxer.inputBuffer({chunkOffset:0,data:e}),this.remuxer.start(),this.eventManager.trigger("onloadstart",{target:this.el,type:"loadstart"})}},{key:"saveToLocal",value:(i=n()(y.a.mark((function e(t,r){return y.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Vt.save(t,r);case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)}))),function(e,t){return i.apply(this,arguments)})},{key:"exportFromLocal",value:(r=n()(y.a.mark((function e(t){return y.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Vt.export(t);case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)}))),function(e){return r.apply(this,arguments)})},{key:"load",value:(t=n()(y.a.mark((function e(t){return y.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(this.downloader){e.next=2;break}return e.abrupt("return");case 2:if(this.downloader.url!=t){e.next=4;break}return e.abrupt("return");case 4:this.release(),this.downloader.url=t,this.eventManager.trigger("onloadstart",{target:this.el,type:"loadstart"}),this.downloader.start();case 8:case"end":return e.stop()}}),e,this)}))),function(e){return t.apply(this,arguments)})},{key:"pause",value:function(){this.mse.stop()}},{key:"release",value:function(){c()(m()(u.prototype),"release",this).call(this),this.downloader.release(),this.demuxer.release(),this.remuxer.release(),this.mse.release(),this.conf.release(),this.memory.release(),this.buffer.release()}},{key:"metaChunkSize",set:function(e){this.downloader.initChunkSize=e}},{key:"dataChunkSize",set:function(e){this.downloader.commonChunkSize=e}},{key:"bufferEnoughTime",set:function(e){this.buffer.enoughTime=e}},{key:"element",get:function(){return this.el}},{key:"data",get:function(){return this.memory.buffer}}]),u}(O);Gt.storage=Vt;var zt=Gt,Zt=[];var Kt=function(e){d()(r,e);var t=function(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var r,i=m()(e);if(t){var n=m()(this).constructor;r=Reflect.construct(i,arguments,n)}else r=i.apply(this,arguments);return p()(this,r)}}(r);function r(e){var i;return o()(this,r),(i=t.call(this,"Basic",e,Zt))._initEvents(),i}return l()(r,[{key:"_initEvents",value:function(){c()(m()(r.prototype),"_initEvents",this).call(this)}}]),r}(O)}])}}]);