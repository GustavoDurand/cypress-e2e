"use strict";(self.__LOADABLE_LOADED_CHUNKS__=self.__LOADABLE_LOADED_CHUNKS__||[]).push([[8921],{60465:(e,t,n)=>{n.d(t,{PW:()=>_,mO:()=>c,ue:()=>h});var s=n(71030),i=n(43226),o=n.n(i),a=n(31738),l=n(12187);const d={currentIndex:0};function r(){const e={swiper:null,setSwiper(t){e.swiper=t},_handleSlideChangeStart:o(),_handleSlideChangeEnd:o(),_handleTransitionEnd:o(),_handleSlideChange:o(),_handleSliderMove:o(),_handleActiveIndexChange:o(),handleSlideChangeStart(...t){e._handleSlideChangeStart(...t)},handleSlideChangeEnd(...t){e._handleSlideChangeEnd(...t)},handleTransitionEnd(){e._handleTransitionEnd()},handleSlideChange(){e._handleSlideChange()},handleSliderMove(){e._handleSliderMove()},handleActiveIndexChange(...t){e._handleActiveIndexChange(...t)},bindHandleSlideChangeStart(t){e._handleSlideChangeStart=t},bindHandleSlideChangeEnd(t){e._handleSlideChangeEnd=t},bindHandleTransitionEnd(t){e._handleTransitionEnd=t},bindHandleSlideChange(t){e._handleSlideChange=t},bindHandleSliderMove(t){e._handleSliderMove=t},bindHandleActiveIndexChange(t){e._handleActiveIndexChange=t},setCurrentIndex:o(),state:d};return e}const h=(0,a.createContext)(r()),c=(0,a.createContext)(d),_=e=>{const[t,n]=(0,l.E)(d),i=(0,a.useRef)(r()),o=(0,a.useRef)(!0);return o.current&&(i.current.setCurrentIndex=e=>n(Object.assign(Object.assign({},t),{currentIndex:e})),o.current=!1),(0,s.jsx)(h.Provider,Object.assign({value:i.current},{children:(0,s.jsx)(c.Provider,Object.assign({value:t},{children:e.children}),void 0)}),void 0)}},12187:(e,t,n)=>{n.d(t,{E:()=>a});var s=n(31223),i=n.n(s),o=n(31738);function a(e){const t=(0,o.useRef)(e),[n,s]=(0,o.useState)(e);return[n,(0,o.useCallback)((e=>{let n;n="function"==typeof e?e(t.current):e,i()(t.current,n)||s(n),t.current=n}),[])]}},88921:(e,t,n)=>{n.d(t,{nb:()=>O,Cb:()=>A,XD:()=>j,wk:()=>D,zG:()=>I});var s=n(4934),i=n(80824),o=n(31738),a=n(66441),l=n(15137),d=n(30036),r=n(66943),h=n(10915),c=n(77518),_=n(61030),v=n(99074),u=n(40362),p=n(33147),g=n(14901),k=n(60465),S=n(71030),m=n(42373);function C(e){return o.createElement("svg",(0,m.g)({fill:"currentColor"},e,{viewBox:"0 0 72 72",xmlns:"http://www.w3.org/2000/svg",width:"1em",height:"1em",className:e.className}),o.createElement("path",{d:"M29.75 27.75a6.25 6.25 0 1 1 12.5 0v3.13h1.88c1.72 0 3.12 1.4 3.12 3.12v8.13c0 1.72-1.4 3.12-3.13 3.12H27.89a3.12 3.12 0 0 1-3.13-3.13V34c0-1.73 1.4-3.13 3.13-3.13h1.87v-3.12Zm10 0a3.75 3.75 0 1 0-7.5 0v3.13h7.5v-3.13Zm-11.88 5.63a.62.62 0 0 0-.62.62v8.13c0 .34.28.62.63.62h16.25c.34 0 .62-.28.62-.63V34a.62.62 0 0 0-.63-.63H27.89Z"}),o.createElement("path",{d:"M8.31 11.07C6.31 39.7 13.78 61.24 36 68.6c22.22-7.36 29.69-28.89 27.69-57.53C50.96 10.36 36 1.4 36 1.4s-14.96 8.96-27.69 9.67ZM43.96 8.5c4.78 2.08 11 4.33 17.11 5.1.68 13.07-.76 24.3-4.67 33.08-3.98 8.94-10.55 15.48-20.4 18.98-9.85-3.5-16.42-10.04-20.4-18.98-3.9-8.79-5.35-20-4.67-33.08 6.1-.77 12.33-3.02 17.1-5.1A98.57 98.57 0 0 0 36 4.59l1.24.67c1.65.87 3.98 2.05 6.72 3.25Z"}))}(0,n(77035).$)(C);var w,y,M=n(10426),b=n(13578),f=n(45586);!function(e){e[e.Reported=1]="Reported",e[e.Dislike=2]="Dislike",e[e.General=3]="General",e[e.Photosensitive=4]="Photosensitive"}(w||(w={})),function(e){e.GeneralSensitive="general",e.PhotoSensitive="photosensitive",e.PhotoSensitiveDenied="photosensitive_denied",e.M3AgeRestricted="m3_age_restricted"}(y||(y={}));const P={general:"masklayer_general_title",photosensitive:"photosensitive_settings_title",photosensitive_denied:"photosensitive_masklayer_removed",m3_age_restricted:"cc_webapp_age_video_details_title"},B={general:["masklayer_general_body"],photosensitive:["photosensitive_masklayer_body1","photosensitive_masklayer_body2"],photosensitive_denied:["photosensitive_masklayer_removed_body1","photosensitive_masklayer_removed_body2"],m3_age_restricted:["cc_webapp_age_video_details_body"]},x={general:"masklayer_general_skip",photosensitive:"photosensitive_masklayer_watch",photosensitive_denied:""},E={general:"masklayer_general_watch",photosensitive:"photosensitive_masklayer_skipall",photosensitive_denied:""},L={general:(0,S.jsx)(M.Z,{width:36,height:36,fill:"rgba(255, 255, 255, .75)"},void 0),photosensitive:(0,S.jsx)(b.Z,{width:32,height:32,fill:"#fff"},void 0),photosensitive_denied:(0,S.jsx)(f.Z,{width:48,height:48,fill:"#0BE09B"},void 0),m3_age_restricted:(0,S.jsx)(C,{fontSize:72,color:"rgba(255, 255, 255, 0.34)"},void 0)},I=e=>{var t,n;const h=(0,d.Q)(),{user:c}=null!==(t=(0,l.Lh)((()=>["user"]),[]))&&void 0!==t?t:{},_=(()=>{var e,t;const{photoSensitiveVideosSetting:n,loginStatePhotoSensitiveVideosSetting:s}=(0,i.mp)(a.P,{selector:e=>({photoSensitiveVideosSetting:e.photoSensitiveVideosSetting,loginStatePhotoSensitiveVideosSetting:e.loginStatePhotoSensitiveVideosSetting}),dependencies:[]}),{user:o}=null!==(e=(0,l.Lh)((()=>["user"]),[]))&&void 0!==e?e:{};return o?void 0===s?null!==(t=null==o?void 0:o.photoSensitiveVideosSetting)&&void 0!==t?t:0:s:null!=n?n:0})(),v=(0,i.mp)(a.P,{selector:e=>e.hasClosedVideoMask,dependencies:[]}),u=null===(n=e.item)||void 0===n?void 0:n.isContentClassified,p=(0,s.u)();return(0,o.useMemo)((()=>{const{item:t}=e,{maskType:n,author:s}=(0,r.m7)(t),i=c&&(null==c?void 0:c.uniqueId)===s;if(!(u||!v&&(3===n||4===n&&2!==_&&!i||4===n&&0===_&&i)))return{showVideoMask:!1};let o,a={};return u?(o="m3_age_restricted",a={backgroundColor:p.colors.ConstBGInverse}):o=3===n?"general":1===_?"photosensitive_denied":"photosensitive",{showVideoMask:!0,videoMaskType:o,videoMaskTitle:h(P[o]),videoMaskDesc:h(B[o][0]),icon:L[o],upperBtnText:h(x[o]),lowerBtnText:h(E[o]),maskStyle:a}}),[e,c,u,v,_,h,p.colors.ConstBGInverse])},D=e=>{var t,n;const{item:s,list:r=[],onClose:h}=e,{length:c}=r,_=(0,d.Q)(),p=(0,o.useContext)(k.ue),g=(0,o.useContext)(k.mO),S=(0,i.qj)(a.P),{user:m}=null!==(t=(0,l.Lh)((()=>["user"]),[]))&&void 0!==t?t:{},{currentIndex:C}=g,w=null!==(n=r[C])&&void 0!==n?n:"",y=I({item:s}),{videoMaskType:M}=y,b=(0,o.useCallback)((()=>{"photosensitive"===M&&S.setSkipPhotoSensitive({skip:!1,hasLogin:Boolean(m)}),S.setHasClosedMask(!0),v.W.handleMaskLayerClickWatch({scenario:M,group_id:w})}),[w,S,M,m]),f=(0,o.useCallback)((()=>{var e,t;"photosensitive"===M&&S.setSkipPhotoSensitive({skip:!0,hasLogin:Boolean(m)}),v.W.handleMaskLayerClickSkip({scenario:M,group_id:w}),u.h.destroy(),u.h.open({content:_("photosensitive_skepped_toast"),duration:3}),C<c-1?null===(e=p.swiper)||void 0===e||e.slideNext():C>0?null===(t=p.swiper)||void 0===t||t.slidePrev():null==h||h()}),[C,w,c,h,p.swiper,_,S,M,m]),P=(0,o.useCallback)((()=>{"photosensitive"===M?b():f()}),[f,b,M]),B=(0,o.useCallback)((()=>{"photosensitive"===M?f():b()}),[M,f,b]);return(0,o.useEffect)((()=>{S.setHasClosedMask(!1)}),[C]),Object.assign(Object.assign({},y),{handleUpperBtnClick:P,handleLowerBtnClick:B,handleSkipVideo:f,groupId:w})},j=({itemOriginalMute:e=!1,itemCopyrightMute:t=!1,playMode:n=0})=>{const{showPlayBtn:s,showUnMuteBtn:o}=(0,i.mp)(g._,{selector:e=>({showPlayBtn:e.showPlayBtn,showUnMuteBtn:!t&&e.showUnMuteBtn}),dependencies:[t]}),{mobileDefaultMute:a}=(0,i.mp)(p.$);return{muted:a||e,showUnMuteBtn:o,showPlayBtn:s||2===n}},A=()=>{const[{bottomModalCtaShowing:e},t]=(0,i.b7)(g._),[{mobileDefaultMute:n,forcePause:s},a]=(0,i.b7)(p.$),l=(0,o.useRef)(e),{isSmartPlayer:d}=(0,h.Zp)();(0,o.useEffect)((()=>{d||(l.current&&!e?(t.setShowPlayBtn(!1),t.setShowUnmuteBtn(!1),a.setMobileDefaultMute(!1),a.setForcePause(!1),a.setCanRetry(!1)):!l.current&&e?(t.setShowUnmuteBtn(!1),t.setShowPlayBtn(!1),a.setForcePause(!0)):s?a.setMobileDefaultMute(!1):t.setShowUnmuteBtn(n),l.current=e)}),[e,n,a,t,s])},O=()=>{const e=(0,i.qj)(p.$);(0,o.useEffect)((()=>{!(0,c.St)(_.vN)||e.setCanRetry(!0)}),[])}},99074:(e,t,n)=>{n.d(t,{W:()=>a});var s,i,o=n(69208);!function(e){e.RemovePhotosensitiveStatus="tns_remove_photosensitive_status",e.ShowMaskLayer="tns_show_mask_layer",e.ShowPhotosensitiveRemoved="tns_show_photosensitive_removed",e.MaskLayerClickSkip="tns_mask_layer_click_skip",e.MaskLayerClickWatch="tns_mask_layer_click_watch",e.CCMaskShow="cc_mask_show",e.ClickLogInCCMask="click_log_in_cc_mask"}(s||(s={})),function(e){e.General="general",e.Photosensitive="photosensitive",e.LoggedOut="logged_out",e.AgeRestriction="age_restriction"}(i||(i={}));const a={handleRemovePhotosensitiveStatus:e=>{o.W.event("tns_remove_photosensitive_status",{status:e})},handleShowMaskLayer:e=>{o.W.event("tns_show_mask_layer",e)},handleShowPhotosensitiveRemoved:e=>{o.W.event("tns_show_photosensitive_removed",e)},handleMaskLayerClickSkip:e=>{o.W.event("tns_mask_layer_click_skip",e)},handleMaskLayerClickWatch:e=>{o.W.event("tns_mask_layer_click_watch",e)},handleCCMaskShow:e=>{o.W.event("cc_mask_show",e)},handleClickLogInCCMask:e=>{o.W.event("click_log_in_cc_mask",e)}}}}]);